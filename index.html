<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="description" content="HRBP ì—…ë¬´ ìŠ¤íƒ€ì¼ ì§„ë‹¨ í…ŒìŠ¤íŠ¸ â€” 22ë¬¸í•­ìœ¼ë¡œ ì•Œì•„ë³´ëŠ” ë‚˜ì˜ HRBP ìœ í˜•, í”Œë ˆì´ë²„, ê³¼ì—… ì í•©ë„, íŒ€ ì¡°í•© ë¶„ì„">
<meta property="og:title" content="ë‚˜ëŠ” ì–´ë–¤ HRBPì¼ê¹Œ?">
<meta property="og:description" content="HRBP ì—…ë¬´ ìŠ¤íƒ€ì¼ ì§„ë‹¨ Â· 22ë¬¸í•­ Â· ì•½ 5ë¶„ Â· 36ê°€ì§€ í”„ë¡œí•„">
<title>ë‚˜ëŠ” ì–´ë–¤ HRBPì¼ê¹Œ?</title>
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Pretendard',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:linear-gradient(160deg,#FAFBFF 0%,#F0EDFF 40%,#E8F4FD 70%,#FFF5F2 100%);min-height:100vh;color:#1A1A2E}
.wrap{display:flex;flex-direction:column;align-items:center;padding:20px;min-height:100vh}
.container{max-width:540px;width:100%}
.card{background:#fff;border-radius:20px;padding:24px;box-shadow:0 4px 20px rgba(0,0,0,.05);margin-bottom:16px}
.card-bordered{border:2px solid var(--c)}
.sec-title{font-size:13px;font-weight:700;color:#9CA3AF;letter-spacing:.5px;margin-bottom:14px;text-transform:uppercase}
.tag{font-size:13px;padding:7px 12px;border-radius:10px;display:inline-block;margin:0 6px 6px 0}
.tag-green{background:#F0FDF4;color:#166534;border:1px solid #BBF7D0}
.tag-red{background:#FEF2F2;color:#991B1B;border:1px solid #FECACA}
.btn{width:100%;padding:16px;font-size:15px;font-weight:700;border:none;border-radius:14px;cursor:pointer;transition:all .2s;font-family:inherit}
.btn-primary{color:#fff;background:linear-gradient(135deg,#6C5CE7,#0984E3);box-shadow:0 4px 16px rgba(108,92,231,.3)}
.btn-secondary{color:#6C5CE7;background:#fff;border:2px solid #E5E7EB}
.btn:active{transform:scale(.98)}
.input{width:100%;padding:12px 14px;font-size:14px;border:2px solid #E5E7EB;border-radius:12px;outline:none;font-family:inherit;transition:border .2s}
.input:focus{border-color:#6C5CE7}
.fade-in{opacity:0;transform:translateY(16px);animation:fadeUp .6s cubic-bezier(.16,1,.3,1) forwards}
@keyframes fadeUp{to{opacity:1;transform:translateY(0)}}
.hidden{display:none!important}

/* Chart */
.chart-wrap{position:relative;width:100%;padding-bottom:100%;max-width:300px;margin:0 auto;background:#F9FAFB;border-radius:16px;overflow:hidden}
.chart-wrap .axis-h{position:absolute;top:50%;left:0;right:0;height:1px;background:#E5E7EB}
.chart-wrap .axis-v{position:absolute;left:50%;top:0;bottom:0;width:1px;background:#E5E7EB}
.chart-label{position:absolute;font-size:10px;font-weight:600;color:#9CA3AF}
.chart-quad{position:absolute;font-size:10px;font-weight:600;text-align:center;opacity:.4}
.dot{position:absolute;transform:translate(-50%,-50%);z-index:10;display:flex;flex-direction:column;align-items:center}
.dot-circle{width:14px;height:14px;border-radius:50%}
.dot-name{font-size:9px;font-weight:700;margin-top:3px;background:#fff;padding:1px 5px;border-radius:4px;box-shadow:0 1px 4px rgba(0,0,0,.1);white-space:nowrap}

/* Scale buttons */
.scale-row{display:flex;align-items:center;justify-content:center;gap:0;padding:12px 0}
.scale-btn{border-radius:50%;border:3px solid #E5E7EB;cursor:pointer;transition:all .15s;background:#F3F4F6;flex-shrink:0}
.scale-btn:hover{transform:scale(1.1)}
.scale-btn.selected{transform:scale(1.15)}
.scale-label{font-size:10px;margin-top:6px;color:#9CA3AF;text-align:center;font-weight:400}
.scale-col{display:flex;flex-direction:column;align-items:center;flex:1}

/* Toast & Spinner */
@keyframes spin{to{transform:rotate(360deg)}}
.spinner{width:24px;height:24px;border:3px solid #E5E7EB;border-top-color:#6C5CE7;border-radius:50%;animation:spin .8s linear infinite;display:inline-block}
#toast{font-family:'Pretendard',sans-serif}

/* Responsive */
@media(max-width:400px){.card{padding:18px}.container{padding:0 4px}}
</style>
</head>
<body>
<div class="wrap">
<div class="container" id="app"></div>
</div>

<script>
/* ===== DATA ===== */
const QUESTIONS = [
  // SE axis (Strategy- / Execution+)
  {axis:"SE",rev:false,text:"ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ê°€ ì‹œì‘ëì„ ë•Œ, ë‚˜ëŠ” ë¨¼ì €...",a:"ì´ í”„ë¡œì íŠ¸ì˜ ë°©í–¥ê³¼ ëª©ì ë¶€í„° ì •ë¦¬í•œë‹¤",b:"ì‹¤í–‰ ê³„íšê³¼ ì¼ì •ë¶€í„° ì§ ë‹¤"},
  {axis:"SE",rev:false,text:"ë‹´ë‹¹ ì¡°ì§ì—ì„œ ê°‘ìê¸° ì´ìŠˆê°€ í„°ì¡Œì„ ë•Œ...",a:"ê·¼ë³¸ ì›ì¸ê³¼ êµ¬ì¡°ì  ë¬¸ì œë¥¼ ë¨¼ì € íŒŒì•…í•œë‹¤",b:"ë‹¹ì¥ í•´ê²° ê°€ëŠ¥í•œ ê²ƒë¶€í„° ë¹ ë¥´ê²Œ ì²˜ë¦¬í•œë‹¤"},
  {axis:"SE",rev:true,text:"íŒ€ íšŒì˜ì—ì„œ ë” ì§‘ì¤‘í•˜ê²Œ ë˜ëŠ” ì•ˆê±´ì€?",a:"ì´ë²ˆ ì£¼ ê°ì í•  ì¼ê³¼ ì§„í–‰ ìƒí™© ì²´í¬",b:"ìš°ë¦¬ íŒ€ì˜ ì¤‘ì¥ê¸° ë°©í–¥ì„±ê³¼ ì—­í•  ë…¼ì˜"},
  {axis:"SE",rev:false,text:"'ì˜¤ëŠ˜ ì¼ì„ ì˜ í–ˆë‹¤'ê³  ëŠë¼ëŠ” ìˆœê°„ì€?",a:"ìƒˆë¡œìš´ ê´€ì ì´ë‚˜ í•´ê²° í”„ë ˆì„ì„ ì œì‹œí–ˆì„ ë•Œ",b:"ê³„íší•œ ì¼ì„ ì°¨ì§ˆ ì—†ì´ ë§ˆë¬´ë¦¬í–ˆì„ ë•Œ"},
  {axis:"SE",rev:true,text:"ë³´ê³ ì„œë¥¼ ì“¸ ë•Œ ë¨¼ì € ì†ì´ ê°€ëŠ” ê±´?",a:"ë°ì´í„° ìˆ˜ì§‘ê³¼ íŒ©íŠ¸ ì •ë¦¬ë¶€í„°",b:"ì „ì²´ ë©”ì‹œì§€ì™€ ìŠ¤í† ë¦¬ë¼ì¸ êµ¬ì„±ë¶€í„°"},
  {axis:"SE",rev:false,text:"ìƒì‚¬ì—ê²Œ ë³´ê³ í•  ë•Œ ë” ìì—°ìŠ¤ëŸ¬ìš´ ë°©ì‹ì€?",a:"'ì™œ(Why)' ì´ê±¸ í•´ì•¼ í•˜ëŠ”ì§€ ë§¥ë½ ì¤‘ì‹¬ìœ¼ë¡œ",b:"'ë¬´ì—‡(What)'ì„ í–ˆê³  ì–´ë””ê¹Œì§€ ëëŠ”ì§€ ì¤‘ì‹¬ìœ¼ë¡œ"},
  {axis:"SE",rev:true,text:"ì—…ë¬´ ê´€ë ¨ ì„¸ë¯¸ë‚˜ë¥¼ ê³ ë¥¸ë‹¤ë©´?",a:"ì‹¤ë¬´ ë…¸í•˜ìš°, ìµœì‹  íˆ´ í™œìš©ë²•",b:"ê²½ì˜ ì „ëµ, ì¡°ì§ ì„¤ê³„ íŠ¸ë Œë“œ"},
  {axis:"SE",rev:false,text:"í›„ë°°ê°€ ê³ ë¯¼ ìƒë‹´ì„ í•˜ë©´ ì£¼ë¡œ í•´ì£¼ëŠ” ë§ì€?",a:"í•œ ë°œ ë¬¼ëŸ¬ì„œì„œ í° ê·¸ë¦¼ì„ ë¨¼ì € ê·¸ë ¤ë´",b:"ì¼ë‹¨ í•  ìˆ˜ ìˆëŠ” ê²ƒë¶€í„° í•˜ë‚˜ì”© ì‹œì‘í•´ë´"},
  // PT axis (People- / Task+)
  {axis:"PT",rev:false,text:"BP ì—­í• ì—ì„œ ê°€ì¥ ë³´ëŒì„ ëŠë¼ëŠ” ìˆœê°„ì€?",a:"êµ¬ì„±ì›ì´ ì„±ì¥í•˜ê±°ë‚˜ ì¡°ì§ ë¶„ìœ„ê¸°ê°€ ì¢‹ì•„ì§ˆ ë•Œ",b:"í”„ë¡œì„¸ìŠ¤ê°€ ê°œì„ ë˜ê³  íš¨ìœ¨ì´ ëˆˆì— ë„ê²Œ ì˜¬ë¼ê°ˆ ë•Œ"},
  {axis:"PT",rev:true,text:"ì¡°ì§ ë³€í™”ë¥¼ ì¶”ì§„í•  ë•Œ ë¨¼ì € í•˜ëŠ” ê²ƒì€?",a:"ë³€í™”ì˜ í•„ìš”ì„±ê³¼ ë…¼ë¦¬ì  ê·¼ê±°ë¥¼ ì •ë¦¬í•œë‹¤",b:"êµ¬ì„±ì›ë“¤ì´ ì–´ë–»ê²Œ ë°›ì•„ë“¤ì¼ì§€ ë°˜ì‘ì„ ì‚´í•€ë‹¤"},
  {axis:"PT",rev:false,text:"ì±„ìš© ë©´ì ‘ì—ì„œ ë” ì‹ ê²½ ì“°ì´ëŠ” ê±´?",a:"ì´ ì‚¬ëŒì´ ìš°ë¦¬ íŒ€ê³¼ ì˜ ì–´ìš¸ë¦´ ìˆ˜ ìˆì„ì§€",b:"ì´ ì‚¬ëŒì´ ì‹¤ì œ ì—…ë¬´ë¥¼ ì˜ í•´ë‚¼ ìˆ˜ ìˆì„ì§€"},
  {axis:"PT",rev:false,text:"í˜„ì—… ë¦¬ë”ì™€ ë¯¸íŒ…í•  ë•Œ ë‚˜ëŠ”...",a:"ë¦¬ë”ì˜ ê³ ë¯¼ê³¼ ë§¥ë½ì„ ë¨¼ì € ì¶©ë¶„íˆ ë“£ëŠ”ë‹¤",b:"ë°ì´í„°ì™€ í˜„í™©ì„ ë¨¼ì € ê³µìœ í•˜ê³  ë…¼ì˜ë¥¼ ì‹œì‘í•œë‹¤"},
  {axis:"PT",rev:true,text:"ì—…ë¬´ ì¤‘ ê°€ì¥ ì˜ë¯¸ìˆê²Œ ëŠë¼ëŠ” ì‹œê°„ì€?",a:"í˜¼ì ì§‘ì¤‘í•´ì„œ ì—…ë¬´ë¥¼ ê¹Šì´ ì²˜ë¦¬í•˜ëŠ” ì‹œê°„",b:"ì‚¬ëŒë“¤ê³¼ ëŒ€í™”í•˜ë©° ê´€ê³„ë¥¼ ìŒ“ëŠ” ì‹œê°„"},
  {axis:"PT",rev:false,text:"ë™ë£Œê°€ ì—…ë¬´ë¡œ í˜ë“¤ì–´í•  ë•Œ ë‚˜ëŠ”...",a:"ë¨¼ì € ë‹¤ê°€ê°€ì„œ ì´ì•¼ê¸°ë¥¼ ë“¤ì–´ì¤€ë‹¤",b:"ë„ì›€ì´ ë  ë§Œí•œ í•´ê²°ì±…ì´ë‚˜ ìë£Œë¥¼ ì°¾ì•„ì¤€ë‹¤"},
  {axis:"PT",rev:true,text:"í”„ë¡œì íŠ¸ ì„±ê³µì˜ í•µì‹¬ì€ ë¬´ì—‡ì´ë¼ê³  ìƒê°í•´?",a:"ì²´ê³„ì ì¸ í”„ë¡œì„¸ìŠ¤ì™€ ëª…í™•í•œ ê¸°ì¤€",b:"êµ¬ì„±ì›ë“¤ì˜ ëª°ì…ê³¼ ë™ê¸°ë¶€ì—¬"},
  {axis:"PT",rev:false,text:"íŒ€ì—ì„œ ë‚´ ì—­í• ì´ ì¸ì •ë°›ì„ ë•Œ ë” ë¿Œë“¯í•œ ê±´?",a:"ì‚¬ëŒë“¤ì´ ë‚˜ë¥¼ ë¯¿ê³  ì˜ì§€í•  ë•Œ",b:"ë‚´ê°€ ë§Œë“  ê²°ê³¼ë¬¼ì´ë‚˜ ì‹œìŠ¤í…œì´ ì˜ ì‘ë™í•  ë•Œ"},
];

const STRENGTH_QUESTIONS = [
  // CS axis: ë³€í™”(Change, a=-) â†” ì•ˆì •(Stability, b=+)
  {axis:"CS",text:"ì¡°ì§ì— ìƒˆë¡œìš´ ë³€í™”ê°€ í•„ìš”í•˜ë‹¤ëŠ” ì´ì•¼ê¸°ê°€ ë‚˜ì™”ì„ ë•Œ, ë‚˜ëŠ”...",
    a:"ë¨¼ì € ë³€í™”ì˜ ê°€ëŠ¥ì„±ì— ì„¤ë ˆê³ , ìƒˆë¡œìš´ ë°©ë²•ì„ ì‹œë„í•˜ê³  ì‹¶ì–´ì§„ë‹¤",
    b:"ë³€í™”ì˜ ë¦¬ìŠ¤í¬ë¥¼ ë¨¼ì € ë”°ì§€ê³ , ê¸°ì¡´ì— ì˜ ë˜ê³  ìˆëŠ” ê²ƒì„ ì§€í‚¤ê³  ì‹¶ë‹¤"},
  {axis:"CS",text:"ìƒˆë¡œìš´ HR íŠ¸ë Œë“œë‚˜ íˆ´ì´ ë“±ì¥í–ˆì„ ë•Œ?",
    a:"ì¼ë‹¨ ì¨ë³´ê³  ì‹¶ë‹¤ â€” ì§ì ‘ í•´ë´ì•¼ ê°ì´ ì˜¤ë‹ˆê¹Œ",
    b:"ê²€ì¦ëœ ì‚¬ë¡€ë¥¼ ë¨¼ì € í™•ì¸í•œë‹¤ â€” ê´œíˆ ë°”ê¿¨ë‹¤ê°€ í˜¼ë€ë§Œ ìƒê¸¸ ìˆ˜ ìˆìœ¼ë‹ˆê¹Œ"},
  {axis:"CS",text:"ë‚´ê°€ ë” í¸í•œ ì—…ë¬´ í™˜ê²½ì€?",
    a:"ë§¤ë²ˆ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸, ìƒˆë¡œìš´ ë„ì „ì´ ìˆëŠ” í™˜ê²½",
    b:"ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³ , ì•ˆì •ì ìœ¼ë¡œ ì„±ê³¼ë¥¼ ìŒ“ì„ ìˆ˜ ìˆëŠ” í™˜ê²½"},
  // DI axis: ë°ì´í„°(Data, a=-) â†” ì§ê´€(Intuition, b=+)
  {axis:"DI",text:"ì¤‘ìš”í•œ ì˜ì‚¬ê²°ì •ì„ í•´ì•¼ í•  ë•Œ, ë‚˜ëŠ” ì£¼ë¡œ...",
    a:"ê´€ë ¨ ë°ì´í„°ì™€ ìˆ˜ì¹˜ë¥¼ ë¨¼ì € í™•ì¸í•˜ê³  ê·¼ê±°ë¥¼ ë§Œë“ ë‹¤",
    b:"ê²½í—˜ê³¼ ì§ê´€ìœ¼ë¡œ ë°©í–¥ì„ ì¡ê³ , í•„ìš”í•˜ë©´ ë°ì´í„°ë¥¼ ë³´ì™„í•œë‹¤"},
  {axis:"DI",text:"íŒ€ì—ì„œ 'ì´ ì‚¬ëŒ ê³§ í‡´ì‚¬í•  ê²ƒ ê°™ë‹¤'ëŠ” ì´ì•¼ê¸°ê°€ ë‚˜ì™”ì„ ë•Œ?",
    a:"í‡´ì§ë¥  ë°ì´í„°, ë§Œì¡±ë„ ì„œë² ì´ ê²°ê³¼ë¶€í„° í™•ì¸í•œë‹¤",
    b:"í‰ì†Œ ê·¸ ì‚¬ëŒì˜ í‘œì •, íƒœë„ ë³€í™”ë¥¼ ë– ì˜¬ë¦¬ë©° ê°ì„ ì¡ëŠ”ë‹¤"},
  {axis:"DI",text:"ê²½ì˜ì§„ì—ê²Œ HR ì´ë‹ˆì…”í‹°ë¸Œë¥¼ ì œì•ˆí•  ë•Œ, ë” ìì—°ìŠ¤ëŸ¬ìš´ ê±´?",
    a:"ìˆ˜ì¹˜ì™€ ë²¤ì¹˜ë§ˆí¬ ë°ì´í„°ë¡œ ë…¼ë¦¬ì ìœ¼ë¡œ ì„¤ë“í•œë‹¤",
    b:"í˜„ì¥ ìŠ¤í† ë¦¬ì™€ ì‚¬ë¡€ë¡œ ê³µê°ì„ ì´ëŒì–´ë‚´ë©° ì„¤ë“í•œë‹¤"},
];

const T = {
  architect:{name:"ì¡°ì§ ì„¤ê³„ì",emoji:"ğŸ›ï¸",code:"A",
    subtitle:"í° ê·¸ë¦¼ì„ ê·¸ë¦¬ë©° ì‚¬ëŒì˜ ë§ˆìŒì„ ì›€ì§ì´ëŠ” BP",
    color:"#6C5CE7",colorLight:"#A29BFE",colorBg:"#F3F0FF",
    coreNeed:"'ì´ ì¼ì´ ì™œ í•„ìš”í•œì§€' ë‚©ë“ì´ ë˜ì–´ì•¼ ì›€ì§ì¼ ìˆ˜ ìˆì–´ìš”. ë°©í–¥ì´ ëª…í™•í•´ì•¼ ì—ë„ˆì§€ê°€ ë‚˜ê³ , ê·¸ ë°©í–¥ì— ì‚¬ëŒì´ ë¹ ì ¸ ìˆìœ¼ë©´ ì°ì°í•´ìš”.",
    desc:"íšŒì˜ ì¤‘ì— ê°‘ìê¸° 'ì ê¹, ê·¼ë³¸ì ìœ¼ë¡œ ì´ê²Œ ì™œ í•„ìš”í•˜ì£ ?'ë¼ê³  ëŠëŠ” ì‚¬ëŒ. ë‹¤ë“¤ ì‹¤í–‰ ì´ì•¼ê¸°ë¥¼ í•˜ê³  ìˆëŠ”ë° í˜¼ì ë°©í–¥ì„±ì„ ë˜ì§šê³  ìˆë‹¤ë©´, ì´ ìœ í˜•ì´ì—ìš”.\n\nì¡°ì§ ê°œí¸ì•ˆì„ ë°›ìœ¼ë©´ êµ¬ì¡°ë„ë¶€í„° ë³´ëŠ” ê²Œ ì•„ë‹ˆë¼, 'ì´ ë³€í™”ë¡œ êµ¬ì„±ì›ë“¤ì´ ë­˜ ëŠë¼ê²Œ ë ê¹Œ?'ë¥¼ ë¨¼ì € ìƒê°í•´ìš”. ì „ëµì ìœ¼ë¡œ ì‚¬ê³ í•˜ë©´ì„œë„ í•­ìƒ ì‚¬ëŒì„ ì¤‘ì‹¬ì— ë‘ëŠ” â€” Whyì™€ Whoë¥¼ ë™ì‹œì— ë¶™ì¡ìœ¼ë ¤ëŠ” ì‚¬ëŒì´ì—ìš”.",
    painPoint:"ë§¥ë½ ì—†ì´ ë–¨ì–´ì§€ëŠ” ì§€ì‹œ. 'ê·¸ëƒ¥ í•´'ë¼ëŠ” ë§ì„ ë“¤ìœ¼ë©´ ì†ì—ì„œ ë­”ê°€ ì˜¬ë¼ì™€ìš”. ê·¸ë¦¬ê³  ê³µë“¤ì—¬ ë§Œë“  ë°©í–¥ì„±ì´ ì‹¤í–‰ë„ ì•ˆ í•´ë³´ê³  ë’¤ì§‘í ë•Œ â€” ê·¸ë•Œ ì§„ì§œ í˜ë“¤ì–´ìš”.",
    flavor:{
      "C-D-":"ìƒˆë¡œìš´ ë³€í™”ë¥¼ ë°ì´í„°ë¡œ ì„¤ê³„í•˜ëŠ” 'í˜ì‹  ì„¤ê³„ì'. ì¡°ì§ ë³€í™”ë¥¼ ì£¼ë„í•˜ë©´ì„œë„ ê·¼ê±° ê¸°ë°˜ìœ¼ë¡œ ì ‘ê·¼í•´ìš”.",
      "C-D+":"ì§ê´€ê³¼ ë¹„ì „ìœ¼ë¡œ ë³€í™”ë¥¼ ì´ë„ëŠ” 'ë¹„ì „ ì•„í‚¤í…íŠ¸'. ìƒˆë¡œìš´ ê°€ëŠ¥ì„±ì„ ë¹ ë¥´ê²Œ í¬ì°©í•˜ê³ , ìŠ¤í† ë¦¬ë¡œ ë³€í™”ë¥¼ ë§Œë“¤ì–´ìš”.",
      "C+D-":"ì•ˆì •ì  ê¸°ë°˜ ìœ„ì—ì„œ ì „ëµì„ ë‹¤ë“¬ëŠ” 'ì‹ ì¤‘í•œ ì„¤ê³„ì'. ê²€ì¦ëœ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì ì§„ì  ê°œì„ ì„ ì„¤ê³„í•´ìš”.",
      "C+D+":"ê²½í—˜ê³¼ ê´€ê³„ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì¡°ì§ì„ ëŒë³´ëŠ” 'ì¡°ì§ ìˆ˜í˜¸ì'. ì˜¤ëœ ê²½í—˜ì—ì„œ ë‚˜ì˜¤ëŠ” ì§ê´€ìœ¼ë¡œ ì‚¬ëŒê³¼ ë°©í–¥ì„ ë™ì‹œì— ì±™ê²¨ìš”."
    },
    keywords:["ë°©í–¥ì„± ì„¤ì •","ë³€í™” ê´€ë¦¬","ì´í•´ê´€ê³„ì ì„¤ë“","ì¡°ì§ ì„¤ê³„","ë¹„ì „ ìˆ˜ë¦½"],
    energyUp:["ì±„ìš© ë¸Œëœë”© ì „ëµ ê¸°íš","ì¡°ì§ë¬¸í™” ì§„ë‹¨ ë° ê°œì„  ì„¤ê³„","ë¦¬ë” ì½”ì¹­Â·ì´í•´ê´€ê³„ì ì„¤ë“","ì¸ì¬ ìœ¡ì„± ë¡œë“œë§µ ìˆ˜ë¦½","ì¡°ì§ ê°œí¸Â·ë³€í™” ê´€ë¦¬ ì„¤ê³„"],
    energyDown:["ë°˜ë³µì ì¸ ì„œë¥˜ ì²˜ë¦¬Â·ë°ì´í„° ì…ë ¥","ë‹¨ìˆœ ì¼ì • ì¡°ìœ¨Â·í–‰ì • ì—…ë¬´","ì •í•´ì§„ í‹€ëŒ€ë¡œë§Œ ì‹¤í–‰í•˜ëŠ” ìš´ì˜ ì—…ë¬´","ë””í…Œì¼í•œ ìˆ«ì ê²€ì¦Â·ë¦¬í¬íŠ¸ í¬ë§·íŒ…"],
    manual:{
      request:"ì¼ì˜ ë°°ê²½ê³¼ 'ì™œ ì´ê±¸ í•´ì•¼ í•˜ëŠ”ì§€'ë¥¼ ë¨¼ì € ì„¤ëª…í•´ì£¼ì„¸ìš”. ì˜ë¯¸ë¥¼ ëŠê»´ì•¼ ì—ë„ˆì§€ê°€ ë‚˜ëŠ” íƒ€ì…ì´ì—ìš”.",
      feedback:"ë°©í–¥ì„±ì— ëŒ€í•œ í”¼ë“œë°±ì„ ë¨¼ì € ì£¼ê³ , ë””í…Œì¼ì€ ê·¸ ë‹¤ìŒì— ì´ì•¼ê¸°í•´ì£¼ì„¸ìš”.",
      avoid:"ë§¥ë½ ì—†ì´ 'ì´ê±° í•´ì£¼ì„¸ìš”'ë¼ê³ ë§Œ ë˜ì§€ê¸°. ì‹¤í–‰ ë””í…Œì¼ë¶€í„° ì§€ì í•˜ê¸°.",
      stress:"íšŒì˜ì—ì„œ ì ì  ë” ì¶”ìƒì ì¸ ì´ì•¼ê¸°ë§Œ í•˜ê³ , ì‹¤í–‰ ë…¼ì˜ë¥¼ ê³„ì† ë¯¸ë£¨ê¸° ì‹œì‘í•´ìš”.",
      overload:"ì¡°ìš©íˆ ìƒê°ì„ ì •ë¦¬í•  ì‹œê°„ì„ ì£¼ê³ , ì‹ ë¢°í•˜ëŠ” ì‚¬ëŒê³¼ 1:1ë¡œ ê³ ë¯¼ì„ ë‚˜ëˆŒ ìˆ˜ ìˆê²Œ í•´ì£¼ì„¸ìš”. í° ê·¸ë¦¼ì„ ë‹¤ì‹œ ê·¸ë¦´ ìˆ˜ ìˆìœ¼ë©´ íšŒë³µë¼ìš”."
    },
    bestMatch:"driver",bestMatchShort:"ì‹¤í–‰ ë“œë¼ì´ë²„ ğŸš€",bestReason:"ì„¤ê³„ìì˜ ë°©í–¥ ì œì‹œ + ë“œë¼ì´ë²„ì˜ ì¶”ì§„ë ¥ â†’ 'ê¸°íšâ†’ì‹¤í–‰'ì´ ë§¤ë„ëŸ½ê²Œ ì´ì–´ì ¸ìš”.",
    tensionMatch:"builder",tensionMatchShort:"ì „ëµ ê³¼ì—…ê°€ âš™ï¸",tensionReason:"ë‘˜ ë‹¤ ì „ëµì ì´ì§€ë§Œ, ì‚¬ëŒ vs ê³¼ì—… ê´€ì  ì°¨ì´ë¡œ ìš°ì„ ìˆœìœ„ ì¶©ëŒ ê°€ëŠ¥. ì„œë¡œì˜ ê´€ì ì„ 'ë³´ì™„'ìœ¼ë¡œ ì¸ì •í•˜ë©´ ìµœê°• ì¡°í•©."
  },
  builder:{name:"ì „ëµ ê³¼ì—…ê°€",emoji:"âš™ï¸",code:"B",
    subtitle:"ì „ëµì  ì‚¬ê³ ë¡œ ê³¼ì—…ì˜ êµ¬ì¡°ì™€ ê¸°ì¤€ì„ ì„¤ê³„í•˜ëŠ” BP",
    color:"#0984E3",colorLight:"#74B9FF",colorBg:"#EBF5FF",
    coreNeed:"'ì™œ í•˜ëŠ”ì§€'ì™€ 'ì–´ë–»ê²Œ í•´ì•¼ í•˜ëŠ”ì§€'ê°€ ëª¨ë‘ ëª…í™•í•´ì•¼ ì›€ì§ì—¬ìš”. ë°©í–¥ ì—†ëŠ” ì‹¤í–‰ë„, ê¸°ì¤€ ì—†ëŠ” ì „ëµë„ ë¶ˆì•ˆí•´ìš”.",
    desc:"'ì´ê±° ì™œ í•˜ëŠ” ê±°ì˜ˆìš”?'ë¡œ ì‹œì‘í•´ì„œ 'ê·¸ëŸ¼ ê¸°ì¤€ì€ ë­ì˜ˆìš”?'ë¡œ ëë‚˜ëŠ” ì‚¬ëŒ. í° ê·¸ë¦¼ì„ ë³´ëŠ” ëŠ¥ë ¥ê³¼ ê³¼ì—…ì„ ì •êµí•˜ê²Œ ë‹¤ë“¬ëŠ” ëŠ¥ë ¥ì„ ë™ì‹œì— ê°€ì§€ê³  ìˆì–´ìš”.\n\nì „ëµì„ ì„¸ìš¸ ë•Œ ì‚¬ëŒì˜ ê°ì •ë³´ë‹¤ëŠ” ë…¼ë¦¬ì™€ êµ¬ì¡°ê°€ ë¨¼ì € ë– ì˜¤ë¥´ê³ , ê·¸ë˜ì„œ ì œë„ë‚˜ í”„ë¡œì„¸ìŠ¤ë¥¼ ì„¤ê³„í•  ë•Œ ë¹›ë‚˜ëŠ” íƒ€ì…ì´ì—ìš”. 'ì™œ(Why)'ì™€ 'ì–´ë–»ê²Œ(How)'ë¥¼ ì—°ê²°í•˜ëŠ” ë‹¤ë¦¬ë¥¼ ë†“ëŠ” ì‚¬ëŒ.",
    painPoint:"ê·¼ê±° ì—†ì´ ë°©í–¥ì´ ë°”ë€ŒëŠ” ê²ƒ. 'ì–´ì œëŠ” Aë¼ë”ë‹ˆ ì˜¤ëŠ˜ì€ B?'ê°€ ë°˜ë³µë˜ë©´ ì˜ìš•ì´ ëš ë–¨ì–´ì ¸ìš”. ê·¸ë¦¬ê³  ê³µë“¤ì—¬ ë§Œë“  ì²´ê³„ë¥¼ ì•„ë¬´ë„ ì•ˆ ì“¸ ë•Œ â€” ê·¸ í—ˆë¬´í•¨ì€ ì¢€ í½ë‹ˆë‹¤.",
    flavor:{
      "C-D-":"ë³€í™”ë¥¼ ë°ì´í„°ë¡œ ì„¤ê³„í•˜ëŠ” 'í˜ì‹  ì—”ì§€ë‹ˆì–´'. ìƒˆë¡œìš´ ì œë„ë¥¼ ë„ì…í•  ë•Œ ìˆ˜ì¹˜ ê·¼ê±°ë¥¼ ì² ì €íˆ ê°–ì¶”ë©´ì„œë„ ê³¼ê°í•˜ê²Œ ë°€ê³  ë‚˜ê°€ìš”.",
      "C-D+":"ì§ê´€ìœ¼ë¡œ êµ¬ì¡°ë¥¼ ì¡ëŠ” 'ì°½ì˜ì  ì„¤ê³„ì'. íŠ¸ë Œë“œì— ë¯¼ê°í•˜ê³ , ë‚¨ë“¤ì´ ì•ˆ ë³´ëŠ” êµ¬ì¡°ì  ê°€ëŠ¥ì„±ì„ ì§ê°ì ìœ¼ë¡œ í¬ì°©í•´ìš”.",
      "C+D-":"ê²€ì¦ëœ ë°ì´í„°ë¡œ ì²´ê³„ë¥¼ ì§€í‚¤ëŠ” 'í’ˆì§ˆ ê´€ë¦¬ì'. ê¸°ì¡´ ì‹œìŠ¤í…œì„ ì •êµí•˜ê²Œ ë‹¤ë“¬ê³ , ë°ì´í„°ë¡œ íš¨ê³¼ë¥¼ ì¦ëª…í•˜ëŠ” ë° ë›°ì–´ë‚˜ìš”.",
      "C+D+":"ê²½í—˜ ê¸°ë°˜ìœ¼ë¡œ ì•ˆì •ì  ì²´ê³„ë¥¼ ìš´ì˜í•˜ëŠ” 'ì‹¤ì „ ê´€ë¦¬ì'. ì˜¤ë˜ ìŒ“ì•„ì˜¨ ë…¸í•˜ìš°ë¡œ í”ë“¤ë¦¬ì§€ ì•ŠëŠ” ê¸°ì¤€ì„ ë§Œë“¤ì–´ìš”."
    },
    keywords:["í”„ë¡œì„¸ìŠ¤ ì„¤ê³„","ë°ì´í„° ë¶„ì„","ì œë„ êµ¬ì¶•","í‘œì¤€í™”","ë…¼ë¦¬ì  íŒë‹¨"],
    energyUp:["í‰ê°€Â·ë³´ìƒ ì²´ê³„ ì„¤ê³„","HR ëŒ€ì‹œë³´ë“œÂ·ë°ì´í„° ë¶„ì„","ì±„ìš© í”„ë¡œì„¸ìŠ¤ êµ¬ì¡°í™”Â·ìë™í™”","ì¸ì‚¬ ì œë„ ê¸°íš ë° ê°œì„ ","ì—…ë¬´ ë§¤ë‰´ì–¼Â·ê°€ì´ë“œ ë¬¸ì„œí™”"],
    energyDown:["ê°ì •ì  ê°ˆë“± ì¤‘ì¬Â·ì¡°ìœ¨","ë¹ˆë²ˆí•œ 1:1 ì •ì„œì  ì¼€ì–´","êµ¬ì¡° ì—†ì´ ì¦‰í¥ì ìœ¼ë¡œ ë°”ë€ŒëŠ” ìš”ì²­","ê²°ë¡  ì—†ì´ ë…¼ì˜ë§Œ ê¸¸ì–´ì§€ëŠ” íšŒì˜"],
    manual:{
      request:"ë°ì´í„°ì™€ ë…¼ë¦¬ë¡œ ì„¤ëª…í•˜ê³ , ì¶©ë¶„í•œ ê²€í†  ì‹œê°„ì„ ì£¼ì„¸ìš”. 'ì´ëŸ° ê·¼ê±°ê°€ ìˆì–´, ì–´ë–»ê²Œ ìƒê°í•´?'ê°€ íš¨ê³¼ì ì´ì—ìš”.",
      feedback:"êµ¬ì²´ì ì¸ ì‚¬ì‹¤ê³¼ ê¸°ì¤€ì„ ê·¼ê±°ë¡œ í”¼ë“œë°±í•´ì£¼ì„¸ìš”. ê°ì •ë³´ë‹¤ ë…¼ë¦¬ì— ë°˜ì‘í•˜ëŠ” íƒ€ì…ì´ì—ìš”.",
      avoid:"ê¸‰í•˜ê²Œ 'ì¼ë‹¨ í•´'ë¼ê³  ë°€ì–´ë¶™ì´ê¸°. ê·¼ê±° ì—†ì´ ë°©í–¥ì„ ë°”ê¾¸ê¸°.",
      stress:"ì‚¬ì†Œí•œ ê²ƒê¹Œì§€ í†µì œí•˜ë ¤ í•˜ê³ , ì†Œí†µì„ ì¤„ì´ë©´ì„œ í˜¼ì ì¼í•˜ê¸° ì‹œì‘í•´ìš”.",
      overload:"ë³µì¡í•œ ë¬¸ì œë¥¼ ì •ë¦¬í•  ì¡°ìš©í•œ ì‹œê°„ì„ ì£¼ê³ , ëª…í™•í•œ ìš°ì„ ìˆœìœ„ë¥¼ í•¨ê»˜ ì •í•´ì£¼ì„¸ìš”. 'ì „ë¶€ ë‹¤ ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ë¼'ë¼ëŠ” ë©”ì‹œì§€ê°€ ë„ì›€ë¼ìš”."
    },
    bestMatch:"connector",bestMatchShort:"í”¼í”Œ ì»¤ë„¥í„° ğŸ¤",bestReason:"ê³¼ì—…ê°€ì˜ ì²´ê³„ + ì»¤ë„¥í„°ì˜ í˜„ì¥ê° â†’ 'ê¸°ì¤€ì€ ìˆëŠ”ë° í˜„ì¥ì—ì„œ ì•ˆ ëŒì•„ê°€ëŠ”' ë¬¸ì œë¥¼ ì˜ˆë°©í•´ìš”.",
    tensionMatch:"architect",tensionMatchShort:"ì¡°ì§ ì„¤ê³„ì ğŸ›ï¸",tensionReason:"ë‘˜ ë‹¤ ì „ëµì ì´ì§€ë§Œ ì ‘ê·¼ì´ ë‹¬ë¼ìš”. ì„¤ê³„ìëŠ” ì‚¬ëŒ ì¤‘ì‹¬, ê³¼ì—…ê°€ëŠ” ê³¼ì—… ì¤‘ì‹¬. ì´ˆë°˜ì— ë°©í–¥ ë§ì¶”ë©´ ê°•ë ¥í•œ ì¡°í•©."
  },
  connector:{name:"í”¼í”Œ ì»¤ë„¥í„°",emoji:"ğŸ¤",code:"C",
    subtitle:"í˜„ì¥ì—ì„œ ì‚¬ëŒì˜ ë§ˆìŒì„ ì½ê³  ì§ì ‘ ì›€ì§ì´ëŠ” BP",
    color:"#E17055",colorLight:"#FAB1A0",colorBg:"#FFF5F2",
    coreNeed:"'ì‚¬ëŒë“¤ì´ ê´œì°®ì•„ì•¼' ë‚´ê°€ ê´œì°®ì•„ìš”. ëˆ„êµ°ê°€ê°€ í˜ë“¤ì–´í•˜ëŠ” ê±¸ ì•Œë©´ì„œ ëª¨ë¥¸ ì²™í•˜ëŠ” ê±´ ëª» í•´ìš”. ê·¸ë¦¬ê³  ì§ì ‘ ê°€ì„œ í•´ê²°í•´ì•¼ ì§ì„±ì´ í’€ë ¤ìš”.",
    desc:"íŒ€ì— ë¬¸ì œê°€ ìƒê²¼ì„ ë•Œ ê°€ì¥ ë¨¼ì € 'ê·¸ ì‚¬ëŒ ìš”ì¦˜ ê´œì°®ì•„?'ë¼ê³  ë¬»ê³ , ë°”ë¡œ ì°¾ì•„ê°€ëŠ” ì‚¬ëŒ. íšŒì˜ì‹¤ ë¶„ìœ„ê¸°ê°€ ì‹¸í•´ì§€ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ë§ì„ êº¼ë‚´ì„œ ê³µê¸°ë¥¼ ë°”ê¿”ë†“ê³ , ë³¸ì¸ì€ ê·¸ê±¸ ì˜ì‹í•˜ì§€ë„ ëª»í•´ìš”.\n\nì ì‹¬ì‹œê°„ì— í˜¼ì ë°¥ ë¨¹ëŠ” ì‹ ì…ì‚¬ì›ì´ ëˆˆì— ë“¤ì–´ì˜¤ê³ , íŒ€ì¥ë‹˜ í‘œì •ì´ ì–´ë‘ìš´ ê²Œ ì‹ ê²½ ì“°ì´ê³ , ìŠ¬ë™ ë‹µì¥ì´ í‰ì†Œë³´ë‹¤ ì§§ìœ¼ë©´ 'ë¬´ìŠ¨ ì¼ ìˆë‚˜?' ì‹¶ì–´ì§€ëŠ” â€” ì¡°ì§ì˜ ì˜¨ë„ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°ì§€í•˜ë©´ì„œ ì§ì ‘ í˜„ì¥ì—ì„œ í•´ê²°í•˜ëŠ” ì‚¬ëŒì´ì—ìš”.",
    painPoint:"ì‚¬ëŒì„ ìˆ«ìë¡œë§Œ ë‹¤ë£¨ëŠ” ìˆœê°„. 'ì´ë²ˆ ë‹¬ í‡´ì‚¬ìœ¨ 3%ë‹ˆê¹Œ ê´œì°®ì•„'ë¼ëŠ” ë§ì— 'ê·¸ 3%ê°€ ëˆ„êµ°ë°ìš”?'ë¼ê³  ë˜ë¬»ê³  ì‹¶ì–´ì ¸ìš”. ê·¸ë¦¬ê³  ìê¸°ê°€ ë‹¤ ì•ˆê³  ìˆëŠ”ë° ì•„ë¬´ë„ ëª°ë¼ì¤„ ë•Œ â€” ì›ƒìœ¼ë©´ì„œ ì†ìœ¼ë¡œ ì§€ì³ìš”.",
    flavor:{
      "C-D-":"ë°ì´í„°ë¥¼ ë“¤ê³  ì‚¬ëŒì„ ë§Œë‚˜ëŠ” 'ë¶„ì„ì  ì¼€ì–´ëŸ¬'. êµ¬ì„±ì› ì„œë² ì´ ê²°ê³¼ë¥¼ ë¶„ì„í•œ ë’¤ ì§ì ‘ ì°¾ì•„ê°€ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ ìš”.",
      "C-D+":"ë³€í™”ì˜ ë¬¼ê²° ì†ì—ì„œ ì‚¬ëŒì„ ì±™ê¸°ëŠ” 'ì²´ì¸ì§€ ì„œí¬í„°'. ìƒˆë¡œìš´ ì‹œë„ë¥¼ ì¢‹ì•„í•˜ë©´ì„œë„ ê·¸ ë³€í™” ì† ì‚¬ëŒì˜ ê°ì •ì„ ë†“ì¹˜ì§€ ì•Šì•„ìš”.",
      "C+D-":"ë°ì´í„°ë¡œ ì‚¬ëŒì„ ì§€í‚¤ëŠ” 'ì¡°ì§ ì•ˆì „ë§'. ì´ì§ë¥ , ë§Œì¡±ë„ ìˆ˜ì¹˜ë¥¼ ê¼¼ê¼¼íˆ ì±™ê¸°ë©´ì„œ ì•ˆì •ì ìœ¼ë¡œ êµ¬ì„±ì›ì„ ëŒë´ìš”.",
      "C+D+":"ê²½í—˜ê³¼ ê°ìœ¼ë¡œ í˜„ì¥ì„ ëŒë³´ëŠ” 'ë”°ëœ»í•œ í•´ê²°ì‚¬'. ì˜¤ë˜ ìŒ“ì€ ê²½í—˜ê³¼ ì§ê´€ìœ¼ë¡œ ì‚¬ëŒì˜ ìƒíƒœë¥¼ ì •í™•íˆ ì½ì–´ìš”."
    },
    keywords:["ê´€ê³„ êµ¬ì¶•","ê°ˆë“± ì¤‘ì¬","í˜„ì¥ ì†Œí†µ","ê³µê° ëŠ¥ë ¥","ì˜¨ë³´ë”©"],
    energyUp:["êµ¬ì„±ì› ìƒë‹´Â·ê³ ì¶© ì²˜ë¦¬","í˜„ì—… ë¦¬ë” íŒŒíŠ¸ë„ˆì‹­ êµ¬ì¶•","ì‹ ê·œ ì…ì‚¬ì ì˜¨ë³´ë”© ì„¤ê³„Â·ì§€ì›","íŒ€ë¹Œë”©Â·ì›Œí¬ìˆ ê¸°íš ë° í¼ì‹¤ë¦¬í…Œì´ì…˜","ì¡°ì§ ë‚´ ê°ˆë“± ì¤‘ì¬Â·ì†Œí†µ ì´‰ì§„"],
    energyDown:["ì¥ê¸° ì „ëµ ë¬¸ì„œ ë‹¨ë… ì‘ì„±","ë³µì¡í•œ ë°ì´í„° ë¶„ì„Â·ìˆ˜ì¹˜ ë¦¬í¬íŠ¸","ì‚¬ëŒê³¼ ë‹¨ì ˆëœ ì±„ í•˜ëŠ” ì‹œìŠ¤í…œ ì„¤ê³„","í˜¼ìì„œ ì˜¤ë˜ í•´ì•¼ í•˜ëŠ” ê¸°íš ì—…ë¬´"],
    manual:{
      request:"ë”°ëœ»í•˜ê²Œ ëŒ€í™”í•˜ê³ , 'ë„ˆë§Œ í•  ìˆ˜ ìˆëŠ” ì¼'ì´ë¼ëŠ” ë§¥ë½ì„ ì „í•´ì£¼ì„¸ìš”. ë‹¨, ê±°ì ˆì´ ì–´ë ¤ìš°ë‹ˆ ì—…ë¬´ëŸ‰ì„ ê°™ì´ ì²´í¬í•´ì£¼ì„¸ìš”.",
      feedback:"ê´€ê³„ë¥¼ í•´ì¹˜ì§€ ì•ŠëŠ” ì„ ì—ì„œ, ê°œì„ ì ì€ 1:1ë¡œ ì¡°ìš©íˆ ì „í•´ì£¼ì„¸ìš”. ê³µê°œ ë¹„íŒì€ í¬ê²Œ ìƒì²˜ë°›ì•„ìš”.",
      avoid:"ì°¨ê°‘ê³  ì‚¬ë¬´ì ìœ¼ë¡œë§Œ ì†Œí†µí•˜ê¸°. ì—…ë¬´ ê²°ê³¼ë§Œ ì´ì•¼ê¸°í•˜ê³  ê³¼ì •ì˜ ë…¸ë ¥ì„ ë¬´ì‹œí•˜ê¸°.",
      stress:"ëª¨ë“  ìš”ì²­ì„ ë‹¤ ë°›ì•„ë“¤ì´ë©´ì„œ ìê¸° ì—…ë¬´ëŠ” ì ì  ë¯¸ë£¨ê¸° ì‹œì‘í•´ìš”. ë°ì€ ì²™ í•˜ì§€ë§Œ í‘œì •ì´ ì§€ì³ë³´ì—¬ìš”.",
      overload:"ì—…ë¬´ëŸ‰ì„ í•¨ê»˜ ì¡°ì •í•´ì£¼ê³ , 'ë„¤ ì¼ë„ ì¤‘ìš”í•´'ë¼ëŠ” ë©”ì‹œì§€ë¥¼ ëª…í™•íˆ ì „í•´ì£¼ì„¸ìš”. í¸í•˜ê²Œ ì´ì•¼ê¸°í•  ìˆ˜ ìˆëŠ” ì‹œê°„ì´ íšŒë³µì— ë„ì›€ë¼ìš”."
    },
    bestMatch:"builder",bestMatchShort:"ì „ëµ ê³¼ì—…ê°€ âš™ï¸",bestReason:"ì»¤ë„¥í„°ì˜ í˜„ì¥ê° + ê³¼ì—…ê°€ì˜ ì²´ê³„ â†’ 'ì‚¬ëŒë„ ì±™ê¸°ê³  ê³¼ì—…ë„ ì¡ëŠ”' ì´ìƒì ì¸ HRì´ ê°€ëŠ¥í•´ìš”.",
    tensionMatch:"driver",tensionMatchShort:"ì‹¤í–‰ ë“œë¼ì´ë²„ ğŸš€",tensionReason:"ì»¤ë„¥í„°ëŠ” ê´€ê³„ë¥¼, ë“œë¼ì´ë²„ëŠ” ê²°ê³¼ë¥¼ ë¨¼ì € ë´ì„œ ì†ë„ ì°¨ì´ ê°€ëŠ¥. 'ì‚¬ëŒ ì´ìŠˆëŠ” ë‚´ê°€, ì‹¤í–‰ì€ ë„¤ê°€'ë¡œ ë¶„ë‹´í•˜ë©´ ì‹œë„ˆì§€."
  },
  driver:{name:"ì‹¤í–‰ ë“œë¼ì´ë²„",emoji:"ğŸš€",code:"D",
    subtitle:"ë§¡ì€ ê³¼ì—…ì„ ì •í™•í•˜ê³  ë¹ ë¥´ê²Œ ì™„ìˆ˜í•˜ëŠ” BP",
    color:"#00B894",colorLight:"#55EFC4",colorBg:"#EFFFFA",
    coreNeed:"'ì§„ë„ê°€ ë‚˜ê°€ì•¼' ì•ˆì‹¬ì´ ë¼ìš”. í•  ì¼ ëª©ë¡ì—ì„œ í•˜ë‚˜ì”© ì§€ì›Œë‚˜ê°€ëŠ” ê·¸ ê°ê°ì´ ì—†ìœ¼ë©´ í•˜ë£¨ê°€ í—ˆì „í•´ìš”.",
    desc:"ì›”ìš”ì¼ ì•„ì¹¨ì— ì´ë²ˆ ì£¼ í•  ì¼ ë¦¬ìŠ¤íŠ¸ë¥¼ ì´ë¯¸ ë‹¤ ì •ë¦¬í•´ë†“ê³ , ë‹¤ë¥¸ ì‚¬ëŒì´ 'ì´ë²ˆ ì£¼ ë­í•˜ì§€...'ë¼ê³  í•˜ë©´ ì†ìœ¼ë¡œ ë‹µë‹µí•œ ì‚¬ëŒ. 'ê·¸ë˜ì„œ ì–¸ì œê¹Œì§€ í•˜ë©´ ë¼ìš”?'ê°€ ì…ë²„ë¦‡ì´ì—ìš”.\n\nì±„ìš© ê³µê³  3ê°œë¥¼ ë™ì‹œì— ëŒë¦¬ë©´ì„œ, ë©´ì ‘ ì¼ì • ì¡°ìœ¨í•˜ê³ , ì²˜ìš° í˜‘ì˜ ë©”ì¼ ë³´ë‚´ê³ , ì¤‘ê°„ì— ê¸‰í•œ ì¸ì‚¬ ë°ì´í„° ìš”ì²­ê¹Œì§€ ì²˜ë¦¬í•´ìš”. ê³¼ì—… í•˜ë‚˜í•˜ë‚˜ë¥¼ ë¹ ì§ì—†ì´ ì™„ìˆ˜í•˜ëŠ” ê´€ë¦¬ë ¥ â€” ë³¸ì¸ì€ ë‹¹ì—°í•˜ë‹¤ê³  ìƒê°í•˜ì§€ë§Œ, íŒ€ì—ì„  ì´ ì‚¬ëŒ ì—†ìœ¼ë©´ ì§„ì§œ ì•ˆ ëŒì•„ê°€ìš”.",
    painPoint:"ëì´ ì•ˆ ë³´ì´ëŠ” ë…¼ì˜. 'ì´ê±´ ì¢€ ë” ìƒê°í•´ë³´ì'ê°€ ì„¸ ë²ˆì§¸ ë°˜ë³µë˜ë©´ ì†ì—ì„œ ë¶ˆì´ ë‚˜ìš”. ê·¸ë¦¬ê³  ì—´ì‹¬íˆ ì‹¤í–‰í–ˆëŠ”ë° 'ë°©í–¥ì´ ë°”ë€Œì—ˆì–´'ë¼ëŠ” ë§ â€” ê·¸ê²Œ ì œì¼ í˜ë“¤ì–´ìš”.",
    flavor:{
      "C-D-":"ë°ì´í„°ë¡œ ìƒˆë¡œìš´ ë°©ë²•ì„ ì°¾ì•„ ì‹¤í–‰í•˜ëŠ” 'í˜ì‹  ì‹¤í–‰ê°€'. íš¨ìœ¨ì„ ë†’ì´ëŠ” ìƒˆë¡œìš´ íˆ´ì´ë‚˜ í”„ë¡œì„¸ìŠ¤ë¥¼ ë¹ ë¥´ê²Œ ë„ì…í•´ìš”.",
      "C-D+":"ê°ê³¼ ì¶”ì§„ë ¥ìœ¼ë¡œ ë¹ ë¥´ê²Œ ê²°ê³¼ë¥¼ ë‚´ëŠ” 'ëŒíŒŒí˜• ì‹¤í–‰ê°€'. ì§ê´€ì ìœ¼ë¡œ ìµœì ì˜ ë°©ë²•ì„ ì°¾ì•„ ë°”ë¡œ ì‹¤í–‰ì— ì˜®ê²¨ìš”.",
      "C+D-":"ì •í™•í•œ ë°ì´í„°ë¡œ ì•ˆì •ì  ì„±ê³¼ë¥¼ ë‚´ëŠ” 'ì •ë°€ ìš´ì˜ê°€'. ìˆ˜ì¹˜ë¥¼ ê¼¼ê¼¼íˆ ì±™ê¸°ë©° ì‹¤ìˆ˜ ì—†ì´ ê³¼ì—…ì„ ì™„ìˆ˜í•´ìš”.",
      "C+D+":"ê²½í—˜ì—ì„œ ë‚˜ì˜¤ëŠ” ê°ê°ìœ¼ë¡œ ë¬µë¬µíˆ í•´ë‚´ëŠ” 'ë² í…Œë‘ ì‹¤í–‰ê°€'. ì˜¤ëœ ê²½í—˜ìœ¼ë¡œ ì–´ë–¤ ìƒí™©ì—ì„œë„ í”ë“¤ë¦¬ì§€ ì•Šì•„ìš”."
    },
    keywords:["ì¼ì • ê´€ë¦¬","ë©€í‹°íƒœìŠ¤í‚¹","ë°ë“œë¼ì¸ ì¤€ìˆ˜","ì‹¤í–‰ë ¥","í’ˆì§ˆ ê´€ë¦¬"],
    energyUp:["ì±„ìš© í”„ë¡œì„¸ìŠ¤ ìš´ì˜ (ì„œì¹­Â·ë©´ì ‘Â·ì²˜ìš° í˜‘ì˜)","HR ìš´ì˜ ì‹¤ë¬´ ìµœì í™”Â·í‘œì¤€í™”","ì¸ì‚¬ ë°ì´í„° ì •ë¦¬Â·ì •ê¸° ë¦¬í¬íŠ¸ ì‘ì„±","ë©´ì ‘ ì¼ì • ì¡°ìœ¨Â·í›„ë³´ì ì»¤ë®¤ë‹ˆì¼€ì´ì…˜","ëª…í™•í•œ ëª©í‘œê°€ ìˆëŠ” ë‹¨ê¸° í”„ë¡œì íŠ¸"],
    energyDown:["ëì´ ì•ˆ ë³´ì´ëŠ” ë°©í–¥ì„± ë…¼ì˜","ì •ë‹µì´ ì—†ëŠ” ê°ì •ì  ëŒ€í™” ì¤‘ì¬","ì¥ê¸°ì ì´ê³  ì¶”ìƒì ì¸ ì „ëµ ê¸°íš","ê²°ë¡  ì—†ì´ ì˜ê²¬ë§Œ ë‚˜ëˆ„ëŠ” ë¸Œë ˆì¸ìŠ¤í† ë°"],
    manual:{
      request:"ëª…í™•í•œ ê¸°ëŒ€ì¹˜ì™€ ë°ë“œë¼ì¸ì„ ë¨¼ì € ì œì‹œí•´ì£¼ì„¸ìš”. 'ì´ê±°ë¥¼ ì–¸ì œê¹Œì§€ ì´ ìˆ˜ì¤€ìœ¼ë¡œ'ê°€ íš¨ê³¼ì ì´ì—ìš”.",
      feedback:"êµ¬ì²´ì ìœ¼ë¡œ 'ì´ê±´ ì˜í–ˆê³ , ì´ê±´ ì´ë ‡ê²Œ ë°”ê¿”ë³´ì' ì‹ìœ¼ë¡œ ëª…í™•í•˜ê²Œ ì „í•´ì£¼ì„¸ìš”.",
      avoid:"ëª¨í˜¸í•˜ê²Œ 'ì•Œì•„ì„œ ì˜ í•´ë´'ë¼ê³  ë˜ì§€ê¸°. ì¤‘ê°„ì— ë°©í–¥ì„ ìì£¼ ë°”ê¾¸ê¸°.",
      stress:"ë” ë¹ ë¥´ê²Œ ë°€ì–´ë¶™ì´ë©´ì„œ ì£¼ë³€ê³¼ ë‹¨ì ˆë˜ê¸° ì‹œì‘í•´ìš”. ê³¼ì •ì„ ê±´ë„ˆë›°ê³  ê²°ê³¼ë§Œ ì¶”êµ¬í•˜ë©° ì§œì¦ì´ ëŠ˜ì–´ë‚˜ìš”.",
      overload:"ì‘ì€ ì„±ì·¨ê°ì„ ëŠë‚„ ìˆ˜ ìˆëŠ” ë‹¨ê¸° ê³¼ì—…ì„ ì£¼ê³ , ëª…í™•í•œ ìš°ì„ ìˆœìœ„ë¥¼ í•¨ê»˜ ì •í•´ì£¼ì„¸ìš”. 'ì´ê²ƒë§Œ ëë‚´ë©´ ë¼'ë¼ëŠ” ê²½ê³„ê°€ íšŒë³µì— ë„ì›€ë¼ìš”."
    },
    bestMatch:"architect",bestMatchShort:"ì¡°ì§ ì„¤ê³„ì ğŸ›ï¸",bestReason:"ì„¤ê³„ìì˜ ë¹„ì „ + ë“œë¼ì´ë²„ì˜ ì‹¤í–‰ë ¥ â†’ 'ë°©í–¥ë„ ë§ê³  ì†ë„ë„ ë¹ ë¥¸' ê°€ì¥ íš¨ê³¼ì ì¸ ì¡°í•©.",
    tensionMatch:"connector",tensionMatchShort:"í”¼í”Œ ì»¤ë„¥í„° ğŸ¤",tensionReason:"ë“œë¼ì´ë²„ëŠ” ë¹ ë¥¸ ì‹¤í–‰ì„, ì»¤ë„¥í„°ëŠ” ì¶©ë¶„í•œ ì†Œí†µì„ ì›í•´ì„œ í…œí¬ ì°¨ì´ ê°€ëŠ¥. ì„œë¡œì˜ ì†ë„ë¥¼ ì¡´ì¤‘í•˜ë©´ ê· í˜• ì¡íŒ íŒ€."
  },
  /* ===== 5 NEW HYBRID TYPES ===== */
  strategist:{name:"ì „ëµ ê¸°íšê°€",emoji:"ğŸ§­",code:"S",
    subtitle:"í° ê·¸ë¦¼ì„ ë³´ë©° ìœ ì—°í•˜ê²Œ í’€ì–´ê°€ëŠ” BP",
    color:"#7C6DD8",colorLight:"#B8B0E8",colorBg:"#F5F3FF",
    coreNeed:"'ì™œ ì´ê±¸ í•˜ëŠ”ì§€'ê°€ ë‚©ë“ì´ ë˜ì–´ì•¼ ì›€ì§ì—¬ìš”. ë‹¤ë§Œ ë°©ë²•ì€ ì‚¬ëŒì´ë“  ê³¼ì—…ì´ë“ , ìƒí™©ì— ë§ê²Œ ìœ ì—°í•˜ê²Œ íƒí•´ìš”.",
    desc:"íšŒì˜ì—ì„œ 'ì´ê±° ì™œ í•˜ëŠ” ê±°ì˜ˆìš”?'ë¥¼ ìì£¼ ë¬»ì§€ë§Œ, ê³ ì§‘ìŠ¤ëŸ½ê²Œ í•œ ë°©ì‹ë§Œ ë°€ì–´ë¶™ì´ì§„ ì•Šì•„ìš”. ì „ëµì´ ì¡íˆë©´ ì‚¬ëŒì„ ì„¤ë“í•  ìˆ˜ë„, ê³¼ì—…ì„ ì§ì ‘ ì •ë¦¬í•  ìˆ˜ë„ ìˆëŠ” â€” ë„êµ¬ë¥¼ ê°€ë¦¬ì§€ ì•ŠëŠ” ì „ëµê°€ì˜ˆìš”.\n\nì¡°ì§ì— ìƒˆë¡œìš´ ì´ìŠˆê°€ ìƒê¸°ë©´ ì¼ë‹¨ í•œ ë°œ ë¬¼ëŸ¬ì„œì„œ ì „ì²´ ê·¸ë¦¼ì„ ë´ìš”. 'ì´ê²Œ ì§„ì§œ ë¬¸ì œì¸ê°€, ì•„ë‹ˆë©´ ì¦ìƒì¸ê°€?' í•˜ëŠ” ì§ˆë¬¸ì„ ë˜ì§€ê³ , ë°©í–¥ì´ ì¡íˆë©´ ê·¸ë•Œë¶€í„° ë¹ ë¥´ê²Œ ì›€ì§ì´ëŠ” ì‚¬ëŒì´ì—ìš”.",
    painPoint:"ë°©í–¥ ì—†ì´ ë°”ì˜ê¸°ë§Œ í•œ ìƒí™©. ë§¤ì¼ ì—…ë¬´ëŠ” ë„˜ì¹˜ëŠ”ë° 'ì´ê²Œ ì–´ë””ë¡œ ê°€ëŠ” ê±°ì§€?' ì‹¶ì„ ë•Œ ì—ë„ˆì§€ê°€ ë¹ ì ¸ìš”. ì „ëµì  ì‚¬ê³ ë¥¼ í•  ì—¬ìœ ì¡°ì°¨ ì—†ì„ ë•Œê°€ ê°€ì¥ ë‹µë‹µí•´ìš”.",
    flavor:{
      "C-D-":"ë³€í™”ë¥¼ ë°ì´í„°ë¡œ ê¸°íší•˜ëŠ” 'ë¶„ì„ ì „ëµê°€'. ìƒˆë¡œìš´ ë°©í–¥ì„ ì œì‹œí•˜ë©´ì„œë„ ìˆ«ìë¡œ ë’·ë°›ì¹¨í•˜ëŠ” ê²Œ ìì—°ìŠ¤ëŸ¬ì›Œìš”.",
      "C-D+":"ì§ê´€ìœ¼ë¡œ ë¯¸ë˜ë¥¼ ì½ëŠ” 'íŠ¸ë Œë“œ ê¸°íšê°€'. ë‚¨ë“¤ë³´ë‹¤ í•œ ë°œ ì•ì„œ íë¦„ì„ í¬ì°©í•˜ê³ , ì¡°ì§ì´ ë‚˜ì•„ê°ˆ ë°©í–¥ì„ ì œì‹œí•´ìš”.",
      "C+D-":"ë°ì´í„° ê¸°ë°˜ìœ¼ë¡œ ì•ˆì •ì  ì „ëµì„ ìˆ˜ë¦½í•˜ëŠ” 'ì „ëµ ë¶„ì„ê°€'. ë¦¬ìŠ¤í¬ë¥¼ ìµœì†Œí™”í•˜ë©´ì„œ í™•ì‹¤í•œ ê·¼ê±°ë¡œ ë°©í–¥ì„ ì¡ì•„ìš”.",
      "C+D+":"ê²½í—˜ì—ì„œ ë‚˜ì˜¤ëŠ” í†µì°°ë¡œ ì „ëµì„ ì§œëŠ” 'ì‹œë‹ˆì–´ ê¸°íšê°€'. ì˜¤ë˜ ìŒ“ì¸ ì§ê´€ê³¼ ì•ˆëª©ìœ¼ë¡œ ê· í˜• ì¡íŒ íŒë‹¨ì„ ë‚´ë ¤ìš”."
    },
    keywords:["ì „ëµì  ì‚¬ê³ ","ë°©í–¥ ì„¤ì •","ìœ ì—°í•œ ì ‘ê·¼","ë³¸ì§ˆ íŒŒì•…","í° ê·¸ë¦¼"],
    energyUp:["ì¡°ì§ ì´ìŠˆì˜ ê·¼ë³¸ ì›ì¸ ë¶„ì„","HR ì „ëµ ë°©í–¥ ìˆ˜ë¦½","ê²½ì˜ì§„ ë³´ê³ Â·ì»¤ë®¤ë‹ˆì¼€ì´ì…˜","ë³€í™” ê´€ë¦¬ ê¸°íš","ë³µì¡í•œ ì´í•´ê´€ê³„ ì •ë¦¬"],
    energyDown:["ë‹¨ìˆœ ë°˜ë³µ í–‰ì • ì—…ë¬´","ë°©í–¥ ì—†ì´ ì£¼ì–´ì§€ëŠ” ê¸‰í•œ ìš”ì²­","ë””í…Œì¼í•œ ìˆ«ì ê²€ì¦ ì‘ì—…","ì •í•´ì§„ ë§¤ë‰´ì–¼ëŒ€ë¡œë§Œ í•˜ëŠ” ì¼"],
    manual:{
      request:"ë°°ê²½(Why)ì„ ë¨¼ì € ì„¤ëª…í•´ì£¼ì„¸ìš”. ë°©í–¥ì´ ì¡í˜€ì•¼ ì›€ì§ì´ëŠ” íƒ€ì…ì´ì—ìš”.",
      feedback:"ì „ì²´ ë°©í–¥ì— ëŒ€í•œ í”¼ë“œë°±ì„ ë¨¼ì € ì£¼ê³ , ì„¸ë¶€ì‚¬í•­ì€ ê·¸ ë‹¤ìŒì—.",
      avoid:"ë§¥ë½ ì—†ì´ 'ê¸‰í•´, ì¼ë‹¨ í•´'ë¼ê³ ë§Œ ë˜ì§€ê¸°.",
      stress:"ê³„ì† ì›ë¡ ì ì¸ ì§ˆë¬¸ë§Œ í•˜ê³ , ì‹¤í–‰ìœ¼ë¡œ ë„˜ì–´ê°€ì§€ ëª»í•´ìš”. íšŒì˜ê°€ ê¸¸ì–´ì§€ê¸° ì‹œì‘í•˜ë©´ ì‹ í˜¸ì˜ˆìš”.",
      overload:"ì „ëµì  ì‚¬ê³ ë¥¼ ì •ë¦¬í•  ì¡°ìš©í•œ ì‹œê°„ì„ ì£¼ì„¸ìš”. 'ì¼ë‹¨ í° ë°©í–¥ë§Œ ì¡ì'ê³  ë²”ìœ„ë¥¼ ì¢í˜€ì£¼ë©´ íšŒë³µë¼ìš”."
    },
    bestMatch:"executor",bestMatchShort:"í˜„ì¥ ì‹¤í–‰ê°€ âš¡",bestReason:"ì „ëµê°€ì˜ ë°©í–¥ ì„¤ì • + ì‹¤í–‰ê°€ì˜ ì¶”ì§„ë ¥ â†’ ìƒê°ì´ í–‰ë™ìœ¼ë¡œ ì´ì–´ì ¸ìš”.",
    tensionMatch:"taskmaster",tensionMatchShort:"ê³¼ì—… ê´€ë¦¬ì ğŸ“Š",tensionReason:"ì „ëµê°€ëŠ” Whyë¥¼, ê³¼ì—… ê´€ë¦¬ìëŠ” Whatì„ ë¨¼ì € ë´ì„œ ì´ˆì ì´ ë‹¤ë¥¼ ìˆ˜ ìˆì–´ìš”. ì„œë¡œì˜ ê´€ì ì„ ë‚˜ëˆ„ë©´ ë³´ì™„ì´ ë¼ìš”."
  },
  facilitator:{name:"ê´€ê³„ ì´‰ì§„ì",emoji:"ğŸ’¬",code:"F",
    subtitle:"ì‚¬ëŒ ì‚¬ì´ë¥¼ ì—°ê²°í•˜ê³  ë¶„ìœ„ê¸°ë¥¼ ë§Œë“œëŠ” BP",
    color:"#D35D6E",colorLight:"#E8A0AB",colorBg:"#FFF4F6",
    coreNeed:"'ì‚¬ëŒë“¤ì´ í¸í•˜ê²Œ ì´ì•¼ê¸°í•  ìˆ˜ ìˆëŠ” ë¶„ìœ„ê¸°'ê°€ ì¤‘ìš”í•´ìš”. ê´€ê³„ê°€ ì¢‹ì•„ì•¼ ì¼ë„ ëœë‹¤ê³  ë¯¿ì–´ìš”.",
    desc:"íŒ€ íšŒì˜ì—ì„œ ë§ì´ ì—†ëŠ” ì‚¬ëŒì´ ìˆìœ¼ë©´ 'â—‹â—‹ë‹˜ì€ ì–´ë–»ê²Œ ìƒê°í•´ìš”?'ë¼ê³  ìì—°ìŠ¤ëŸ½ê²Œ ë¬¼ì–´ë³´ëŠ” ì‚¬ëŒ. ê°ˆë“±ì´ ìƒê¸°ë©´ ì–‘ìª½ ì´ì•¼ê¸°ë¥¼ ë‹¤ ë“¤ì–´ë³´ê³  ì¤‘ê°„ì—ì„œ ë‹¤ë¦¬ë¥¼ ë†“ì•„ìš”.\n\nì „ëµì´ë“  ì‹¤í–‰ì´ë“  ì¤‘ìš”í•˜ì§€ë§Œ, ì´ ì‚¬ëŒì—ê² 'ê·¸ ê³¼ì •ì—ì„œ ì‚¬ëŒë“¤ì´ ì–´ë–¤ ê¸°ë¶„ì¸ì§€'ê°€ ë” ë¨¼ì €ì˜ˆìš”. ì‚¬ëŒë“¤ì´ ë°©ì–´ì ì´ì§€ ì•Šê²Œ, ì†”ì§í•˜ê²Œ ì´ì•¼ê¸°í•  ìˆ˜ ìˆëŠ” ê³µê°„ì„ ë§Œë“œëŠ” â€” ëˆˆì— ì•ˆ ë³´ì´ì§€ë§Œ íŒ€ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ì—­í• ì„ í•´ìš”.",
    painPoint:"ì°¨ê°‘ê³  ì‚¬ë¬´ì ì¸ ë¶„ìœ„ê¸°. ì‚¬ëŒì„ ìˆ«ìë¡œë§Œ ë‹¤ë£¨ê±°ë‚˜, ê´€ê³„ë¥¼ ë¬´ì‹œí•˜ê³  ê²°ê³¼ë§Œ ë°€ì–´ë¶™ì´ëŠ” í™˜ê²½ì—ì„œ ì„œì„œíˆ ì§€ì³ìš”. 'ì´ ì‚¬ëŒë“¤ ê°ì •ì€ ëˆ„ê°€ ì±™ê²¨?'ê°€ ê³„ì† ë¨¸ë¦¿ì†ì— ë§´ëŒì•„ìš”.",
    flavor:{
      "C-D-":"ë°ì´í„°ë¡œ ê´€ê³„ë¥¼ ì§„ë‹¨í•˜ëŠ” 'ë¶„ì„ì  ì´‰ì§„ì'. ì¡°ì§ ì„œë² ì´ ë¶„ì„ë„ í•˜ê³ , ì‚¬ëŒë„ ë§Œë‚˜ê³  â€” ì–‘ìª½ì„ ì˜¤ê°€ë©° ê´€ê³„ ì´ìŠˆë¥¼ í’€ì–´ìš”.",
      "C-D+":"ìƒˆë¡œìš´ ì‹œë„ë¡œ íŒ€ ë¶„ìœ„ê¸°ë¥¼ ë°”ê¾¸ëŠ” 'í˜ì‹ ì  ì´‰ì§„ì'. ìƒ‰ë‹¤ë¥¸ ì›Œí¬ìˆ, ìƒˆë¡œìš´ ì†Œí†µ ì±„ë„ ë“± ì°½ì˜ì  ë°©ë²•ìœ¼ë¡œ ê´€ê³„ë¥¼ ë§Œë“¤ì–´ìš”.",
      "C+D-":"ë°ì´í„°ì™€ ì•ˆì •ê°ìœ¼ë¡œ ê´€ê³„ë¥¼ ì§€í‚¤ëŠ” 'ì²´ê³„ì  ì´‰ì§„ì'. ì •ê¸° ë©´ë‹´, ë§Œì¡±ë„ ì¡°ì‚¬ ë“± êµ¬ì¡°í™”ëœ ë°©ì‹ìœ¼ë¡œ ì‚¬ëŒì„ ëŒë´ìš”.",
      "C+D+":"ê²½í—˜ì—ì„œ ë‚˜ì˜¤ëŠ” ë”°ëœ»í•¨ìœ¼ë¡œ ì‚¬ëŒì„ ì‡ëŠ” 'ë§ˆìŒ ì´‰ì§„ì'. ì§ê´€ê³¼ ê²½í—˜ìœ¼ë¡œ ì‚¬ëŒì˜ ìƒíƒœë¥¼ ì •í™•íˆ ì½ê³  ë‹¤ê°€ê°€ìš”."
    },
    keywords:["ê´€ê³„ êµ¬ì¶•","ë¶„ìœ„ê¸° ì¡°ì„±","ê²½ì²­","ì¤‘ì¬","ì†Œí†µ ì´‰ì§„"],
    energyUp:["êµ¬ì„±ì› 1:1 ë©´ë‹´Â·ìƒë‹´","íŒ€ë¹Œë”©Â·ì›Œí¬ìˆ í¼ì‹¤ë¦¬í…Œì´ì…˜","ê°ˆë“± ì¤‘ì¬Â·ì†Œí†µ ì´‰ì§„","ì‹ ê·œ ì…ì‚¬ì ì˜¨ë³´ë”© ì§€ì›","í˜„ì—… ë¦¬ë”ì™€ì˜ íŒŒíŠ¸ë„ˆì‹­ êµ¬ì¶•"],
    energyDown:["í˜¼ì ì˜¤ë˜ í•´ì•¼ í•˜ëŠ” ë¶„ì„ ì—…ë¬´","ì‚¬ëŒ ì—†ì´ ì‹œìŠ¤í…œë§Œ ë§Œë“œëŠ” ì‘ì—…","ê°ì •ì´ ë°°ì œëœ ì˜ì‚¬ê²°ì • ê³¼ì •","ì¥ê¸° ì „ëµ ë¬¸ì„œ ë‹¨ë… ì‘ì„±"],
    manual:{
      request:"ë”°ëœ»í•˜ê²Œ ëŒ€í™”í•˜ê³ , ì´ ì¼ì´ ì‚¬ëŒë“¤ì—ê²Œ ì–´ë–¤ ì˜ë¯¸ì¸ì§€ í•¨ê»˜ ì´ì•¼ê¸°í•´ì£¼ì„¸ìš”.",
      feedback:"1:1ë¡œ ì¡°ìš©íˆ, ê´€ê³„ë¥¼ í•´ì¹˜ì§€ ì•ŠëŠ” ì„ ì—ì„œ ì „í•´ì£¼ì„¸ìš”.",
      avoid:"ì°¨ê°‘ê³  ì‚¬ë¬´ì ìœ¼ë¡œë§Œ ì†Œí†µí•˜ê¸°. ê³¼ì •ì˜ ë…¸ë ¥ì„ ë¬´ì‹œí•˜ê¸°.",
      stress:"í‰ì†Œë³´ë‹¤ ë§ì´ ì¤„ê³ , í˜¼ì ìˆìœ¼ë ¤ëŠ” ì‹œê°„ì´ ëŠ˜ì–´ìš”. ë‹¤ë¥¸ ì‚¬ëŒ ê±±ì •ì€ í•˜ë©´ì„œ ë³¸ì¸ ì´ì•¼ê¸°ëŠ” ì•ˆ í•´ìš”.",
      overload:"'ë„¤ ì»¨ë””ì…˜ì´ ì¤‘ìš”í•´'ë¼ëŠ” ë©”ì‹œì§€ë¥¼ ëª…í™•íˆ ì „í•´ì£¼ì„¸ìš”. í¸í•˜ê²Œ ì´ì•¼ê¸°í•  ìˆ˜ ìˆëŠ” 1:1 ì‹œê°„ì´ íšŒë³µì— ë„ì›€ë¼ìš”."
    },
    bestMatch:"taskmaster",bestMatchShort:"ê³¼ì—… ê´€ë¦¬ì ğŸ“Š",bestReason:"ì´‰ì§„ìì˜ ì‚¬ëŒ ì¼€ì–´ + ê´€ë¦¬ìì˜ ê³¼ì—… ì§‘ì¤‘ â†’ ì‚¬ëŒë„ ì±™ê¸°ê³  ì¼ë„ ë˜ëŠ” ê· í˜•.",
    tensionMatch:"executor",tensionMatchShort:"í˜„ì¥ ì‹¤í–‰ê°€ âš¡",tensionReason:"ì´‰ì§„ìëŠ” ì¶©ë¶„íˆ ì´ì•¼ê¸°í•˜ê³  ì‹¶ê³ , ì‹¤í–‰ê°€ëŠ” ë¹¨ë¦¬ ì›€ì§ì´ê³  ì‹¶ì–´ì„œ í…œí¬ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆì–´ìš”."
  },
  allrounder:{name:"ì˜¬ë¼ìš´ë”",emoji:"ğŸ¯",code:"X",
    subtitle:"ìƒí™©ì— ë”°ë¼ ìœ ì—°í•˜ê²Œ ì—­í• ì„ ì „í™˜í•˜ëŠ” BP",
    color:"#8B5CF6",colorLight:"#C4B5FD",colorBg:"#F5F3FF",
    coreNeed:"'ê· í˜•'ì´ ìì—°ìŠ¤ëŸ¬ì›Œìš”. í•œìª½ìœ¼ë¡œ ë„ˆë¬´ ì¹˜ìš°ì¹˜ë©´ ë¶ˆí¸í•˜ê³ , ì—¬ëŸ¬ ê´€ì ì„ ê³ ë ¤í•´ì„œ íŒë‹¨í•˜ëŠ” ê²Œ í¸í•´ìš”.",
    desc:"'ë„ˆëŠ” ì–´ë–¤ íƒ€ì…ì´ì•¼?'ë¼ê³  ë¬¼ìœ¼ë©´ 'ìƒí™©ì— ë”°ë¼ ë‹¤ë¥¸ë°...'ë¼ê³  ë‹µí•˜ëŠ” ì‚¬ëŒ. ì´ê²Œ ìš°ìœ ë¶€ë‹¨í•œ ê²Œ ì•„ë‹ˆë¼, ì§„ì§œë¡œ ì—¬ëŸ¬ ê´€ì ì„ ë™ì‹œì— ë³¼ ìˆ˜ ìˆëŠ” ê±°ì˜ˆìš”.\n\nì „ëµ íšŒì˜ì—ì„œëŠ” í° ê·¸ë¦¼ì„ ë³´ë‹¤ê°€, ì‹¤í–‰ ë‹¨ê³„ì—ì„œëŠ” ë””í…Œì¼ì„ ì±™ê¸°ê³ , ì‚¬ëŒ ì´ìŠˆê°€ ìƒê¸°ë©´ ë¨¼ì € ë‹¤ê°€ê°€ìš”. í•œ ê°€ì§€ì— ê·¹ë‹¨ì ìœ¼ë¡œ ëª°ì…í•˜ì§€ ì•ŠëŠ” ëŒ€ì‹ , íŒ€ì—ì„œ ë¹ ì§„ ì—­í• ì„ ìì—°ìŠ¤ëŸ½ê²Œ ì±„ì›Œë„£ëŠ” ëŠ¥ë ¥ì´ ìˆì–´ìš”.",
    painPoint:"í•œ ê°€ì§€ë§Œ ê·¹ë‹¨ì ìœ¼ë¡œ ë°€ì–´ë¶™ì—¬ì•¼ í•˜ëŠ” ìƒí™©. 'ì „ëµë§Œ í•´' ë˜ëŠ” 'ì‹¤í–‰ë§Œ í•´'ë¼ê³  ì—­í• ì´ ì¢í˜€ì§€ë©´ ë‹µë‹µí•´ìš”. ê·¸ë¦¬ê³  'ë„Œ ë­˜ ì œì¼ ì˜í•˜ëŠ” ê±°ì•¼?'ë¼ëŠ” ì§ˆë¬¸ì— ë”± í•˜ë‚˜ë¡œ ëŒ€ë‹µí•˜ê¸° ì–´ë ¤ìš´ ê²Œ ê°€ë” ê³ ë¯¼ì´ì—ìš”.",
    flavor:{
      "C-D-":"ë°ì´í„°ì™€ ë³€í™”ë¥¼ ê· í˜•ìˆê²Œ ë‹¤ë£¨ëŠ” 'ë¶„ì„ì  ë©€í‹°í”Œë ˆì´ì–´'. ìƒˆë¡œìš´ ë„ì „ë„ ì¢‹ì•„í•˜ê³ , ê·¼ê±°ë„ ì±™ê¸°ëŠ” ì˜¬ë¼ìš´ë”.",
      "C-D+":"ì§ê´€ìœ¼ë¡œ ë³€í™”ë¥¼ íƒìƒ‰í•˜ëŠ” 'ëª¨í—˜ì  ì˜¬ë¼ìš´ë”'. ìƒˆë¡œìš´ ì‹œë„ë¥¼ ì£¼ë„í•˜ë©´ì„œ ê°ê°ì ìœ¼ë¡œ ê· í˜•ì„ ì¡ì•„ìš”.",
      "C+D-":"ë°ì´í„°ë¡œ ì•ˆì •ì  ê· í˜•ì„ ìœ ì§€í•˜ëŠ” 'ì‹ ë¢°ì˜ ì˜¬ë¼ìš´ë”'. ê²€ì¦ëœ ë°©ë²•ê³¼ ìˆ˜ì¹˜ë¥¼ ë°”íƒ•ìœ¼ë¡œ íŒ€ì˜ ì¤‘ì‹¬ì„ ì¡ì•„ìš”.",
      "C+D+":"ê²½í—˜ê³¼ ì§ê´€ìœ¼ë¡œ íŒ€ì„ ì§€íƒ±í•˜ëŠ” 'ì•ˆì •ì  í—ˆë¸Œ'. ì˜¤ë˜ëœ ê²½í—˜ì—ì„œ ë‚˜ì˜¤ëŠ” ê· í˜• ê°ê°ìœ¼ë¡œ ì–´ë–¤ ìƒí™©ì´ë“  ëŒ€ì‘í•´ìš”."
    },
    keywords:["ìœ ì—°ì„±","ê· í˜• ê°ê°","ë‹¤ì¬ë‹¤ëŠ¥","ìƒí™© ì ì‘","ì—­í•  ì „í™˜"],
    energyUp:["ì—¬ëŸ¬ íŒ€Â·ë¶€ì„œë¥¼ ë„˜ë‚˜ë“œëŠ” í¬ë¡œìŠ¤í‘ì…”ë„ í”„ë¡œì íŠ¸","ì „ëµë¶€í„° ì‹¤í–‰ê¹Œì§€ ì „ì²´ ê³¼ì •ì„ ì•„ìš°ë¥´ëŠ” ì—…ë¬´","ë‹¤ì–‘í•œ ì´í•´ê´€ê³„ìì™€ ì†Œí†µÂ·ì¡°ìœ¨","íŒ€ì— ë¶€ì¡±í•œ ì—­í• ì„ ì±„ìš°ëŠ” ì¼","ìƒˆë¡œìš´ ì˜ì—­ì„ ë¹ ë¥´ê²Œ í•™ìŠµÂ·ì ìš©"],
    energyDown:["í•œ ê°€ì§€ë§Œ ë°˜ë³µí•˜ëŠ” ë‹¨ì¡°ë¡œìš´ ì—…ë¬´","ê·¹ë‹¨ì ìœ¼ë¡œ ì¢ì€ ì—­í•  ë²”ìœ„","í•œ ê´€ì ë§Œ ê³ ì§‘í•˜ëŠ” í™˜ê²½","ë³€í™” ì—†ì´ ì •í•´ì§„ ë£¨í‹´ë§Œ ëŒë¦¬ëŠ” ì¼"],
    manual:{
      request:"ì „ì²´ ë§¥ë½ê³¼ ê¸°ëŒ€ ì—­í• ì„ í•¨ê»˜ ì•Œë ¤ì£¼ì„¸ìš”. ì–´ë””ì„œ ì–´ë–¤ ì—­í• ì„ í•˜ë©´ ë˜ëŠ”ì§€ê°€ ëª…í™•í•˜ë©´ ì˜ ì›€ì§ì—¬ìš”.",
      feedback:"êµ¬ì²´ì ìœ¼ë¡œ 'ì´ ë¶€ë¶„ì€ ì˜í–ˆê³ , ì´ê±´ ë” ì§‘ì¤‘í•´ë³´ì' ì‹ìœ¼ë¡œ ë°©í–¥ì„ ì¡ì•„ì£¼ì„¸ìš”.",
      avoid:"ì—­í• ì„ ë„ˆë¬´ ì¢ê²Œ í•œì •ì§“ê¸°. 'ë„Œ ì´ê²ƒë§Œ í•´'ë¼ê³  ê°€ë‘ê¸°.",
      stress:"ì´ê²ƒì €ê²ƒ ë‹¤ í•˜ë©´ì„œ ì •ì‘ í•˜ë‚˜ë„ ê¹Šì´ ëª» íŒŒê³  ìˆë‹¤ëŠ” ëŠë‚Œì´ ë“¤ê¸° ì‹œì‘í•´ìš”. ì‚°ë§Œí•´ ë³´ì´ë©´ ì‹ í˜¸ì˜ˆìš”.",
      overload:"ìš°ì„ ìˆœìœ„ë¥¼ í•¨ê»˜ ì •ë¦¬í•´ì£¼ì„¸ìš”. 'ì§€ê¸ˆ ê°€ì¥ ì¤‘ìš”í•œ í•œ ê°€ì§€'ë¥¼ ì •í•´ì£¼ë©´ ì´ˆì ì´ ëŒì•„ì™€ìš”."
    },
    bestMatch:"architect",bestMatchShort:"ì¡°ì§ ì„¤ê³„ì ğŸ›ï¸",bestReason:"ì„¤ê³„ìì˜ ëª…í™•í•œ ë°©í–¥ + ì˜¬ë¼ìš´ë”ì˜ ìœ ì—°í•œ ì‹¤í–‰ â†’ ì „ëµì´ í˜„ì‹¤ì— ì•ˆì°©í•´ìš”.",
    tensionMatch:"builder",tensionMatchShort:"ì „ëµ ê³¼ì—…ê°€ âš™ï¸",tensionReason:"ê³¼ì—…ê°€ì˜ ì²´ê³„ì  ì ‘ê·¼ì´ ì˜¬ë¼ìš´ë”ì—ê² ê²½ì§ë˜ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”. ì„œë¡œì˜ ìŠ¤íƒ€ì¼ì„ ì¡´ì¤‘í•˜ë©´ ë³´ì™„ì´ ë¼ìš”."
  },
  taskmaster:{name:"ê³¼ì—… ê´€ë¦¬ì",emoji:"ğŸ“Š",code:"M",
    subtitle:"ê³¼ì—…ì˜ ê¸°ì¤€ê³¼ í’ˆì§ˆì„ ì±…ì„ì§€ëŠ” BP",
    color:"#2D8CCA",colorLight:"#7FB8DE",colorBg:"#EDF6FF",
    coreNeed:"'ê¸°ì¤€ì´ ëª…í™•í•´ì•¼' ì¼ì´ ë¼ìš”. ê³¼ì—… í•˜ë‚˜í•˜ë‚˜ì— ì¸¡ì • ê°€ëŠ¥í•œ ê¸°ì¤€ì´ ìˆì–´ì•¼ í•˜ê³ , ê·¸ê±¸ ë§ì¶”ëŠ” ê²Œ ì¤‘ìš”í•´ìš”.",
    desc:"'ì´ê±° ê¸°ì¤€ì´ ë­ì˜ˆìš”?'ê°€ ìì—°ìŠ¤ëŸ½ê²Œ ë‚˜ì˜¤ëŠ” ì‚¬ëŒ. ëŠë‚Œìœ¼ë¡œ ê²°ì •í•˜ëŠ” ê±¸ ë¶ˆí¸í•´í•˜ê³ , ëª…í™•í•œ ê¸°ì¤€ì„ ì„¸ìš°ê³  ê·¸ì— ë§ì¶° ê³¼ì—…ì„ ê´€ë¦¬í•˜ê³  ì‹¶ì–´í•´ìš”.\n\nì „ëµì ìœ¼ë¡œ ë©€ë¦¬ ë³´ëŠ” ê²ƒë³´ë‹¤ëŠ” ì§€ê¸ˆ ëˆˆì•ì˜ ê³¼ì—…ì„ ì •í™•í•˜ê²Œ ì²˜ë¦¬í•˜ëŠ” ë° ì§‘ì¤‘í•˜ê³ , ê·¸ë ‡ë‹¤ê³  ì†ë„ë§Œ ë‚´ëŠ” ê²Œ ì•„ë‹ˆë¼ ê¸°ì¤€ê³¼ í’ˆì§ˆì„ ê°™ì´ ì±™ê¸°ëŠ” ì‚¬ëŒì´ì—ìš”. ë³´ê³ ì„œ ì œì¶œ ì „ í•œ ë²ˆ ë” ìˆ«ìë¥¼ í™•ì¸í•˜ëŠ” íƒ€ì….",
    painPoint:"ê¸°ì¤€ ì—†ì´ ê°ìœ¼ë¡œ ê²°ì •í•˜ëŠ” í™˜ê²½. 'ê·¸ëƒ¥ ëŠë‚Œì´ ê·¸ë˜ì„œ'ê°€ ê·¼ê±°ê°€ ë˜ëŠ” íšŒì˜ë¥¼ ì°¸ê¸° ì–´ë µê³ , ë³¸ì¸ì´ ê¼¼ê¼¼í•˜ê²Œ ì •ë¦¬í•œ ê¸°ì¤€ì„ ë¬´ì‹œë‹¹í•  ë•Œ ë§ì´ ìƒí•´ìš”.",
    flavor:{
      "C-D-":"ë°ì´í„°ì™€ ìƒˆ ê¸°ì¤€ìœ¼ë¡œ ê³¼ì—…ì„ í˜ì‹ í•˜ëŠ” 'ê°œì„ í˜• ê´€ë¦¬ì'. ê¸°ì¡´ ë°©ì‹ì„ ë¶„ì„í•˜ê³  ë” ë‚˜ì€ ê¸°ì¤€ì„ ë§Œë“¤ì–´ìš”.",
      "C-D+":"ì§ê°ìœ¼ë¡œ ê³¼ì—…ì˜ ìš°ì„ ìˆœìœ„ë¥¼ ì¡ëŠ” 'ë¯¼ì²©í•œ ê´€ë¦¬ì'. ë³€í™”ì— ë¹ ë¥´ê²Œ ëŒ€ì‘í•˜ë©´ì„œë„ ê³¼ì—… í’ˆì§ˆì„ ë†“ì¹˜ì§€ ì•Šì•„ìš”.",
      "C+D-":"ë°ì´í„°ë¡œ í’ˆì§ˆì„ ì§€í‚¤ëŠ” 'ì •ë°€ ê´€ë¦¬ì'. ì•ˆì •ì ì´ê³  ê¼¼ê¼¼í•˜ê²Œ, ìˆ˜ì¹˜ë¡œ ì¦ëª…ë˜ëŠ” ê²°ê³¼ë¬¼ì„ ë§Œë“¤ì–´ìš”.",
      "C+D+":"ê²½í—˜ ê¸°ë°˜ìœ¼ë¡œ ê³¼ì—…ì„ ìš´ì˜í•˜ëŠ” 'ìˆ™ë ¨ ê´€ë¦¬ì'. ì˜¤ëœ ì‹¤ë¬´ ê²½í—˜ì—ì„œ ë‚˜ì˜¤ëŠ” ê°ê°ìœ¼ë¡œ ê³¼ì—…ì˜ íë¦„ì„ ê´€ë¦¬í•´ìš”."
    },
    keywords:["ë°ì´í„° ê¸°ë°˜","ê¸°ì¤€ ì„¤ì •","í’ˆì§ˆ ê´€ë¦¬","ê³¼ì—… ì§‘ì¤‘","ê°ê´€ì  íŒë‹¨"],
    energyUp:["HR ë°ì´í„° ë¶„ì„Â·ëŒ€ì‹œë³´ë“œ êµ¬ì¶•","í‰ê°€ ê¸°ì¤€ ì„¤ì •Â·ëª¨ë‹ˆí„°ë§","ì¸ì‚¬ ì œë„ ìš´ì˜Â·ê´€ë¦¬","ì±„ìš© í”„ë¡œì„¸ìŠ¤ í’ˆì§ˆ ê´€ë¦¬","ì •ê¸° ë¦¬í¬íŠ¸ ì‘ì„±Â·ë¶„ì„"],
    energyDown:["ì •ë‹µ ì—†ëŠ” ê°ì •ì  ëŒ€í™”","êµ¬ì¡° ì—†ì´ í˜ëŸ¬ê°€ëŠ” ë¸Œë ˆì¸ìŠ¤í† ë°","ì¸¡ì • ë¶ˆê°€ëŠ¥í•œ ì¶”ìƒì  ëª©í‘œ","ì‚¬ëŒ ê°„ ê°ˆë“± ì¤‘ì¬"],
    manual:{
      request:"ëª…í™•í•œ ê¸°ëŒ€ì¹˜ì™€ ê¸°ì¤€ì„ ë¨¼ì € ì œì‹œí•´ì£¼ì„¸ìš”. ë°ì´í„°ë‚˜ ì‚¬ë¡€ê°€ ìˆìœ¼ë©´ ë” íš¨ê³¼ì ì´ì—ìš”.",
      feedback:"êµ¬ì²´ì ì¸ ì‚¬ì‹¤ê³¼ ê¸°ì¤€ì„ ê·¼ê±°ë¡œ í”¼ë“œë°±í•´ì£¼ì„¸ìš”. ê°ì •ë³´ë‹¤ ë…¼ë¦¬ì— ë°˜ì‘í•˜ëŠ” íƒ€ì…ì´ì—ìš”.",
      avoid:"ê¸°ì¤€ ì—†ì´ 'ì•Œì•„ì„œ í•´'ë¼ê³  ë˜ì§€ê¸°. ê°ìœ¼ë¡œ ê²°ë¡ ì„ ë‚´ë¦¬ê¸°.",
      stress:"ì ì  ë” ê¼¼ê¼¼í•´ì§€ë©´ì„œ ì†ë„ê°€ ëŠë ¤ì ¸ìš”. ì™„ë²½í•˜ê²Œ ì •ë¦¬ë  ë•Œê¹Œì§€ ê³µìœ ë¥¼ ë¯¸ë£¨ê¸° ì‹œì‘í•´ìš”.",
      overload:"'80%ë©´ ì¶©ë¶„í•´'ë¼ëŠ” ë©”ì‹œì§€ê°€ ë„ì›€ë¼ìš”. ëª…í™•í•œ ìš°ì„ ìˆœìœ„ë¥¼ í•¨ê»˜ ì •í•´ì£¼ì„¸ìš”."
    },
    bestMatch:"facilitator",bestMatchShort:"ê´€ê³„ ì´‰ì§„ì ğŸ’¬",bestReason:"ê´€ë¦¬ìì˜ ê°ê´€ì  ê¸°ì¤€ + ì´‰ì§„ìì˜ ì‚¬ëŒ ê°ê° â†’ ê³µì •í•˜ë©´ì„œë„ ë”°ëœ»í•œ HRì´ ê°€ëŠ¥í•´ìš”.",
    tensionMatch:"strategist",tensionMatchShort:"ì „ëµ ê¸°íšê°€ ğŸ§­",tensionReason:"ê´€ë¦¬ìëŠ” ì§€ê¸ˆì˜ ê¸°ì¤€ì„, ê¸°íšê°€ëŠ” ë¯¸ë˜ì˜ ë°©í–¥ì„ ë¨¼ì € ë´ì„œ ì´ˆì ì´ ë‹¤ë¥¼ ìˆ˜ ìˆì–´ìš”."
  },
  executor:{name:"í˜„ì¥ ì‹¤í–‰ê°€",emoji:"âš¡",code:"E",
    subtitle:"í˜„ì¥ì—ì„œ ì§ì ‘ ë¶€ë”ªíˆë©° ê²°ê³¼ë¥¼ ë§Œë“œëŠ” BP",
    color:"#10B981",colorLight:"#6EE7B7",colorBg:"#ECFDF5",
    coreNeed:"'ì¼ì´ ì§„ì „ë˜ëŠ” ê²Œ ë³´ì—¬ì•¼' ì—ë„ˆì§€ê°€ ë‚˜ìš”. ë…¼ì˜ë³´ë‹¤ í–‰ë™ì´ í¸í•˜ê³ , ì§ì ‘ í•´ë´ì•¼ ê°ì´ ì™€ìš”.",
    desc:"'ì¼ë‹¨ í•´ë³´ì'ê°€ ì…ì— ë¶™ì€ ì‚¬ëŒ. ì™„ë²½í•œ ê³„íšë³´ë‹¤ ë¹ ë¥¸ ì‹¤í–‰ì„ ì„ í˜¸í•˜ê³ , í˜„ì¥ì—ì„œ ì§ì ‘ ë¶€ë”ªíˆë©´ì„œ ë°©ë²•ì„ ì°¾ì•„ê°€ëŠ” íƒ€ì…ì´ì—ìš”.\n\nì‚¬ëŒ ê´€ê³„ë„ ì‹ ê²½ ì“°ê³ , ê³¼ì—… í€„ë¦¬í‹°ë„ ì±™ê¸°ì§€ë§Œ, ë‘˜ ë‹¤ 'ì§ì ‘ í•˜ë©´ì„œ' í•´ê²°í•˜ëŠ” ìŠ¤íƒ€ì¼. íšŒì˜ì‹¤ì—ì„œ ë…¼ì˜í•˜ëŠ” ê²ƒë³´ë‹¤ í˜„ì¥ì—ì„œ ë›°ì–´ë‹¤ë‹ˆëŠ” ê²Œ ë” ì˜ ë§ì•„ìš”.",
    painPoint:"ëì—†ëŠ” íšŒì˜ì™€ ë…¼ì˜. 'ì´ê±° ì¢€ ë” ìƒê°í•´ë³´ì'ê°€ ë°˜ë³µë˜ë©´ ë‹µë‹µí•´ì§€ê³ , ê²°ë¡  ì—†ì´ í©ì–´ì§€ëŠ” ë¯¸íŒ… í›„ì— ì—ë„ˆì§€ê°€ ë°”ë‹¥ë‚˜ìš”.",
    flavor:{
      "C-D-":"ë°ì´í„°ë¥¼ ë“¤ê³  í˜„ì¥ì—ì„œ ë›°ëŠ” 'ë¶„ì„ì  í–‰ë™ê°€'. ìƒˆë¡œìš´ ë°©ë²•ì„ ì‹¤í—˜í•˜ë©´ì„œë„ ìˆ˜ì¹˜ë¡œ íš¨ê³¼ë¥¼ í™•ì¸í•´ìš”.",
      "C-D+":"ì§ê°ìœ¼ë¡œ í˜„ì¥ì„ ëŒíŒŒí•˜ëŠ” 'ê°œì²™ì'. ìƒˆë¡œìš´ ì‹œë„ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ì•Šê³ , ê°ê°ì ìœ¼ë¡œ ìµœì ì˜ ì‹¤í–‰ ë°©ë²•ì„ ì°¾ì•„ìš”.",
      "C+D-":"ë°ì´í„° ê¸°ë°˜ìœ¼ë¡œ ì•ˆì •ì ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” 'ìš´ì˜ ì „ë¬¸ê°€'. ê²€ì¦ëœ ë°©ë²•ìœ¼ë¡œ ê¼¼ê¼¼í•˜ê²Œ í˜„ì¥ì„ ê´€ë¦¬í•´ìš”.",
      "C+D+":"ê²½í—˜ì—ì„œ ë‚˜ì˜¤ëŠ” ê°ê°ìœ¼ë¡œ í˜„ì¥ì„ ì´ë„ëŠ” 'ìˆ™ë ¨ ì‹¤í–‰ê°€'. ëª¸ì— ë°´ ë…¸í•˜ìš°ë¡œ ì–´ë–¤ ìƒí™©ì—ì„œë„ í•´ê²°ì±…ì„ ì°¾ì•„ìš”."
    },
    keywords:["ì‹¤í–‰ë ¥","í˜„ì¥ ì¤‘ì‹¬","ë¹ ë¥¸ ëŒ€ì‘","ì§ì ‘ ë¶€ë”ªí˜","í–‰ë™ ì§€í–¥"],
    energyUp:["í˜„ì¥ ì´ìŠˆ ì¦‰ì‹œ ëŒ€ì‘Â·í•´ê²°","ì‹ ê·œ í”„ë¡œì íŠ¸ ë¹ ë¥¸ ì°©ìˆ˜","ì±„ìš©Â·ì˜¨ë³´ë”© ì‹¤ë¬´ ìš´ì˜","í˜„ì—… ë¦¬ë”ì™€ ì§ì ‘ í˜‘ì—…","ë‹¨ê¸° ëª©í‘œ ë‹¬ì„± í”„ë¡œì íŠ¸"],
    energyDown:["ì¥ê¸° ì „ëµ ë¬¸ì„œ ì‘ì„±","ëì´ ì•ˆ ë³´ì´ëŠ” ë°©í–¥ì„± ë…¼ì˜","ê²°ë¡  ì—†ëŠ” ë°˜ë³µ íšŒì˜","í˜¼ìì„œ í•˜ëŠ” ë°ì´í„° ë¶„ì„"],
    manual:{
      request:"ê²°ë¡ ê³¼ ê¸°ëŒ€ì¹˜ë¥¼ ë¨¼ì € ë§í•´ì£¼ì„¸ìš”. 'ì´ê±°ë¥¼ ì´ë ‡ê²Œ'ê°€ ëª…í™•í•˜ë©´ ë°”ë¡œ ì›€ì§ì—¬ìš”.",
      feedback:"ëª…í™•í•˜ê³  êµ¬ì²´ì ìœ¼ë¡œ. 'ì´ê±´ ì˜í–ˆê³ , ì´ê±´ ë°”ê¿”ë³´ì' ì‹ì´ ì œì¼ ì¢‹ì•„ìš”.",
      avoid:"ê²°ë¡  ì—†ì´ ë…¼ì˜ë§Œ ê¸¸ê²Œ ì´ì–´ê°€ê¸°. ì‹¤í–‰ ì „ì— ì™„ë²½í•œ ì¤€ë¹„ë¥¼ ìš”êµ¬í•˜ê¸°.",
      stress:"ë” ë¹ ë¥´ê²Œ ë°€ì–´ë¶™ì´ë©´ì„œ ì£¼ë³€ ë°˜ì‘ì„ ëª» ë³´ê¸° ì‹œì‘í•´ìš”. 'ì¼ë‹¨ í•´'ê°€ ë„ˆë¬´ ì¦ì•„ì§€ë©´ ì‹ í˜¸ì˜ˆìš”.",
      overload:"ì‘ì€ ì„±ì·¨ë¥¼ ëŠë‚„ ìˆ˜ ìˆëŠ” ë‹¨ê¸° ê³¼ì—…ì„ ì£¼ì„¸ìš”. ë¹ ë¥´ê²Œ ëë‚¼ ìˆ˜ ìˆëŠ” ì¼ì´ ì—ë„ˆì§€ë¥¼ íšŒë³µì‹œì¼œìš”."
    },
    bestMatch:"strategist",bestMatchShort:"ì „ëµ ê¸°íšê°€ ğŸ§­",bestReason:"ê¸°íšê°€ì˜ ë°©í–¥ + ì‹¤í–‰ê°€ì˜ ì¶”ì§„ë ¥ â†’ ìƒê°ê³¼ í–‰ë™ì´ ê· í˜•ì„ ì´ë¤„ìš”.",
    tensionMatch:"facilitator",tensionMatchShort:"ê´€ê³„ ì´‰ì§„ì ğŸ’¬",tensionReason:"ì‹¤í–‰ê°€ëŠ” ë¹ ë¥´ê²Œ ì›€ì§ì´ê³  ì‹¶ê³ , ì´‰ì§„ìëŠ” ì¶©ë¶„íˆ ì†Œí†µí•˜ê³  ì‹¶ì–´ì„œ ì†ë„ ì°¨ì´ê°€ ë‚  ìˆ˜ ìˆì–´ìš”."
  }
};
const TYPES=["architect","strategist","builder","facilitator","allrounder","taskmaster","connector","executor","driver"];
const TYPE_THRESHOLD=5;
const typeFromScores=(se,pt)=>{
  const sz=se<=-TYPE_THRESHOLD?'S':se>=TYPE_THRESHOLD?'E':'M';
  const pz=pt<=-TYPE_THRESHOLD?'P':pt>=TYPE_THRESHOLD?'T':'M';
  return{SP:'architect',SM:'strategist',ST:'builder',MP:'facilitator',MM:'allrounder',MT:'taskmaster',EP:'connector',EM:'executor',ET:'driver'}[sz+pz];
};
const getBaseType=tk=>({strategist:'architect',facilitator:'connector',taskmaster:'builder',executor:'driver',allrounder:'architect'}[tk]||tk);

/* Flavor system: CS Ã— DI â†’ 4 flavors */
const FLAVOR_LABELS={
  "C-D-":{name:"í˜ì‹  ë¶„ì„ê°€",icon:"ğŸ”¬",desc:"ë³€í™”ë¥¼ ì¶”êµ¬í•˜ë©´ì„œ ë°ì´í„°ë¡œ ê²€ì¦í•˜ëŠ” íƒ€ì…"},
  "C-D+":{name:"ì°½ì˜ì  íƒí—˜ê°€",icon:"ğŸš€",desc:"ë³€í™”ë¥¼ ì¶”êµ¬í•˜ë©´ì„œ ì§ê´€ìœ¼ë¡œ ë°©í–¥ì„ ì¡ëŠ” íƒ€ì…"},
  "C+D-":{name:"ì•ˆì •ì  ì „ëµê°€",icon:"ğŸ›¡ï¸",desc:"ì•ˆì •ì„ ì¶”êµ¬í•˜ë©´ì„œ ë°ì´í„°ë¡œ íŒë‹¨í•˜ëŠ” íƒ€ì…"},
  "C+D+":{name:"ê²½í—˜ ê¸°ë°˜ ìˆ˜í˜¸ì",icon:"ğŸŒ¿",desc:"ì•ˆì •ì„ ì¶”êµ¬í•˜ë©´ì„œ ì§ê´€ê³¼ ê²½í—˜ìœ¼ë¡œ íŒë‹¨í•˜ëŠ” íƒ€ì…"}
};
const getFlavorKey=(cs,di)=>(cs<=0?"C-":"C+")+(di<=0?"D-":"D+");

/* Phase-based Task System */
const TASK_PHASES = [
  {id:"direction",name:"ë°©í–¥ ì„¤ì •",icon:"ğŸ§­",desc:"ì™œ í•˜ëŠ”ì§€, ì–´ë””ë¡œ ê°€ëŠ”ì§€ ê²°ì •",
    bestTypes:["architect","strategist","allrounder"],
    goodTypes:["builder","facilitator"]},
  {id:"design",name:"ì²´ê³„ ì„¤ê³„",icon:"ğŸ“",desc:"í”„ë¡œì„¸ìŠ¤, ê¸°ì¤€, êµ¬ì¡° ë§Œë“¤ê¸°",
    bestTypes:["builder","taskmaster","architect"],
    goodTypes:["strategist","allrounder"]},
  {id:"communication",name:"ì´í•´ê´€ê³„ì ì†Œí†µ",icon:"ğŸ’¬",desc:"ì„¤ë“, ê³µê°ëŒ€ í˜•ì„±, ê°ˆë“± ì¡°ìœ¨",
    bestTypes:["connector","facilitator","architect"],
    goodTypes:["allrounder","executor"]},
  {id:"execution",name:"ì‹¤í–‰ ìš´ì˜",icon:"âš¡",desc:"ê³„íšì„ ì‹¤ì œë¡œ ëŒë¦¬ê³ , ë§ˆê° ì§€í‚¤ê¸°",
    bestTypes:["driver","executor","taskmaster"],
    goodTypes:["connector","allrounder"]},
  {id:"analysis",name:"ë°ì´í„° ë¶„ì„",icon:"ğŸ“Š",desc:"ê²°ê³¼ ì¸¡ì •, íš¨ê³¼ ê²€ì¦, ê°œì„ ì  ë„ì¶œ",
    bestTypes:["builder","taskmaster","driver"],
    goodTypes:["architect","strategist"]}
];

const HR_PROJECTS = [
  {name:"ì±„ìš© ë¸Œëœë”© ê¸°íš",phases:["direction","communication","design","execution","analysis"]},
  {name:"í‰ê°€Â·ë³´ìƒ ì²´ê³„ ê°œí¸",phases:["direction","design","communication","execution","analysis"]},
  {name:"ì¡°ì§ë¬¸í™” ì§„ë‹¨Â·ê°œì„ ",phases:["direction","analysis","design","communication","execution"]},
  {name:"ì˜¨ë³´ë”© í”„ë¡œê·¸ë¨ êµ¬ì¶•",phases:["direction","design","execution","communication","analysis"]},
  {name:"HR ë°ì´í„° ëŒ€ì‹œë³´ë“œ êµ¬ì¶•",phases:["direction","design","analysis","execution","communication"]},
  {name:"ë¦¬ë”ì‹­ ê°œë°œ í”„ë¡œê·¸ë¨",phases:["direction","communication","design","execution","analysis"]},
];


/* 1:1 Relationship Guide Data */
const REL_GUIDE = {
  "architect>architect":{req:"ì„œë¡œ í° ê·¸ë¦¼ ë…¼ì˜ë¥¼ ì¦ê¸°ì§€ë§Œ, ëˆ„ê°€ ì‹¤í–‰í• ì§€ ê¼­ ì •í•˜ì„¸ìš”",fb:"ë°©í–¥ì„± ê³µê° í›„ 'ê·¸ë˜ì„œ êµ¬ì²´ì ìœ¼ë¡œëŠ”?' ì§ˆë¬¸ì„ ì„œë¡œ ë˜ì ¸ì£¼ì„¸ìš”",warn:"ë‘˜ ë‹¤ ì „ëµë§Œ ë…¼ì˜í•˜ë‹¤ ì‹¤í–‰ì´ ë¹ ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ì¡°ì§ ë¹„ì „ê³¼ ë³€í™” ê´€ë¦¬ë¥¼ í•¨ê»˜ ì„¤ê³„í•˜ë©´ ê¹Šì´ ìˆëŠ” ê²°ê³¼ë¬¼ì´ ë‚˜ì™€ìš”"},
  "architect>builder":{req:"'ì™œ'ë¥¼ ë¨¼ì € ê³µìœ í•˜ê³ , êµ¬ì¡°í™”í•  ì‹œê°„ì„ ì¶©ë¶„íˆ ì£¼ì„¸ìš”",fb:"ë…¼ë¦¬ì™€ ë°ì´í„°ë¡œ ì„¤ëª…í•˜ë©´ ì˜ ë°›ì•„ë“¤ì—¬ìš”",warn:"ì„¤ê³„ìëŠ” ìœ ì—°í•˜ê²Œ, ë¹Œë”ëŠ” ì²´ê³„ì ìœ¼ë¡œ â€” ì†ë„ ì°¨ì´ì— ì£¼ì˜",synergy:"ì„¤ê³„ìê°€ ë°©í–¥ì„ ì¡ê³  ë¹Œë”ê°€ ì‹œìŠ¤í…œí™”í•˜ë©´ ì§€ì† ê°€ëŠ¥í•œ ê²°ê³¼ë¬¼ì´ ë‚˜ì™€ìš”"},
  "architect>connector":{req:"ì˜ë¯¸ì™€ ë§¥ë½ì„ ê³µìœ í•˜ë©´ ì»¤ë„¥í„°ê°€ í˜„ì¥ì—ì„œ ì „íŒŒí•´ì¤„ ê±°ì˜ˆìš”",fb:"ë”°ëœ»í•˜ê²Œ, 1:1ë¡œ. ê³µê°œì  í”¼ë“œë°±ì€ í”¼í•´ì£¼ì„¸ìš”",warn:"ì„¤ê³„ìì˜ ì¶”ìƒì  ë°©í–¥ì´ ì»¤ë„¥í„°ì—ê²Œ ë§‰ì—°í•˜ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ì„¤ê³„ìê°€ ë³€í™”ì˜ ë°©í–¥ì„, ì»¤ë„¥í„°ê°€ êµ¬ì„±ì›ì˜ ìˆ˜ìš©ì„ ë‹´ë‹¹í•˜ë©´ ì™„ë²½í•´ìš”"},
  "architect>driver":{req:"ë°°ê²½(Why)ì„ ë¨¼ì € ì„¤ëª…í•œ ë’¤, ëª…í™•í•œ ê¸°ëŒ€ì¹˜ì™€ ë°ë“œë¼ì¸ì„ ì£¼ì„¸ìš”",fb:"êµ¬ì²´ì ìœ¼ë¡œ 'ì´ê±´ ì˜í–ˆê³ , ì´ê±´ ë°”ê¿”ë³´ì' ì‹ìœ¼ë¡œ",warn:"ë“œë¼ì´ë²„ì—ê²Œ ëª¨í˜¸í•œ ë°©í–¥ë§Œ ë˜ì§€ë©´ ë‹µë‹µí•´í•´ìš”",synergy:"ì„¤ê³„ìì˜ ë¹„ì „ + ë“œë¼ì´ë²„ì˜ ì‹¤í–‰ë ¥ = ê°€ì¥ íš¨ê³¼ì ì¸ ì¡°í•©ì´ì—ìš”"},
  "builder>architect":{req:"ë°ì´í„°Â·ë…¼ë¦¬ë§Œ ì „ë‹¬í•˜ì§€ ë§ê³ , 'ì´ê²Œ ì™œ ì¤‘ìš”í•œì§€' ë§¥ë½ë„ ê°™ì´ ì£¼ì„¸ìš”",fb:"ë°©í–¥ì„± ë¨¼ì € ì¸ì •í•˜ê³ , ë””í…Œì¼ í”¼ë“œë°±ì€ ê·¸ ë‹¤ìŒì—",warn:"ë¹Œë”ì˜ ì²´ê³„ ì¤‘ì‹¬ ì ‘ê·¼ì´ ì„¤ê³„ìì—ê² 'ìœ ì—°í•˜ì§€ ì•Šë‹¤'ë¡œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ë¹Œë”ì˜ êµ¬ì¡° + ì„¤ê³„ìì˜ ë°©í–¥ê°ì´ ë§Œë‚˜ë©´ ì „ëµê³¼ ì‹¤í–‰ì´ ì—°ê²°ë¼ìš”"},
  "builder>builder":{req:"ì„œë¡œ ê¸°ì¤€ê³¼ í”„ë ˆì„ì„ ë¨¼ì € ë§ì¶”ê³ , ì—­í• ì„ ëª…í™•íˆ ë‚˜ëˆ„ì„¸ìš”",fb:"ê°ê´€ì  ë°ì´í„°ë¡œ ì„œë¡œ ê²€ì¦í•´ì£¼ë©´ ì‹ ë¢°ê°€ ìŒ“ì—¬ìš”",warn:"ë‘˜ ë‹¤ ì™„ë²½ì£¼ì˜ë¼ ì˜ê²¬ ì¶©ëŒ ì‹œ í‰í–‰ì„ ì„ ë‹¬ë¦´ ìˆ˜ ìˆì–´ìš”",synergy:"ë³µì¡í•œ ì œë„ ì„¤ê³„ë¥¼ í•¨ê»˜ í•˜ë©´ ë¹ˆí‹ˆ ì—†ëŠ” ì‹œìŠ¤í…œì´ ë‚˜ì™€ìš”"},
  "builder>connector":{req:"ë”°ëœ»í•œ í†¤ìœ¼ë¡œ, ì´ ì¼ì´ ì‚¬ëŒë“¤ì—ê²Œ ì–´ë–¤ ì˜ë¯¸ì¸ì§€ í•¨ê»˜ ì„¤ëª…í•´ì£¼ì„¸ìš”",fb:"1:1ë¡œ ì¡°ìš©íˆ, ê´€ê³„ë¥¼ í•´ì¹˜ì§€ ì•ŠëŠ” ì„ ì—ì„œ",warn:"ë¹Œë”ì˜ ì§ì ‘ì Â·ë…¼ë¦¬ì  ì†Œí†µì´ ì»¤ë„¥í„°ì—ê² ì°¨ê°‘ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ë¹Œë”ê°€ ë§Œë“  ì‹œìŠ¤í…œì„ ì»¤ë„¥í„°ê°€ í˜„ì¥ì— ë¶€ë“œëŸ½ê²Œ ì•ˆì°©ì‹œì¼œìš”"},
  "builder>driver":{req:"ëª…í™•í•œ ê¸°ëŒ€ì¹˜Â·ë°ë“œë¼ì¸Â·ê¸°ì¤€ì„ ì œì‹œí•˜ë©´ ë°”ë¡œ ì‹¤í–‰í•´ìš”",fb:"êµ¬ì²´ì  ì‚¬ì‹¤ ê¸°ë°˜ìœ¼ë¡œ ëª…í™•í•˜ê²Œ",warn:"ë¹Œë”ê°€ ê²€í† ì— ì‹œê°„ì„ ì“°ëŠ” ë™ì•ˆ ë“œë¼ì´ë²„ê°€ ë‹µë‹µí•´í•  ìˆ˜ ìˆì–´ìš”",synergy:"ë¹Œë”ê°€ ì„¤ê³„í•˜ê³  ë“œë¼ì´ë²„ê°€ ì‹¤í–‰í•˜ë©´ íš¨ìœ¨ ê·¹ëŒ€í™”"},
  "connector>architect":{req:"ì„¤ê³„ìì˜ í° ê·¸ë¦¼ì„ ì¡´ì¤‘í•˜ë˜, 'í˜„ì¥ì—ì„œëŠ” ì´ëŸ° ë°˜ì‘ì´ ìˆì–´ìš”'ë¡œ ë³´ì™„í•´ì£¼ì„¸ìš”",fb:"ë°©í–¥ì„± ë¨¼ì € ê³µê°í•˜ê³ , í˜„ì¥ í”¼ë“œë°±ì„ ì¶”ê°€í•˜ëŠ” ìˆœì„œë¡œ",warn:"ì»¤ë„¥í„°ì˜ 'ì‚¬ëŒ ë°˜ì‘' ì¤‘ì‹¬ í”¼ë“œë°±ì´ ì„¤ê³„ìì—ê² ì‹¤í–‰ ì €í•­ìœ¼ë¡œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ì»¤ë„¥í„°ì˜ í˜„ì¥ ì¸ì‚¬ì´íŠ¸ê°€ ì„¤ê³„ìì˜ ì „ëµì— í˜„ì‹¤ê°ì„ ë”í•´ìš”"},
  "connector>builder":{req:"ê°ì •ì´ ì•„ë‹Œ êµ¬ì²´ì  ì‚¬ë¡€ì™€ ë°ì´í„°ë¡œ ì „ë‹¬í•˜ë©´ ì˜ ë°›ì•„ë“¤ì—¬ìš”",fb:"ë…¼ë¦¬ì  ê·¼ê±°ë¥¼ ê³ë“¤ì—¬ í”¼ë“œë°±í•˜ë©´ ì„¤ë“ë ¥ì´ ì˜¬ë¼ê°€ìš”",warn:"ì»¤ë„¥í„°ì˜ ê°ì • ì¤‘ì‹¬ ì†Œí†µì´ ë¹Œë”ì—ê² ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ì»¤ë„¥í„°ê°€ í˜„ì¥ ëª©ì†Œë¦¬ë¥¼ ëª¨ì•„ì˜¤ë©´ ë¹Œë”ê°€ ì‹œìŠ¤í…œì— ë°˜ì˜í•´ìš”"},
  "connector>connector":{req:"ì„œë¡œ ê³µê°ì„ ì˜ í•˜ì§€ë§Œ, êµ¬ì²´ì  ì•¡ì…˜ê³¼ ë§ˆê°ì„ ê¼­ ì •í•˜ì„¸ìš”",fb:"ë”°ëœ»í•˜ê²Œ ì£¼ê³ ë°›ë˜, 'ê·¸ë˜ì„œ ì–´ë–»ê²Œ í• ê¹Œ?'ë¡œ ë§ˆë¬´ë¦¬í•´ì£¼ì„¸ìš”",warn:"ë‘˜ ë‹¤ ê±°ì ˆì„ ëª» í•´ì„œ ì„œë¡œ ì—…ë¬´ë¥¼ ë– ë„˜ê¸°ëŠ” êµ¬ì¡°ê°€ ë  ìˆ˜ ìˆì–´ìš”",synergy:"êµ¬ì„±ì› ì¼€ì–´ì™€ ì†Œí†µ ì´‰ì§„ì—ì„œ ìµœê°• íŒ€ì›Œí¬ë¥¼ ë°œíœ˜í•´ìš”"},
  "connector>driver":{req:"ê²°ë¡ ê³¼ ê¸°ëŒ€ì¹˜ë¥¼ ë¨¼ì € ì „ë‹¬í•˜ê³ , ë§¥ë½ì€ ê°„ê²°í•˜ê²Œ ì¶”ê°€í•´ì£¼ì„¸ìš”",fb:"ëª…í™•í•˜ê³  êµ¬ì²´ì ìœ¼ë¡œ. ê°ì •ì  í‘œí˜„ë³´ë‹¤ ì‚¬ì‹¤ ìœ„ì£¼ë¡œ",warn:"ì»¤ë„¥í„°ê°€ ê´€ê³„ë¥¼ ì±™ê¸°ëŠë¼ ëŠë ¤ì§€ë©´ ë“œë¼ì´ë²„ê°€ ë‹µë‹µí•´í•  ìˆ˜ ìˆì–´ìš”",synergy:"ì»¤ë„¥í„°ê°€ ì‚¬ëŒ ì´ìŠˆë¥¼, ë“œë¼ì´ë²„ê°€ ì‹¤í–‰ì„ ë§¡ìœ¼ë©´ ì„œë¡œ ë¶€ë‹´ì´ ì¤„ì–´ìš”"},
  "driver>architect":{req:"ì‹¤í–‰ ê³„íšë¿ ì•„ë‹ˆë¼ 'ì™œ ì´ ë°©í–¥ì¸ì§€' ë°°ê²½ë„ ê°™ì´ ê³µìœ í•´ì£¼ì„¸ìš”",fb:"ë°©í–¥ì„±ì„ ë¨¼ì € ì¸ì •í•œ í›„ ì‹¤í–‰ ê´€ì  í”¼ë“œë°±ì„",warn:"ë“œë¼ì´ë²„ì˜ 'ë¹¨ë¦¬ ê²°ë¡  ë‚´ì'ê°€ ì„¤ê³„ìì—ê² 'ê¹Šì´ ì—†ë‹¤'ë¡œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ë“œë¼ì´ë²„ì˜ ì‹¤í–‰ë ¥ì´ ì„¤ê³„ìì˜ ì „ëµì„ í˜„ì‹¤ë¡œ ë§Œë“¤ì–´ìš”"},
  "driver>builder":{req:"ë°ì´í„°ì™€ ë…¼ë¦¬ ê·¼ê±°ë¥¼ ì¤€ë¹„í•´ì„œ ì „ë‹¬í•˜ë©´ ê²€í† ê°€ ë¹¨ë¼ì ¸ìš”",fb:"ì‚¬ì‹¤ ê¸°ë°˜ìœ¼ë¡œ, ì¶©ë¶„í•œ ê²€í†  ì‹œê°„ì„ ì£¼ì„¸ìš”",warn:"ë“œë¼ì´ë²„ì˜ 'ì¼ë‹¨ í•´ë³´ì'ê°€ ë¹Œë”ì—ê² 'ì¤€ë¹„ ì•ˆ ëëŠ”ë°'ë¡œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ë“œë¼ì´ë²„ê°€ ë¹ ë¥´ê²Œ ì‹¤í–‰í•˜ê³  ë¹Œë”ê°€ ì²´ê³„ë¥¼ ë³´ì™„í•˜ë©´ ì†ë„+í’ˆì§ˆ ë‘˜ ë‹¤ ì¡ì•„ìš”"},
  "driver>connector":{req:"ë”°ëœ»í•œ í†¤ì„ ì¶”ê°€í•˜ê³ , ì—…ë¬´ëŸ‰ì´ ê³¼í•˜ì§€ ì•Šì€ì§€ ì²´í¬í•´ì£¼ì„¸ìš”",fb:"1:1ë¡œ ì¡°ìš©íˆ, ë…¸ë ¥ì„ ì¸ì •í•œ ë’¤ ê°œì„ ì ì„",warn:"ë“œë¼ì´ë²„ì˜ ë¹ ë¥¸ ì†ë„ì™€ ì§ì ‘ì  ì†Œí†µì´ ì»¤ë„¥í„°ì—ê² ì••ë°•ìœ¼ë¡œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ë“œë¼ì´ë²„ê°€ ì‹¤í–‰ì„, ì»¤ë„¥í„°ê°€ ì‚¬ëŒ ì¼€ì–´ë¥¼ ë‚˜ëˆ„ë©´ ê· í˜• ì¡íŒ íŒ€"},
  "driver>driver":{req:"ì„œë¡œ ê¸°ëŒ€ì¹˜ì™€ ì—­í• ì„ ëª…í™•íˆ ë‚˜ëˆ„ê³ , ê²¹ì¹˜ì§€ ì•Šê²Œ í•˜ì„¸ìš”",fb:"ê²°ê³¼ ê¸°ë°˜ìœ¼ë¡œ ì§ì ‘ì ìœ¼ë¡œ. ë‘˜ ë‹¤ ëª…í™•í•œ ê±¸ ì¢‹ì•„í•´ìš”",warn:"ë‘˜ ë‹¤ ë¹ ë¥´ê²Œ ë°€ì–´ë¶™ì—¬ì„œ ê´€ê³„ë‚˜ í° ê·¸ë¦¼ì´ ë¹ ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ì‹¤í–‰ë ¥ì´ ë‘ ë°°! ë‹¨ê¸° í”„ë¡œì íŠ¸ì—ì„œ ìµœê°•ì˜ íš¨ìœ¨ì„ ë³´ì—¬ìš”"}
};

/* Phase-based person task matching */
function getPersonPhases(member){
  const tk=member.typeKey;
  const best=TASK_PHASES.filter(p=>p.bestTypes.includes(tk));
  const good=TASK_PHASES.filter(p=>!p.bestTypes.includes(tk)&&p.goodTypes.includes(tk));
  return{bestPhases:best,goodPhases:good};
}

/* ===== TEAM ANALYSIS HELPERS ===== */
function analyzeTeamComposition(members){
  const tips=[];
  const total=members.length;
  const nl=(arr)=>arr.map(m=>m.name).join(', ');
  const mentioned=new Set();
  const mention=(arr)=>arr.forEach(m=>mentioned.add(m.name));

  // Categorize by axis
  const stratM=members.filter(m=>m.se<=-3);
  const execM=members.filter(m=>m.se>=3);
  const midSE=members.filter(m=>m.se>-3&&m.se<3);
  const pplM=members.filter(m=>m.pt<=-3);
  const taskM=members.filter(m=>m.pt>=3);
  const midPT=members.filter(m=>m.pt>-3&&m.pt<3);

  // SE axis analysis
  if(stratM.length>0&&execM.length>0){
    mention(stratM);mention(execM);
    if(stratM.length>execM.length){
      tips.push({icon:"ğŸ¯",text:`ì´ íŒ€ì€ ì „ëµí˜•(${nl(stratM)})ì´ ì‹¤í–‰í˜•(${nl(execM)})ë³´ë‹¤ ë§ì•„ìš”. íšŒì˜ì—ì„œ ë°©í–¥ ë…¼ì˜ëŠ” ê¹Šì–´ì§€ì§€ë§Œ 'ê·¸ë˜ì„œ ëˆ„ê°€ ì–¸ì œê¹Œì§€?'ê°€ ë¹ ì§€ê¸° ì‰¬ì›Œìš”. íšŒì˜ ë§ˆì§€ë§‰ 5ë¶„ì€ ${execM[0].name}ì—ê²Œ ì‹¤í–‰ í•­ëª© ì •ë¦¬ë¥¼ ë§¡ê¸°ì„¸ìš”.`});
    }else if(execM.length>stratM.length){
      tips.push({icon:"âš¡",text:`ì‹¤í–‰í˜•(${nl(execM)})ì´ ì „ëµí˜•(${nl(stratM)})ë³´ë‹¤ ë§ì•„ìš”. ë¹ ë¥´ê²Œ ê²°ê³¼ë¥¼ ë‚´ì§€ë§Œ 'ì´ê²Œ ì™œ í•„ìš”í•œì§€' ë…¼ì˜ê°€ ìƒëµë˜ê¸° ì‰¬ì›Œìš”. ${stratM[0].name}ì´ íšŒì˜ ì´ˆë°˜ì— ë°©í–¥ì„ ì§šì–´ì£¼ëŠ” ì—­í• ì„ ë§¡ìœ¼ë©´ íš¨ê³¼ì ì´ì—ìš”.`});
    }else{
      tips.push({icon:"ğŸ”—",text:`ì „ëµí˜•(${nl(stratM)})ê³¼ ì‹¤í–‰í˜•(${nl(execM)})ì´ ê· í˜• ìˆê²Œ ìˆì–´ìš”. ${stratM[0].name}ì´ ë°©í–¥ì„ ì¡ê³  ${execM[0].name}ì´ ì‹¤í–‰ìœ¼ë¡œ ì˜®ê¸°ëŠ” 'ë¦´ë ˆì´' êµ¬ì¡°ë¥¼ ë§Œë“¤ë©´ ìµœê³ ì˜ ì‹œë„ˆì§€ê°€ ë‚˜ìš”.`});
    }
  }else if(stratM.length>0&&execM.length===0){
    mention(stratM);
    tips.push({icon:"ğŸ¯",text:`íŒ€ ì „ì²´ê°€ ì „ëµ ì„±í–¥(${nl(stratM)})ìœ¼ë¡œ ì ë ¤ ìˆì–´ìš”. ë°©í–¥ ë…¼ì˜ëŠ” ê¹Šì§€ë§Œ ì‹¤í–‰ì´ ëŠ¦ì–´ì§ˆ ìˆ˜ ìˆì–´ìš”. íšŒì˜ë§ˆë‹¤ ë°˜ë“œì‹œ 'ëˆ„ê°€, ì–¸ì œê¹Œì§€, ë­˜ í•˜ëŠ”ì§€' ì‹¤í–‰ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“œì„¸ìš”.`});
  }else if(execM.length>0&&stratM.length===0){
    mention(execM);
    tips.push({icon:"âš¡",text:`íŒ€ ì „ì²´ê°€ ì‹¤í–‰ ì„±í–¥(${nl(execM)})ìœ¼ë¡œ ì ë ¤ ìˆì–´ìš”. ì¼ ì²˜ë¦¬ëŠ” ë¹ ë¥´ì§€ë§Œ 'ì™œ í•˜ëŠ”ì§€' ë°©í–¥ ê²€ì¦ì´ ë¶€ì¡±í•´ì§ˆ ìˆ˜ ìˆì–´ìš”. ì›” 1íšŒ 'ìš°ë¦¬ ë°©í–¥ ë§ë‚˜?' ì²´í¬ ì‹œê°„ì„ ì¡ì•„ë³´ì„¸ìš”.`});
  }

  // PT axis analysis
  if(pplM.length>0&&taskM.length>0){
    mention(pplM);mention(taskM);
    if(pplM.length<taskM.length){
      tips.push({icon:"ğŸ’¬",text:`ê´€ê³„ ì¤‘ì‹¬ ì„±í–¥ì´ ${pplM.length}ëª…(${nl(pplM)})ë¿ì´ì—ìš”. ${pplM.length===1?pplM[0].name+'ì´ íŒ€ ë¶„ìœ„ê¸°ë¥¼ í˜¼ì ì±…ì„ì§€ì§€ ì•Šë„ë¡, ë‹¤ë¥¸ íŒ€ì›ë“¤ë„ ì˜ì‹ì ìœ¼ë¡œ ê´€ì‹¬ì„ ë‚˜ëˆ ì£¼ì„¸ìš”.':'ê³¼ì—… ì¤‘ì‹¬('+nl(taskM)+')ì´ ë§ì•„ì„œ íš¨ìœ¨ì€ ì¢‹ì§€ë§Œ, íŒ€ì› ê°ì •ì€ ìˆ˜ë©´ ì•„ë˜ë¡œ ê°€ë¼ì•‰ê¸° ì‰¬ì›Œìš”. ì›” 1íšŒ ì²´í¬ì¸ì„ ë„£ì–´ë³´ì„¸ìš”.'}`});
    }else if(pplM.length>taskM.length){
      tips.push({icon:"ğŸ“Š",text:`ê´€ê³„ ì¤‘ì‹¬(${nl(pplM)})ì´ ê³¼ì—… ì¤‘ì‹¬(${nl(taskM)})ë³´ë‹¤ ë§ì•„ìš”. êµ¬ì„±ì› ì¼€ì–´ëŠ” ì˜ ë˜ì§€ë§Œ ì£¼ìš” ì˜ì‚¬ê²°ì • ì‹œ ${taskM[0].name}ì—ê²Œ ë°ì´í„° ê·¼ê±° ì •ë¦¬ë¥¼ ë§¡ê¸°ë©´ ê· í˜•ì´ ì¡í˜€ìš”.`});
    }
  }else if(pplM.length>0&&taskM.length===0){
    mention(pplM);
    tips.push({icon:"ğŸ’¬",text:`ê´€ê³„ ì¤‘ì‹¬ ì„±í–¥(${nl(pplM)})ë§Œ ìˆê³  ê³¼ì—… ì¤‘ì‹¬ ì„±í–¥ì´ ì—†ì–´ìš”. ë¶„ìœ„ê¸°ëŠ” ì¢‹ì§€ë§Œ ê°ê´€ì  ê¸°ì¤€ì´ë‚˜ ë°ì´í„° ê¸°ë°˜ íŒë‹¨ì´ ì•½í•´ì§ˆ ìˆ˜ ìˆì–´ìš”. ì£¼ìš” ì˜ì‚¬ê²°ì •ì—” ë°˜ë“œì‹œ ìˆ«ì ê·¼ê±°ë¥¼ ë¶™ì´ì„¸ìš”.`});
  }else if(taskM.length>0&&pplM.length===0){
    mention(taskM);
    tips.push({icon:"ğŸ“Š",text:`ê³¼ì—… ì¤‘ì‹¬ ì„±í–¥(${nl(taskM)})ë§Œ ìˆê³  ê´€ê³„ ì¤‘ì‹¬ ì„±í–¥ì´ ì—†ì–´ìš”. ì—…ë¬´ íš¨ìœ¨ì€ ë†’ì§€ë§Œ íŒ€ì›ì˜ ê°ì • ì´ìŠˆê°€ ìˆ˜ë©´ ìœ„ë¡œ ì•ˆ ì˜¬ë¼ì˜¬ ìˆ˜ ìˆì–´ìš”. ì›” 1íšŒ 'ìš”ì¦˜ ì–´ë•Œ?' ì²´í¬ì¸ì„ ë„£ìœ¼ì„¸ìš”.`});
  }

  // ê· í˜•í˜• ë©¤ë²„ â€” ì–´ë–¤ ì¶•ì—ë„ ì•ˆ ê±¸ë¦° ë©¤ë²„ ì—­í•  ë¶€ì—¬
  const unmentioned=members.filter(m=>!mentioned.has(m.name));
  if(unmentioned.length>0&&tips.length<4){
    const names=nl(unmentioned);
    const types=unmentioned.map(m=>T[m.typeKey].name);
    if(unmentioned.length===1){
      const u=unmentioned[0],ut=T[u.typeKey];
      tips.push({icon:"ğŸŒ",text:`${u.name}(${ut.name})ì€ ì „ëµ-ì‹¤í–‰, ê´€ê³„-ê³¼ì—… ì–´ëŠ í•œìª½ì— ì¹˜ìš°ì¹˜ì§€ ì•ŠëŠ” ìœ ì—°í•œ í¬ì§€ì…˜ì´ì—ìš”. íŒ€ ë‚´ ì˜ê²¬ì´ ê°ˆë¦´ ë•Œ ì¤‘ì¬ì ì—­í• ì„ ë§¡ê¸°ê±°ë‚˜, ë¶€ì¡±í•œ ë‹¨ê³„ì— íˆ¬ì…í•˜ë©´ íš¨ê³¼ì ì´ì—ìš”.`});
    }else{
      tips.push({icon:"ğŸŒ",text:`${names}ì€ ì–´ëŠ í•œìª½ì— ì¹˜ìš°ì¹˜ì§€ ì•ŠëŠ” ê· í˜•í˜•ì´ì—ìš”. íŒ€ ë‚´ ì˜ê²¬ ì¶©ëŒ ì‹œ ì¤‘ì¬ ì—­í• ì„ í•˜ê±°ë‚˜, ì¸ì›ì´ ë¶€ì¡±í•œ ê³¼ì—… ë‹¨ê³„ì— ìœ ì—°í•˜ê²Œ íˆ¬ì…í•  ìˆ˜ ìˆëŠ” í•µì‹¬ ìì›ì´ì—ìš”.`});
    }
  }

  // Outlier detection â€” íŒ€ì—ì„œ ìœ ì¼í•œ ìœ í˜• + ê°€ì¥ ë™ë–¨ì–´ì§„ ë©¤ë²„
  if(total>=3&&tips.length<4){
    const avgSE=members.reduce((s,m)=>s+m.se,0)/total;
    const avgPT=members.reduce((s,m)=>s+m.pt,0)/total;
    let maxDist=0,outlier=null;
    members.forEach(m=>{
      const alone=members.filter(m2=>m2.typeKey===m.typeKey).length===1;
      if(!alone)return;
      const d=Math.abs(m.se-avgSE)+Math.abs(m.pt-avgPT);
      if(d>maxDist){maxDist=d;outlier=m;}
    });
    if(outlier&&maxDist>6){
      const ot=T[outlier.typeKey];
      tips.push({icon:"ğŸ”",text:`${outlier.name}(${ot.name})ì€ íŒ€ì—ì„œ ìœ ì¼í•œ ìœ í˜•ì´ì—ìš”. ì´ ê´€ì ì´ ë¬´ì‹œë˜ë©´ íŒ€ì˜ ë§¹ì ì´ ë  ìˆ˜ ìˆì–´ìš”. íšŒì˜ì—ì„œ ì˜ì‹ì ìœ¼ë¡œ '${outlier.name}, ë‹¤ë¥¸ ê´€ì  ì—†ì–´?' í•˜ê³  ë¬¼ì–´ë´ì£¼ì„¸ìš”.`});
    }
  }

  // Fallback for balanced teams
  if(tips.length===0){
    const typeSet=new Set(members.map(m=>m.typeKey));
    if(typeSet.size>=3)tips.push({icon:"âœ¨",text:"ë‹¤ì–‘í•œ ê´€ì ì´ ê³ ë¥´ê²Œ ë¶„í¬ëœ íŒ€ì´ì—ìš”. ì˜ê²¬ì´ ë‹¤ë¥¼ ë•Œ 'ì˜¤ëŠ˜ì˜ ê²°ì • ê¸°ì¤€'ì„ ë¯¸ë¦¬ í•©ì˜í•´ë‘ë©´ ê°ˆë“±ì„ ì˜ˆë°©í•  ìˆ˜ ìˆì–´ìš”."});
    else tips.push({icon:"ğŸ¤",text:"ë¹„ìŠ·í•œ ì„±í–¥ì˜ íŒ€ì›ì´ ë§ì•„ ì†Œí†µì€ í¸í•˜ì§€ë§Œ, ê°™ì€ ë§¹ì ì„ ê³µìœ í•  ìˆ˜ ìˆì–´ìš”. 'ìš°ë¦¬ê°€ ë†“ì¹˜ê³  ìˆëŠ” ê´€ì ì€?'ì„ ì˜ì‹ì ìœ¼ë¡œ ì§ˆë¬¸í•´ë³´ì„¸ìš”."});
  }
  return tips.slice(0,4);
}

function generateConflictDetail(a,b){
  const tA=T[a.typeKey],tB=T[b.typeKey];
  const seDiff=a.se-b.se,ptDiff=a.pt-b.pt;
  const seGap=Math.abs(seDiff),ptGap=Math.abs(ptDiff);
  // Who is more strategic/execution/people/task
  const s=seDiff<=0?{m:a,t:tA}:{m:b,t:tB};
  const e=seDiff<=0?{m:b,t:tB}:{m:a,t:tA};
  const p=ptDiff<=0?{m:a,t:tA}:{m:b,t:tB};
  const k=ptDiff<=0?{m:b,t:tB}:{m:a,t:tA};
  let reason,tip;
  if(seGap>=8&&ptGap>=8){
    reason=`${s.m.name}(${s.t.name})ì€ 'ì™œ í•˜ëŠ”ì§€'ì™€ 'ì‚¬ëŒ ë°˜ì‘'ì„ ë¨¼ì € ë³´ëŠ”ë°, ${e.m.name}(${e.t.name})ì€ 'ë¹¨ë¦¬ ëë‚´ê¸°'ì™€ 'ê²°ê³¼ë¬¼'ì„ ë¨¼ì € ë´ìš”. ${s.m.name} ì…ì¥ì—ì„  'ì™œ ê·¸ë ‡ê²Œ ê¸‰í•´?', ${e.m.name} ì…ì¥ì—ì„  'ì™œ ìê¾¸ ë…¼ì˜ë§Œ í•´?'ê°€ ë˜ê¸° ì‰¬ì›Œìš”.`;
    tip=`${s.m.name}ì´ ë°©í–¥ì„ ì¡ìœ¼ë©´ ${e.m.name}ì´ ë°”ë¡œ ì‹¤í–‰ ê³„íšìœ¼ë¡œ ì˜®ê¸°ëŠ” 'ë¦´ë ˆì´' êµ¬ì¡°ë¥¼ ë§Œë“œì„¸ìš”. ë°©í–¥ì´ 80%ë§Œ ì¡í˜€ë„ ì‹¤í–‰ì„ ì‹œì‘í•´ë„ ëœë‹¤ê³  í•©ì˜í•˜ë©´ ë¼ìš”.`;
  }else if(seGap>ptGap){
    reason=`${s.m.name}(${s.t.name})ì€ 'ì´ê±¸ ì™œ í•˜ëŠ”ì§€' ë°©í–¥ë¶€í„° ì¡ê³  ì‹¶ì€ë°, ${e.m.name}(${e.t.name})ì€ 'ì¼ë‹¨ ì‹œì‘í•˜ì'ê°€ ë¨¼ì €ì˜ˆìš”. ${s.m.name} ì…ì¥ì—ì„  'ë°©í–¥ë„ ì—†ì´ ë›°ì–´?', ${e.m.name} ì…ì¥ì—ì„  'ë˜ íšŒì˜ë§Œ í•˜ê³  ëë‚˜ëŠ” ê±° ì•„ëƒ?'ê°€ ë  ìˆ˜ ìˆì–´ìš”.`;
    tip=`íšŒì˜ ì´ˆë°˜ 15ë¶„ì€ ${s.m.name}ì˜ ë°©í–¥ ë…¼ì˜, í›„ë°˜ì€ ${e.m.name}ì˜ ì‹¤í–‰ ì •ë¦¬ë¡œ ë‚˜ëˆ„ì„¸ìš”. ${s.m.name}ì—ê²Œ 'ë°©í–¥ ì¡ì•„ì¤˜ì„œ ê³ ë§ˆì›Œ', ${e.m.name}ì—ê²Œ 'ì‹¤í–‰ ì •ë¦¬ ë•ë¶„ì— ì›€ì§ì¼ ìˆ˜ ìˆì–´'ë¼ê³  ì¸ì •í•´ì£¼ë©´ ì‹œë„ˆì§€ê°€ ë‚˜ìš”.`;
  }else{
    reason=`${p.m.name}(${p.t.name})ì€ 'ì‚¬ëŒë“¤ì´ ì–´ë–»ê²Œ ëŠë‚„ì§€'ê°€ ë¨¼ì € ì‹ ê²½ ì“°ì´ëŠ”ë°, ${k.m.name}(${k.t.name})ì€ 'ê¸°ì¤€ì— ë§ëŠ”ì§€, ê²°ê³¼ê°€ ë‚˜ì˜¤ëŠ”ì§€'ë¥¼ ë¨¼ì € ë´ìš”. ${p.m.name} ì…ì¥ì—ì„  'ì‚¬ëŒ ë§ˆìŒì€ ì•ˆ ë³´ì—¬?', ${k.m.name} ì…ì¥ì—ì„  'ê°ì •ì— ëŒë ¤ë‹¤ë‹ˆë©´ ì¼ì´ ì•ˆ ë¼'ê°€ ë  ìˆ˜ ìˆì–´ìš”.`;
    tip=`${p.m.name}ì´ êµ¬ì„±ì› ë°˜ì‘ì„ ì²´í¬í•˜ê³  ${k.m.name}ì´ ê¸°ì¤€ê³¼ í’ˆì§ˆì„ ì±™ê¸°ëŠ” ì—­í• ì„ ë‚˜ëˆ„ì„¸ìš”. ${p.m.name}ì˜ í”¼ë“œë°±ì€ 'ë°˜ëŒ€'ê°€ ì•„ë‹ˆë¼ 'ì‹¤í–‰ ê²½ë¡œ ë³´ì™„'ì´ë¼ëŠ” ê±¸ ${k.m.name}ì´ ì´í•´í•˜ë©´ ìµœê³ ì˜ ì¡°í•©ì´ ë¼ìš”.`;
  }
  return{reason,tip};
}

function findConflictPairs(members){
  const pairs=[];
  for(let i=0;i<members.length;i++){
    for(let j=i+1;j<members.length;j++){
      const a=members[i],b=members[j];
      const tA=T[a.typeKey],tB=T[b.typeKey];
      const aTensionB=tA.tensionMatch===b.typeKey;
      const bTensionA=tB.tensionMatch===a.typeKey;
      const isTension=aTensionB||bTensionA;
      const dist=Math.abs(a.se-b.se)+Math.abs(a.pt-b.pt);
      if(isTension||dist>=16){
        const detail=generateConflictDetail(a,b);
        pairs.push({a,b,dist,...detail,isTension});
      }
    }
  }
  pairs.sort((x,y)=>(y.isTension?1:0)-(x.isTension?1:0)||y.dist-x.dist);
  return pairs.slice(0,3);
}

function getPersonTasks(member){
  return getPersonPhases(member);
}

/* ===== SUPABASE ===== */
const SB_URL = 'https://vzygascbawpkzbbmaoef.supabase.co';
const SB_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ6eWdhc2NiYXdwa3piYm1hb2VmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA2OTc5NDUsImV4cCI6MjA4NjI3Mzk0NX0.Vu3qCnxA9aP8GoMKS1huHGYRTYrMIytjmUzHhZ1NPiA';
const sb = (typeof supabase!=='undefined' && SB_URL.indexOf('YOUR_PROJECT')===-1)
  ? supabase.createClient(SB_URL,SB_KEY) : null;

function generateTeamId(){
  const a='0123456789abcdefghijklmnopqrstuvwxyz';
  const b=crypto.getRandomValues(new Uint8Array(8));
  return Array.from(b,x=>a[x%a.length]).join('');
}

async function sbCreateTeam(name){
  const id=generateTeamId();
  const{data,error}=await sb.from('teams').insert({id,name}).select().single();
  if(error){
    if(error.code==='23505'){return sbCreateTeam(name);}// PK collision retry
    throw new Error(error.message);
  }
  return data;
}
async function sbGetTeam(teamId){
  const{data,error}=await sb.from('teams').select('*').eq('id',teamId).single();
  if(error)throw new Error(error.message);
  return data;
}
async function sbSaveResult(teamId,name,se,pt,typeKey,strengthAnswers){
  // strength_answers: convert to array format for Supabase text[] column compatibility
  const saArr=Array.isArray(strengthAnswers)?strengthAnswers:['CS:'+(strengthAnswers.CS||0),'DI:'+(strengthAnswers.DI||0)];
  const{data,error}=await sb.from('results').upsert({
    team_id:teamId,name,se_score:se,pt_score:pt,type_key:typeKey,strength_answers:saArr
  },{onConflict:'team_id,name'}).select().single();
  if(error)throw new Error(error.message);
  return data;
}
async function sbLoadResults(teamId){
  const{data,error}=await sb.from('results').select('*').eq('team_id',teamId).order('created_at',{ascending:true});
  if(error)throw new Error(error.message);
  return data;
}

/* ===== STATE ===== */
const EMPTY_SS={CS:0,DI:0};
let state = {screen:"intro", qIdx:0, scores:{SE:0,PT:0}, strengthScores:{...EMPTY_SS}, sqIdx:0, userName:"", members:[], selectedMember:0,
  mode:"solo", teamId:null, teamName:"", loading:false, error:null, _teamLoaded:false, sharedResult:false, _viewMemberIdx:-1};
let skipScroll = false;

/* ===== PERSISTENCE ===== */
function saveMyResult(){
  try{localStorage.setItem('hrbp_result',JSON.stringify({userName:state.userName,scores:state.scores,strengthScores:state.strengthScores}));}catch(e){}
}
function saveTeam(){
  try{localStorage.setItem('hrbp_team',JSON.stringify(state.members));}catch(e){}
}
function loadMyResult(){
  try{const d=JSON.parse(localStorage.getItem('hrbp_result'));if(d&&d.userName){state.userName=d.userName;state.scores=d.scores;
    // Backward compat: old format had strategy/system/people/execution; new has CS/DI
    const ss=d.strengthScores||{};
    state.strengthScores=ss.CS!==undefined?{CS:ss.CS,DI:ss.DI||0}:{...EMPTY_SS};
    return true;}}catch(e){}return false;
}
function loadTeam(){
  try{const d=JSON.parse(localStorage.getItem('hrbp_team'));if(d&&d.length>0){state.members=d;return true;}}catch(e){}return false;
}
function getTeamLink(){
  const codes=state.members.map(m=>`${m.name}:${T[m.typeKey].code}:${m.se}:${m.pt}`);
  return location.origin+location.pathname+'#team='+encodeURIComponent(codes.join('|'));
}
function parseTeamHash(){
  const h=location.hash;if(!h.startsWith('#team='))return false;
  const codeMap={A:"architect",S:"strategist",B:"builder",F:"facilitator",X:"allrounder",M:"taskmaster",C:"connector",E:"executor",D:"driver"};
  const members=[];
  decodeURIComponent(h.slice(6)).split('|').forEach(line=>{
    const p=line.trim().split(':');
    if(p.length>=4){const name=p[0].trim(),tc=p[1].trim().toUpperCase(),se=parseInt(p[2]),pt=parseInt(p[3]);
      if(name&&codeMap[tc]&&!isNaN(se)&&!isNaN(pt))members.push({name,se:Math.max(-16,Math.min(16,se)),pt:Math.max(-16,Math.min(16,pt)),typeKey:codeMap[tc]});}
  });
  if(members.length>0){state.members=members;return true;}return false;
}
function getResultShareLink(){
  const ss=state.strengthScores;
  const parts=[state.userName,state.scores.SE,state.scores.PT,ss.CS||0,ss.DI||0];
  return location.origin+location.pathname+'?r='+encodeURIComponent(parts.join('.'));
}
function parseResultParam(){
  const r=new URLSearchParams(location.search).get('r');
  if(!r)return false;
  const p=decodeURIComponent(r).split('.');
  if(p.length<3)return false;
  const name=p[0],se=parseInt(p[1]),pt=parseInt(p[2]);
  if(!name||isNaN(se)||isNaN(pt))return false;
  state.userName=name;
  state.scores={SE:Math.max(-16,Math.min(16,se)),PT:Math.max(-16,Math.min(16,pt))};
  // New format: CS,DI (2 values) or old format: strategy,system,people,execution (4 values)
  if(p.length>=5)state.strengthScores={CS:parseInt(p[3])||0,DI:parseInt(p[4])||0};
  else if(p.length>=7)state.strengthScores={CS:0,DI:0}; // Old format fallback
  state.sharedResult=true;
  return true;
}

/* ===== RENDER ===== */
const $=id=>document.getElementById(id);
const app=()=>$("app");

function render(){
  if(!skipScroll) window.scrollTo(0,0);
  skipScroll=false;
  switch(state.screen){
    case "intro": renderIntro(); break;
    case "createTeam": renderCreateTeam(); break;
    case "inviteLink": renderInviteLink(); break;
    case "teamJoin": renderTeamJoin(); break;
    case "questions": renderQuestion(); break;
    case "strength": renderStrength(); break;
    case "name": renderName(); break;
    case "result": renderResult(); break;
    case "team": renderTeam(); break;
  }
}

function renderIntro(){
  const saved=(()=>{try{const s=JSON.parse(localStorage.getItem('hrbp_result'));return s&&s.userName?s:null;}catch(e){return null;}})();
  app().innerHTML=`
  <div class="fade-in" style="text-align:center;padding-top:40px">
    <div style="font-size:56px;margin-bottom:16px">ğŸ§­</div>
    <h1 style="font-size:28px;font-weight:800;line-height:1.3;letter-spacing:-.5px;margin-bottom:8px">ë‚˜ëŠ” ì–´ë–¤ HRBPì¼ê¹Œ?</h1>
    <p style="font-size:15px;color:#6B7280;margin-bottom:28px;line-height:1.6">HRBP ì—…ë¬´ ìŠ¤íƒ€ì¼ ì§„ë‹¨ Â· ${QUESTIONS.length+STRENGTH_QUESTIONS.length}ë¬¸í•­ Â· ì•½ 5ë¶„</p>
    <div class="card" style="text-align:left">
      <p style="font-size:15px;color:#374151;line-height:1.8;margin-bottom:18px">22ê°œ ì§ˆë¬¸ì— ë‹µí•˜ë©´, ë‚˜ì˜ HRBP ì—…ë¬´ ìŠ¤íƒ€ì¼ì„ ì•Œë ¤ë“œë ¤ìš”.</p>
      ${[["âš¡","ì—ë„ˆì§€ê°€ ë‚˜ëŠ” ê³¼ì—… / ê¹ì´ëŠ” ê³¼ì—…"],["ğŸ¨","ê°™ì€ ìœ í˜•ë„ ë‹¤ë¥¸ â€” ë‚˜ë§Œì˜ í”Œë ˆì´ë²„"],["ğŸ“‹","ê³¼ì—… ë‹¨ê³„ë³„ ì í•©ë„ (ê¸°íšâ†’ì‹¤í–‰â†’ë¶„ì„)"],["ğŸ˜°","ìŠ¤íŠ¸ë ˆìŠ¤ ì‹œê·¸ë„ & íšŒë³µ ë°©ë²•"],["ğŸ¤","íŒ€ì›ë³„ 1:1 ì†Œí†µ ê°€ì´ë“œ"],["ğŸ“Š","íŒ€ ê³¼ì—… ë‹¨ê³„ë³„ ë°°ì¹˜ ì¶”ì²œ"]].map(([i,t])=>`<div style="display:flex;align-items:center;gap:12px;padding:10px 14px;background:#F9FAFB;border-radius:12px;font-size:14px;color:#374151;margin-bottom:8px"><span style="font-size:18px">${i}</span>${t}</div>`).join("")}
      <p style="font-size:13px;color:#9CA3AF;margin-top:14px;text-align:center">ì •ë‹µì€ ì—†ì–´ìš” â€” ì§ê´€ì ìœ¼ë¡œ ê³¨ë¼ì£¼ì„¸ìš”</p>
    </div>
    <button class="btn btn-primary" onclick="startTest()" style="margin-top:16px">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
    ${saved?`<button class="btn btn-secondary" onclick="goSavedResult()" style="margin-top:10px">ğŸ“Š ì´ì „ ê²°ê³¼ ë³´ê¸° (${saved.userName})</button>`:''}
    ${saved?`<button onclick="resetAllData()" style="margin-top:24px;background:none;border:none;font-size:12px;color:#D1D5DB;cursor:pointer;font-family:inherit;padding:8px">ğŸ—‘ï¸ ë°ì´í„° ì´ˆê¸°í™”</button>`:''}
  </div>`;
}

function renderCreateTeam(){
  app().innerHTML=`
  <div class="fade-in" style="padding-top:60px;text-align:center">
    <div style="font-size:48px;margin-bottom:16px">ğŸ‘¥</div>
    <h2 style="font-size:22px;font-weight:700;margin-bottom:8px">ìš°ë¦¬ íŒ€ ë§Œë“¤ê¸°</h2>
    <p style="font-size:14px;color:#6B7280;margin-bottom:32px;line-height:1.6">
      íŒ€ ì´ë¦„ì„ ì…ë ¥í•˜ë©´ ì´ˆëŒ€ ë§í¬ê°€ ìƒì„±ë¼ìš”.<br>
      íŒ€ì›ë“¤ì´ ë§í¬ë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸í•˜ë©´ ê²°ê³¼ê°€ ìë™ìœ¼ë¡œ ëª¨ì—¬ìš”.
    </p>
    <input id="teamNameInput" class="input" placeholder="íŒ€ ì´ë¦„ (ì˜ˆ: ëª¨ë¹„ë°ì´ì¦ˆ HRBPíŒ€)" style="text-align:center;font-size:16px;margin-bottom:16px" onkeydown="if(event.key==='Enter')handleCreateTeam()">
    ${state.error?`<p style="font-size:13px;color:#DC2626;margin-bottom:12px">${state.error.message}</p>`:''}
    <button class="btn btn-primary" onclick="handleCreateTeam()" id="createTeamBtn" ${state.loading?'disabled style="opacity:0.6"':''}>
      ${state.loading?'<span class="spinner" style="width:18px;height:18px;border-width:2px;vertical-align:middle;margin-right:8px"></span>íŒ€ ìƒì„± ì¤‘...':'íŒ€ ë§Œë“¤ê¸°'}
    </button>
    <button class="btn btn-secondary" onclick="state.screen='result';state.error=null;render()" style="margin-top:10px">â† ëŒì•„ê°€ê¸°</button>
  </div>`;
  if(!state.loading){setTimeout(()=>{const inp=$("teamNameInput");if(inp)inp.focus();},300);}
}

function renderInviteLink(){
  const link=location.origin+location.pathname+'?team='+state.teamId;
  app().innerHTML=`
  <div class="fade-in" style="padding-top:40px;text-align:center">
    <div style="font-size:48px;margin-bottom:16px">ğŸ‰</div>
    <h2 style="font-size:22px;font-weight:700;margin-bottom:6px">"${state.teamName}" íŒ€ì´ ë§Œë“¤ì–´ì¡Œì–´ìš”!</h2>
    <p style="font-size:14px;color:#6B7280;margin-bottom:8px;line-height:1.6">
      ë‚´ ê²°ê³¼ëŠ” ìë™ ì €ì¥ëì–´ìš”.<br>
      ì•„ë˜ ë§í¬ë¥¼ íŒ€ì›ë“¤ì—ê²Œ ê³µìœ í•˜ì„¸ìš”!
    </p>
    <div class="card" style="background:#F3F0FF;border:1px solid #C4B5FD">
      <p style="font-size:12px;color:#9CA3AF;margin-bottom:10px">ì´ˆëŒ€ ë§í¬</p>
      <div style="background:#fff;border:1px solid #E5E7EB;border-radius:10px;padding:12px;font-size:13px;color:#374151;word-break:break-all;margin-bottom:12px;font-family:monospace">${link}</div>
      <button class="btn btn-primary" onclick="copyInviteLink()" id="inviteCopyBtn" style="font-size:14px;padding:12px">ğŸ“‹ ì´ˆëŒ€ ë§í¬ ë³µì‚¬</button>
    </div>
    <button class="btn btn-primary" onclick="goTeamView()" style="margin-top:16px">íŒ€ ê²°ê³¼ ë³´ê¸°</button>
    <button class="btn btn-secondary" onclick="goResult()" style="margin-top:10px">â† ë‚´ ê²°ê³¼ë¡œ ëŒì•„ê°€ê¸°</button>
  </div>`;
}

function renderTeamJoin(){
  if(state.loading){
    app().innerHTML=`
    <div class="fade-in" style="padding-top:100px;text-align:center">
      <div style="margin-bottom:16px"><span class="spinner"></span></div>
      <p style="font-size:16px;color:#6B7280">íŒ€ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
    </div>`;
    return;
  }
  if(state.error){
    app().innerHTML=`
    <div class="fade-in" style="padding-top:100px;text-align:center">
      <div style="font-size:48px;margin-bottom:16px">ğŸ˜¢</div>
      <h2 style="font-size:20px;font-weight:700;margin-bottom:8px">íŒ€ì„ ì°¾ì„ ìˆ˜ ì—†ì–´ìš”</h2>
      <p style="font-size:14px;color:#6B7280;margin-bottom:24px">${state.error.message}</p>
      <button class="btn btn-primary" onclick="location.href=location.pathname">ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
    </div>`;
    return;
  }
  app().innerHTML=`
  <div class="fade-in" style="padding-top:60px;text-align:center">
    <div style="font-size:48px;margin-bottom:16px">ğŸ‘‹</div>
    <h2 style="font-size:22px;font-weight:700;margin-bottom:6px">"${state.teamName}" íŒ€ì— í•©ë¥˜í•˜ê¸°</h2>
    <p style="font-size:14px;color:#6B7280;margin-bottom:32px;line-height:1.6">
      ì´ë¦„ì„ ì…ë ¥í•˜ê³  í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•˜ì„¸ìš”.<br>
      ê²°ê³¼ëŠ” ìë™ìœ¼ë¡œ íŒ€ì— ì €ì¥ë¼ìš”.
    </p>
    <input id="joinNameInput" class="input" placeholder="ì´ë¦„ (ì˜ˆ: ê¹€ëª¨ë¹„)" style="text-align:center;font-size:16px;margin-bottom:16px" onkeydown="if(event.key==='Enter')startTeamTestAsJoiner()">
    <button class="btn btn-primary" onclick="startTeamTestAsJoiner()">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
    <button class="btn btn-secondary" onclick="goTeamViewDirect()" style="margin-top:10px">íŒ€ ê²°ê³¼ ë°”ë¡œ ë³´ê¸°</button>
  </div>`;
  setTimeout(()=>{const inp=$("joinNameInput");if(inp)inp.focus();},300);
}

function renderQuestion(){
  const q=QUESTIONS[state.qIdx];
  const totalAll=QUESTIONS.length+STRENGTH_QUESTIONS.length;
  const pct=((state.qIdx+1)/totalAll)*100;
  const colors=["#6C5CE7","#A29BFE","#74B9FF","#0984E3"];
  const labels=["í™•ì‹¤íˆ A","ì•½ê°„ A","ì•½ê°„ B","í™•ì‹¤íˆ B"];
  const sizes=[46,36,36,46];

  app().innerHTML=`
  <div style="margin-top:20px">
    <div style="display:flex;justify-content:space-between;margin-bottom:8px">
      <span style="font-size:13px;color:#9CA3AF;font-weight:600">Q${state.qIdx+1} / ${totalAll}</span>
      <span style="font-size:13px;color:#9CA3AF">${Math.round(pct)}%</span>
    </div>
    <div style="height:6px;background:#E5E7EB;border-radius:3px;overflow:hidden">
      <div style="height:100%;width:${pct}%;background:linear-gradient(90deg,#6C5CE7,#0984E3);border-radius:3px;transition:width .5s"></div>
    </div>
  </div>
  <div class="fade-in" style="padding:40px 0 20px;text-align:center">
    <h2 style="font-size:18px;font-weight:700;line-height:1.5;margin-bottom:28px">${q.text}</h2>
    <div style="display:flex;gap:10px;margin-bottom:12px">
      <div style="flex:1;padding:14px;background:#F9FAFB;border-radius:14px;font-size:13px;color:#374151;line-height:1.5;text-align:center">
        <span style="font-size:11px;color:#6C5CE7;font-weight:700;display:block;margin-bottom:4px">A</span>${q.a}
      </div>
      <div style="flex:1;padding:14px;background:#F9FAFB;border-radius:14px;font-size:13px;color:#374151;line-height:1.5;text-align:center">
        <span style="font-size:11px;color:#0984E3;font-weight:700;display:block;margin-bottom:4px">B</span>${q.b}
      </div>
    </div>
    <div class="scale-row">
      ${[-2,-1,1,2].map((v,i)=>`
        <div class="scale-col">
          <button class="scale-btn" style="width:${sizes[i]}px;height:${sizes[i]}px" onclick="answerQ(${v},${i})" onmouseover="this.style.borderColor='${colors[i]}'" onmouseout="this.style.borderColor='#E5E7EB'"></button>
          <span class="scale-label">${labels[i]}</span>
        </div>
      `).join("")}
    </div>
    <div style="display:flex;justify-content:space-between;padding:0 8px;margin-top:4px">
      <span style="font-size:12px;color:#6C5CE7;font-weight:600">â† A</span>
      <span style="font-size:12px;color:#0984E3;font-weight:600">B â†’</span>
    </div>
  </div>`;
}

function renderStrength(){
  const sq=STRENGTH_QUESTIONS[state.sqIdx];
  const totalAll=QUESTIONS.length+STRENGTH_QUESTIONS.length;
  const qNum=QUESTIONS.length+state.sqIdx+1;
  const pct=(qNum/totalAll)*100;
  const colors=["#6C5CE7","#A29BFE","#74B9FF","#0984E3"];
  const labels=["í™•ì‹¤íˆ A","ì•½ê°„ A","ì•½ê°„ B","í™•ì‹¤íˆ B"];
  const sizes=[46,36,36,46];

  app().innerHTML=`
  <div style="margin-top:20px">
    <div style="display:flex;justify-content:space-between;margin-bottom:8px">
      <span style="font-size:13px;color:#9CA3AF;font-weight:600">Q${qNum} / ${totalAll}</span>
      <span style="font-size:13px;color:#9CA3AF">${Math.round(pct)}%</span>
    </div>
    <div style="height:6px;background:#E5E7EB;border-radius:3px;overflow:hidden">
      <div style="height:100%;width:${pct}%;background:linear-gradient(90deg,#6C5CE7,#0984E3);border-radius:3px;transition:width .5s"></div>
    </div>
  </div>
  <div class="fade-in" style="padding:40px 0 20px;text-align:center">
    <h2 style="font-size:18px;font-weight:700;line-height:1.5;margin-bottom:28px">${sq.text}</h2>
    <div style="display:flex;gap:10px;margin-bottom:12px">
      <div style="flex:1;padding:14px;background:#F9FAFB;border-radius:14px;font-size:13px;color:#374151;line-height:1.5;text-align:center">
        <span style="font-size:11px;color:#6C5CE7;font-weight:700;display:block;margin-bottom:4px">A</span>${sq.a}
      </div>
      <div style="flex:1;padding:14px;background:#F9FAFB;border-radius:14px;font-size:13px;color:#374151;line-height:1.5;text-align:center">
        <span style="font-size:11px;color:#0984E3;font-weight:700;display:block;margin-bottom:4px">B</span>${sq.b}
      </div>
    </div>
    <div class="scale-row">
      ${[-2,-1,1,2].map((v,i)=>`
        <div class="scale-col">
          <button class="scale-btn" style="width:${sizes[i]}px;height:${sizes[i]}px" onclick="answerSQ(${v},${i})" onmouseover="this.style.borderColor='${colors[i]}'" onmouseout="this.style.borderColor='#E5E7EB'"></button>
          <span class="scale-label">${labels[i]}</span>
        </div>
      `).join("")}
    </div>
    <div style="display:flex;justify-content:space-between;padding:0 8px;margin-top:4px">
      <span style="font-size:12px;color:#6C5CE7;font-weight:600">â† A</span>
      <span style="font-size:12px;color:#0984E3;font-weight:600">B â†’</span>
    </div>
  </div>`;
}

function renderName(){
  // If name already set (team joiner), skip to submit
  if(state.mode==="team"&&state.userName){submitName();return;}
  app().innerHTML=`
  <div class="fade-in" style="padding-top:60px;text-align:center">
    <div style="font-size:48px;margin-bottom:16px">âœ¨</div>
    <h2 style="font-size:22px;font-weight:700;margin-bottom:8px">ê±°ì˜ ë‹¤ ëì–´ìš”!</h2>
    <p style="font-size:14px;color:#6B7280;margin-bottom:32px">${state.mode==="team"?'íŒ€ì— ì €ì¥í•  ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”':'íŒ€ ì¡°í•© ë¶„ì„ì— ì‚¬ìš©í•  ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”'}</p>
    <input id="nameInput" class="input" placeholder="ì´ë¦„ (ì˜ˆ: ê¹€ëª¨ë¹„)" value="${state.userName||''}" style="text-align:center;font-size:16px;margin-bottom:16px" onkeydown="if(event.key==='Enter')submitName()">
    <button class="btn btn-primary" onclick="submitName()">ê²°ê³¼ ë³´ê¸°</button>
  </div>`;
  setTimeout(()=>{const inp=$("nameInput");if(inp)inp.focus();},300);
}

function renderResult(){
  const tk=typeFromScores(state.scores.SE,state.scores.PT);
  const t=T[tk];

  // Flavor analysis (CS/DI axes)
  const fk=getFlavorKey(state.strengthScores.CS||0,state.strengthScores.DI||0);
  const fl=FLAVOR_LABELS[fk];
  const flavorText=t.flavor?t.flavor[fk]:null;

  app().innerHTML=`
  <div class="fade-in">
    <!-- 1. Header -->
    <div style="text-align:center;padding:32px 0 20px">
      <p style="font-size:14px;color:#9CA3AF;margin-bottom:8px;font-weight:500">ë‹¹ì‹ ì˜ HRBP ìœ í˜•ì€</p>
      <div style="font-size:52px;margin-bottom:8px">${t.emoji}</div>
      <h1 style="font-size:30px;font-weight:800;color:${t.color};margin-bottom:6px;letter-spacing:-.5px">${t.name}</h1>
      <p style="font-size:15px;color:#6B7280;font-weight:500">${t.subtitle}</p>
    </div>

    <!-- 2. Type Description (í•µì‹¬ ìš•êµ¬ + í–‰ë™ ìŠ¤ëƒ…ìƒ· + ëª» ì°¸ëŠ” ìƒí™© + í‚¤ì›Œë“œ) -->
    <div class="card">
      <div style="background:${t.colorBg};border-radius:12px;padding:14px 16px;margin-bottom:16px;border-left:3px solid ${t.color}">
        <p style="font-size:13px;font-weight:700;color:${t.color};margin-bottom:4px">í•µì‹¬ ìš•êµ¬</p>
        <p style="font-size:15px;color:#374151;line-height:1.7">${t.coreNeed}</p>
      </div>
      <p style="font-size:15px;color:#374151;line-height:1.8;white-space:pre-line">${t.desc}</p>
      <div style="background:#FEF2F2;border-radius:12px;padding:14px 16px;margin-top:16px;border-left:3px solid #F87171">
        <p style="font-size:13px;font-weight:700;color:#DC2626;margin-bottom:4px">ì´ê±´ ì ˆëŒ€ ëª» ì°¸ì•„ìš”</p>
        <p style="font-size:14px;color:#374151;line-height:1.7">${t.painPoint}</p>
      </div>
      ${t.keywords?`<div style="display:flex;flex-wrap:wrap;gap:6px;margin-top:16px">${t.keywords.map(k=>`<span style="font-size:12px;padding:5px 10px;background:${t.colorBg};color:${t.color};border-radius:8px;border:1px solid ${t.colorLight};font-weight:600">#${k}</span>`).join("")}</div>`:''}
    </div>

    <!-- 3. Chart -->
    <div class="card">
      <div class="sec-title">ğŸ“ ë‚˜ì˜ ìœ„ì¹˜</div>
      ${makeChart([{name:state.userName||"ë‚˜",se:state.scores.SE,pt:state.scores.PT,typeKey:tk}])}
      <div style="display:flex;justify-content:center;gap:20px;margin-top:12px">
        <div style="text-align:center"><div style="font-size:11px;color:#9CA3AF;font-weight:600">ì „ëµâ†”ì‹¤í–‰</div><div style="font-size:18px;font-weight:800;color:${t.color}">${state.scores.SE>0?"+":""}${state.scores.SE}</div></div>
        <div style="width:1px;background:${t.colorLight}"></div>
        <div style="text-align:center"><div style="font-size:11px;color:#9CA3AF;font-weight:600">ê´€ê³„â†”ê³¼ì—…</div><div style="font-size:18px;font-weight:800;color:${t.color}">${state.scores.PT>0?"+":""}${state.scores.PT}</div></div>
      </div>
    </div>

    <!-- 4. Energy Map -->
    <div class="card">
      <div class="sec-title">âš¡ ì—ë„ˆì§€ ë§µ</div>
      <div style="margin-bottom:14px">
        <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px">
          <span style="background:#ECFDF5;color:#059669;font-size:12px;font-weight:700;padding:4px 10px;border-radius:8px">ğŸ”‹ ì—ë„ˆì§€ UP</span>
        </div>
        <div style="display:flex;flex-wrap:wrap;gap:6px">${t.energyUp.map(x=>`<span class="tag tag-green">${x}</span>`).join("")}</div>
      </div>
      <div style="height:1px;background:#F3F4F6;margin-bottom:14px"></div>
      <div>
        <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px">
          <span style="background:#FEF2F2;color:#DC2626;font-size:12px;font-weight:700;padding:4px 10px;border-radius:8px">ğŸª« ì—ë„ˆì§€ DOWN</span>
        </div>
        <div style="display:flex;flex-wrap:wrap;gap:6px">${t.energyDown.map(x=>`<span class="tag tag-red">${x}</span>`).join("")}</div>
      </div>
    </div>

    <!-- 5. Flavor (ë‚˜ë§Œì˜ í”Œë ˆì´ë²„ + CS/DI ì„±í–¥) -->
    ${fl?`
    <div class="card" style="border:2px solid ${t.colorLight}">
      <div class="sec-title">ğŸ¨ ë‚˜ë§Œì˜ í”Œë ˆì´ë²„</div>
      <div style="background:${t.colorBg};border-radius:14px;padding:18px;margin-bottom:14px">
        <div style="display:flex;align-items:center;gap:10px;margin-bottom:10px">
          <span style="font-size:28px">${fl.icon}</span>
          <div>
            <div style="font-size:17px;font-weight:800;color:${t.color}">${fl.name}</div>
            <div style="font-size:12px;color:#9CA3AF">${fl.desc}</div>
          </div>
        </div>
        ${flavorText?`<p style="font-size:14px;color:#374151;line-height:1.7">${flavorText}</p>`:''}
      </div>
      <div style="display:flex;gap:10px">
        <div style="flex:1;padding:14px;background:#F9FAFB;border-radius:12px;text-align:center">
          <div style="font-size:11px;color:#9CA3AF;font-weight:600;margin-bottom:4px">ë³€í™” â†” ì•ˆì •</div>
          <div style="font-size:20px;font-weight:800;color:${t.color}">${(state.strengthScores.CS||0)<=0?'ë³€í™” ì¶”êµ¬ ğŸ”¥':'ì•ˆì • ì„ í˜¸ ğŸ›¡ï¸'}</div>
          <div style="margin-top:6px;height:6px;background:#E5E7EB;border-radius:3px;overflow:hidden">
            <div style="height:100%;width:${Math.min(100,Math.max(5,50+((state.strengthScores.CS||0)/6)*50))}%;background:${t.color};border-radius:3px"></div>
          </div>
          <div style="display:flex;justify-content:space-between;margin-top:2px"><span style="font-size:9px;color:#9CA3AF">ë³€í™”</span><span style="font-size:9px;color:#9CA3AF">ì•ˆì •</span></div>
        </div>
        <div style="flex:1;padding:14px;background:#F9FAFB;border-radius:12px;text-align:center">
          <div style="font-size:11px;color:#9CA3AF;font-weight:600;margin-bottom:4px">ë°ì´í„° â†” ì§ê´€</div>
          <div style="font-size:20px;font-weight:800;color:${t.color}">${(state.strengthScores.DI||0)<=0?'ë°ì´í„°í˜• ğŸ“Š':'ì§ê´€í˜• ğŸ’¡'}</div>
          <div style="margin-top:6px;height:6px;background:#E5E7EB;border-radius:3px;overflow:hidden">
            <div style="height:100%;width:${Math.min(100,Math.max(5,50+((state.strengthScores.DI||0)/6)*50))}%;background:${t.color};border-radius:3px"></div>
          </div>
          <div style="display:flex;justify-content:space-between;margin-top:2px"><span style="font-size:9px;color:#9CA3AF">ë°ì´í„°</span><span style="font-size:9px;color:#9CA3AF">ì§ê´€</span></div>
        </div>
      </div>
    </div>`:``}

    <!-- 5b. Phase-based Task Fit -->
    <div class="card">
      <div class="sec-title">ğŸ“‹ ê³¼ì—… ë‹¨ê³„ë³„ ì í•©ë„</div>
      <p style="font-size:12px;color:#9CA3AF;margin-bottom:14px">í•˜ë‚˜ì˜ HR í”„ë¡œì íŠ¸ë¥¼ 5ë‹¨ê³„ë¡œ ë‚˜ëˆ´ì„ ë•Œ, ë‚´ê°€ ë¹›ë‚˜ëŠ” ë‹¨ê³„ëŠ”?</p>
      ${TASK_PHASES.map(p=>{
        const isBest=p.bestTypes.includes(tk);
        const isGood=p.goodTypes.includes(tk);
        const level=isBest?'best':isGood?'good':'neutral';
        const bg=level==='best'?t.colorBg:level==='good'?'#F0FDF4':'#F9FAFB';
        const border=level==='best'?t.colorLight:level==='good'?'#BBF7D0':'#E5E7EB';
        const badge=level==='best'?'â­ ìµœì ':level==='good'?'ğŸ‘ ì˜ ë§ìŒ':'';
        return`
        <div style="padding:12px 14px;border:1px solid ${border};border-radius:12px;margin-bottom:8px;background:${bg}">
          <div style="display:flex;align-items:center;gap:8px">
            <span style="font-size:18px">${p.icon}</span>
            <div style="flex:1">
              <div style="font-size:14px;font-weight:700;color:#374151">${p.name}</div>
              <div style="font-size:12px;color:#9CA3AF">${p.desc}</div>
            </div>
            ${badge?`<span style="font-size:11px;font-weight:700;padding:3px 8px;border-radius:6px;background:${level==='best'?t.color:'#059669'};color:#fff;white-space:nowrap">${badge}</span>`:''}
          </div>
        </div>`;}).join("")}
    </div>

    <!-- 6. User Manual (5í•­ëª©: ìš”ì²­/í”¼ë“œë°±/í”¼í•´ì£¼ì„¸ìš”/ìŠ¤íŠ¸ë ˆìŠ¤/ê³¼ë¶€í•˜&íšŒë³µ) -->
    <div class="card" style="border:2px solid ${t.color}">
      <div class="sec-title">ğŸ“‹ ë‚˜ì˜ ì‚¬ìš©ì„¤ëª…ì„œ</div>
      <p style="font-size:12px;color:#9CA3AF;margin-bottom:14px;margin-top:-8px">íŒ€ ë…¸ì…˜ì— ë¶™ì—¬ë†“ê³  ì°¸ê³ í•˜ì„¸ìš”</p>
      ${[{icon:"ğŸ“¨",label:"ë‚˜ì—ê²Œ ì—…ë¬´ ìš”ì²­í•  ë•Œ",text:t.manual.request},{icon:"ğŸ’¬",label:"ë‚˜ì—ê²Œ í”¼ë“œë°± ì¤„ ë•Œ",text:t.manual.feedback},{icon:"ğŸš«",label:"ì´ê±´ í”¼í•´ì£¼ì„¸ìš”",text:t.manual.avoid},{icon:"ğŸ˜°",label:"ìŠ¤íŠ¸ë ˆìŠ¤ ì‹ í˜¸",text:t.manual.stress},{icon:"ğŸ’š",label:"ê³¼ë¶€í•˜ì¼ ë•Œ ì´ë ‡ê²Œ ë„ì™€ì£¼ì„¸ìš”",text:t.manual.overload}].map((item,i)=>`
        <div style="padding:14px 16px;background:${i===4?"#ECFDF5":i%2===0?t.colorBg:"#FAFAFA"};border-radius:12px;margin-bottom:${i<4?10:0}px">
          <div style="font-size:13px;font-weight:700;color:${i===4?"#059669":t.color};margin-bottom:6px">${item.icon} ${item.label}</div>
          <p style="font-size:14px;color:#374151;line-height:1.7">${item.text}</p>
        </div>`).join("")}
    </div>

    <!-- 7. Compatibility (í•œ ì¤„ ìš”ì•½) -->
    <div class="card">
      <div class="sec-title">ğŸ¤ ìœ í˜• ê¶í•©</div>
      <div style="display:flex;gap:10px">
        <div style="flex:1;background:#F0FDF4;border-radius:12px;padding:14px;border:1px solid #BBF7D0;text-align:center">
          <p style="font-size:12px;font-weight:600;color:#059669;margin-bottom:6px">ì‹œë„ˆì§€</p>
          <p style="font-size:15px;font-weight:800;color:#166534">${t.bestMatchShort}</p>
        </div>
        <div style="flex:1;background:#FFFBEB;border-radius:12px;padding:14px;border:1px solid #FDE68A;text-align:center">
          <p style="font-size:12px;font-weight:600;color:#92400E;margin-bottom:6px">ì£¼ì˜</p>
          <p style="font-size:15px;font-weight:800;color:#92400E">${t.tensionMatchShort}</p>
        </div>
      </div>
      <p style="font-size:12px;color:#9CA3AF;text-align:center;margin-top:10px">íŒ€ ì¡°í•©ì—ì„œ ìƒì„¸ 1:1 ì†Œí†µ ê°€ì´ë“œë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
    </div>

    <!-- Share my result -->
    ${!state.sharedResult?`
    <div style="text-align:center;margin-bottom:16px">
      <button class="btn btn-secondary" onclick="shareMyResult()" id="shareResultBtn" style="font-size:14px">ğŸ”— ë‚´ ê²°ê³¼ ê³µìœ í•˜ê¸°</button>
    </div>`:''}

    <!-- Team CTA -->
    ${state.sharedResult?`
    <div class="card" style="text-align:center;background:linear-gradient(135deg,#F3F0FF 0%,#EBF5FF 100%);border:2px solid #C4B5FD">
      <div style="font-size:36px;margin-bottom:8px">ğŸ§­</div>
      <p style="font-size:16px;font-weight:700;color:#374151;margin-bottom:8px">ë‚˜ë„ ê¶ê¸ˆí•˜ë‹¤ë©´?</p>
      <button class="btn btn-primary" onclick="location.href=location.pathname" style="margin-top:8px">ë‚˜ë„ í…ŒìŠ¤íŠ¸í•˜ê¸°</button>
    </div>
    `:state.mode==="team"?`
    <button class="btn btn-primary" onclick="goTeam()" style="width:100%;margin-bottom:12px">ğŸ‘¥ íŒ€ ê²°ê³¼ ë³´ê¸°</button>
    <button class="btn btn-secondary" onclick="restart()" style="width:100%;margin-bottom:16px">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸</button>
    `:`
    ${sb?`
    <div class="card" style="text-align:center;background:linear-gradient(135deg,#F3F0FF 0%,#EBF5FF 100%);border:2px solid #C4B5FD">
      <div style="font-size:36px;margin-bottom:8px">ğŸ‘¥</div>
      <p style="font-size:16px;font-weight:700;color:#374151;margin-bottom:6px">ìš°ë¦¬ íŒ€ ì¡°í•©ë„ ì•Œì•„ë³´ì„¸ìš”</p>
      <p style="font-size:13px;color:#6B7280;line-height:1.6;margin-bottom:16px">íŒ€ì„ ë§Œë“¤ê³  ë§í¬ë¥¼ ê³µìœ í•˜ë©´, íŒ€ì›ë“¤ì´<br>í…ŒìŠ¤íŠ¸ë¥¼ í•˜ëŠ” ëŒ€ë¡œ ìë™ìœ¼ë¡œ ê²°ê³¼ê°€ ëª¨ì—¬ìš”</p>
      <div style="display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-bottom:16px">
        ${[["ğŸ“Š","íŒ€ ìœ í˜• ë¶„í¬ & ë°¸ëŸ°ìŠ¤"],["ğŸ¤","1:1 ë§ì¶¤ ì†Œí†µ ê°€ì´ë“œ"],["ğŸ“‹","ê³¼ì—…ë³„ ë¦¬ë“œ/ì„œí¬íŠ¸ ì¶”ì²œ"]].map(([i,t])=>`<span style="font-size:12px;padding:6px 12px;background:#fff;border:1px solid #E5E7EB;border-radius:10px;color:#374151">${i} ${t}</span>`).join("")}
      </div>
      <button class="btn btn-primary" onclick="goCreateTeam()">ìš°ë¦¬ íŒ€ ë§Œë“¤ê¸°</button>
    </div>`:``}
    <button class="btn btn-secondary" onclick="restart()" style="width:100%;margin-bottom:16px">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸</button>
    `}
    <button onclick="resetAllData()" style="margin-top:8px;background:none;border:none;font-size:12px;color:#D1D5DB;cursor:pointer;font-family:inherit;padding:8px">ğŸ—‘ï¸ ë°ì´í„° ì´ˆê¸°í™”</button>
    <div style="height:32px"></div>
  </div>`;
}

function renderTeamLoading(){
  app().innerHTML=`
  <div class="fade-in" style="padding-top:80px;text-align:center">
    <div style="margin-bottom:16px"><span class="spinner"></span></div>
    <h2 style="font-size:18px;font-weight:700;margin-bottom:8px">íŒ€ ê²°ê³¼ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</h2>
    <p style="font-size:14px;color:#6B7280">${state.teamName?'"'+state.teamName+'" íŒ€':''}</p>
  </div>`;
}
async function loadTeamFromSupabase(){
  try{
    const results=await sbLoadResults(state.teamId);
    state.members=results.map(r=>({name:r.name,se:r.se_score,pt:r.pt_score,typeKey:r.type_key}));
    // Auto-save my result if I have scores but I'm not in the team results
    if(state.userName&&state.scores&&state.scores.SE!==undefined){
      const myName=state.userName;
      const found=state.members.find(m=>m.name===myName);
      if(!found){
        const tk=typeFromScores(state.scores.SE,state.scores.PT);
        const ssData={CS:state.strengthScores?.CS||0,DI:state.strengthScores?.DI||0};
        try{
          await sbSaveResult(state.teamId,myName,state.scores.SE,state.scores.PT,tk,ssData);
          state.members.push({name:myName,se:state.scores.SE,pt:state.scores.PT,typeKey:tk});
          saveTeamMembership(state.teamId,myName);
        }catch(e2){/* silent */}
      }
    }
    state._teamLoaded=true;
    render();
  }catch(e){
    app().innerHTML=`
    <div class="fade-in" style="padding-top:80px;text-align:center">
      <div style="font-size:48px;margin-bottom:16px">ğŸ˜¢</div>
      <h2 style="font-size:18px;font-weight:700;margin-bottom:8px">íŒ€ ê²°ê³¼ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆì–´ìš”</h2>
      <p style="font-size:14px;color:#6B7280;margin-bottom:24px">${e.message}</p>
      <button class="btn btn-primary" onclick="state._teamLoaded=false;render()">ë‹¤ì‹œ ì‹œë„</button>
      <button class="btn btn-secondary" onclick="state.screen='intro';render()" style="margin-top:10px">ì²˜ìŒìœ¼ë¡œ</button>
    </div>`;
  }
}

function renderTeam(){
  // Supabase team: auto-load results
  if(state.mode==="team"&&state.teamId&&sb&&!state._teamLoaded){
    renderTeamLoading();loadTeamFromSupabase();return;
  }
  const myTk=typeFromScores(state.scores.SE,state.scores.PT);
  if(state.members.length===0){
    if(state.userName){state.members=[{name:state.userName,se:state.scores.SE,pt:state.scores.PT,typeKey:myTk}];}
    else{state.members=[{name:"ë‚˜",se:0,pt:0,typeKey:"allrounder"}];}
  }

  // Type counts
  const typeCounts={};
  state.members.forEach(m=>{typeCounts[m.typeKey]=(typeCounts[m.typeKey]||0)+1;});
  const missing=TYPES.filter(t=>!typeCounts[t]);

  app().innerHTML=`
  <div class="fade-in">
    ${state.userName?`<button onclick="goResult()" style="display:flex;align-items:center;gap:6px;font-size:14px;color:#6B7280;background:none;border:none;cursor:pointer;padding:12px 0;font-weight:600;font-family:inherit">â† ë‚´ ê²°ê³¼ë¡œ ëŒì•„ê°€ê¸°</button>`:''}
    <h2 style="font-size:24px;font-weight:800;margin-bottom:8px">ğŸ‘¥ ${state.mode==="team"&&state.teamName?state.teamName+' ':''} íŒ€ ì¡°í•© ë¶„ì„</h2>
    <p style="font-size:14px;color:#9CA3AF;margin-bottom:24px">${state.mode==="team"?'íŒ€ì›ë“¤ì´ í…ŒìŠ¤íŠ¸ë¥¼ ì™„ë£Œí•˜ë©´ ìë™ìœ¼ë¡œ ì—¬ê¸°ì— ë‚˜íƒ€ë‚˜ìš”':'íŒ€ì›ë“¤ì˜ ê³µìœ  ì½”ë“œë¥¼ ë¶™ì—¬ë„£ì–´ í•œëˆˆì— ë¹„êµí•˜ì„¸ìš”'}</p>

    <!-- Chart -->
    <div class="card">${makeChart(state.members,320)}</div>

    <!-- â‘  Team Meeting Guide -->
    ${state.members.length>1?`
    <div class="card" style="border:2px solid #C4B5FD;background:linear-gradient(135deg,#FAFBFF 0%,#F3F0FF 100%)">
      <div class="sec-title">ğŸ—£ï¸ ìš°ë¦¬ íŒ€ íšŒì˜ ê°€ì´ë“œ</div>
      <p style="font-size:12px;color:#9CA3AF;margin-bottom:14px">íŒ€ ìœ í˜• ì¡°í•©ì„ ë¶„ì„í•´ì„œ ë§Œë“  ë§ì¶¤ ê°€ì´ë“œì˜ˆìš”</p>
      ${analyzeTeamComposition(state.members).map(tip=>`
        <div style="padding:14px;background:#fff;border-radius:12px;margin-bottom:8px;border:1px solid #E5E7EB">
          <p style="font-size:14px;color:#374151;line-height:1.7"><span style="font-size:16px;margin-right:4px">${tip.icon}</span>${tip.text}</p>
        </div>`).join("")}
    </div>`:""}

    <!-- â‘¡ Conflict Prediction -->
    ${(()=>{
      if(state.members.length<2)return'';
      const conflicts=findConflictPairs(state.members);
      const allPairs=[];
      for(let i=0;i<state.members.length;i++)for(let j=i+1;j<state.members.length;j++)allPairs.push([i,j]);
      const conflictNames=new Set(conflicts.map(c=>c.a.name+'-'+c.b.name));
      const okPairs=allPairs.filter(([i,j])=>!conflictNames.has(state.members[i].name+'-'+state.members[j].name));
      return`
    <div class="card">
      <div class="sec-title">âš¡ ê°ˆë“± ì˜ˆì¸¡ & ì‹œë„ˆì§€</div>
      <p style="font-size:12px;color:#9CA3AF;margin-bottom:14px">ë§ˆì°° ê°€ëŠ¥ì„±ì´ ë†’ì€ ì¡°í•©ë§Œ ê³¨ë¼ ë³´ì—¬ë“œë ¤ìš”</p>
      ${conflicts.length>0?conflicts.map(c=>{
        const tA=T[c.a.typeKey],tB=T[c.b.typeKey];
        return`
        <div style="border:1px solid #FECACA;border-radius:14px;padding:16px;margin-bottom:12px;background:#FEF2F222">
          <div style="display:flex;align-items:center;gap:6px;margin-bottom:10px;flex-wrap:wrap">
            <span style="font-size:11px;font-weight:700;color:#DC2626;background:#FEE2E2;padding:3px 8px;border-radius:6px">âš ï¸ ì£¼ì˜ ì¡°í•©</span>
            <span style="font-size:14px;font-weight:700;color:#374151">${tA.emoji} ${c.a.name}</span>
            <span style="font-size:12px;color:#9CA3AF">â†”</span>
            <span style="font-size:14px;font-weight:700;color:#374151">${tB.emoji} ${c.b.name}</span>
          </div>
          <p style="font-size:13px;color:#374151;line-height:1.7;margin-bottom:10px">${c.reason}</p>
          <div style="padding:10px 12px;background:#F0FDF4;border-radius:10px;border:1px solid #BBF7D0">
            <span style="font-size:12px;font-weight:700;color:#059669">ğŸ’¡ ì´ë ‡ê²Œ í’€ì–´ë³´ì„¸ìš”</span>
            <p style="font-size:13px;color:#374151;line-height:1.6;margin-top:4px">${c.tip}</p>
          </div>
        </div>`;}).join(''):`
        <div style="padding:16px;background:#F0FDF4;border-radius:12px;border:1px solid #BBF7D0;text-align:center">
          <p style="font-size:14px;color:#059669;font-weight:600">âœ¨ íŠ¹ë³„í•œ ê°ˆë“± ë¦¬ìŠ¤í¬ê°€ ì—†ëŠ” ì¡°í•©ì´ì—ìš”!</p>
        </div>`}
      ${okPairs.length>0?`
      <div style="margin-top:12px;padding:12px;background:#F9FAFB;border-radius:12px">
        <p style="font-size:12px;color:#059669;font-weight:600;margin-bottom:6px">ğŸ‘ ì˜ ë§ëŠ” ì¡°í•©</p>
        <div style="display:flex;flex-wrap:wrap;gap:6px">
          ${okPairs.map(([i,j])=>{const a=state.members[i],b=state.members[j];return`<span style="font-size:12px;padding:4px 10px;background:#F0FDF4;color:#166534;border-radius:8px;border:1px solid #BBF7D0">${T[a.typeKey].emoji} ${a.name} Â· ${T[b.typeKey].emoji} ${b.name}</span>`;}).join('')}
        </div>
      </div>`:''}
    </div>`;})()}

    <!-- â‘¢ Phase-based Task Assignment -->
    ${state.members.length>1?(()=>{
      const phaseGapTips={
        direction:"ë°©í–¥ ì„¤ì •ì´ ì•½í•˜ë©´ í”„ë¡œì íŠ¸ê°€ 'ì™œ í•˜ëŠ”ì§€' ëª¨ë¥¸ ì±„ í˜ëŸ¬ê°ˆ ìˆ˜ ìˆì–´ìš”. í‚¥ì˜¤í”„ ë•Œ 'ëª©ì ê³¼ ê¸°ëŒ€ íš¨ê³¼'ë¥¼ ë¬¸ì„œë¡œ ëª…í™•íˆ ì •ë¦¬í•˜ì„¸ìš”.",
        design:"ì²´ê³„ ì„¤ê³„ ì¸ì›ì´ ë¶€ì¡±í•˜ë©´ í”„ë¡œì„¸ìŠ¤ê°€ 'ë˜ëŠ” ëŒ€ë¡œ' í˜ëŸ¬ê°€ìš”. ê¸°ì¤€ê³¼ ì ˆì°¨ë¥¼ ë¯¸ë¦¬ ë¬¸ì„œí™”í•˜ê³  ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ë‘ì„¸ìš”.",
        communication:"ì†Œí†µ ë‹´ë‹¹ì´ ì—†ìœ¼ë©´ ì´í•´ê´€ê³„ì ì €í•­ì— ë¶€ë”ªí ìˆ˜ ìˆì–´ìš”. ì£¼ìš” ê´€ê³„ìë³„ ì„¤ë“ í¬ì¸íŠ¸ë¥¼ ë¯¸ë¦¬ ì •ë¦¬í•˜ê³ , ì •ê¸°ì  ì—…ë°ì´íŠ¸ ì¼ì •ì„ ì¡ìœ¼ì„¸ìš”.",
        execution:"ì‹¤í–‰ ìš´ì˜ì— ì í•©í•œ ì¸ì›ì´ ë¶€ì¡±í•´ìš”. ë§ˆê°ê³¼ í’ˆì§ˆì´ í”ë“¤ë¦´ ìˆ˜ ìˆìœ¼ë‹ˆ, ì‹¤í–‰ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê³  ì£¼ê°„ ì§„ì²™ ì²´í¬ë¥¼ ë„£ìœ¼ì„¸ìš”.",
        analysis:"ë°ì´í„° ë¶„ì„ ì—­ëŸ‰ì´ ë¶€ì¡±í•  ìˆ˜ ìˆì–´ìš”. í”„ë¡œì íŠ¸ ì‹œì‘ ì‹œ 'ë¬´ì—‡ì„ ì¸¡ì •í• ì§€' KPIë¥¼ ë¯¸ë¦¬ ì •í•˜ê³ , ê°„ë‹¨í•œ ëŒ€ì‹œë³´ë“œë¼ë„ ë§Œë“¤ì–´ë‘ì„¸ìš”."
      };
      const phaseWeakTips={
        direction:"ìµœì  ì¸ì›ì€ ì—†ì§€ë§Œ ë³´ì¡°í•  ìˆ˜ ìˆëŠ” ë©¤ë²„ê°€ ìˆì–´ìš”. ë°©í–¥ ì„¤ì • íšŒì˜ ë•Œ ì¶©ë¶„í•œ ë…¼ì˜ ì‹œê°„ì„ í™•ë³´í•˜ì„¸ìš”.",
        design:"ìµœì  ì¸ì› ì—†ì´ ë³´ì¡° ë©¤ë²„ë§Œ ìˆì–´ìš”. ì™¸ë¶€ ë ˆí¼ëŸ°ìŠ¤ë‚˜ í…œí”Œë¦¿ì„ ì°¸ê³ í•´ì„œ ì²´ê³„ë¥¼ ì¡ìœ¼ë©´ ë³´ì™„í•  ìˆ˜ ìˆì–´ìš”.",
        communication:"ìµœì  ì¸ì› ì—†ì´ ë³´ì¡° ë©¤ë²„ë§Œ ìˆì–´ìš”. ì†Œí†µ ì±„ë„ê³¼ ì£¼ê¸°ë¥¼ ë¯¸ë¦¬ ì •í•´ë‘ë©´ ë„ì›€ì´ ë¼ìš”.",
        execution:"ìµœì  ì¸ì› ì—†ì´ ë³´ì¡° ë©¤ë²„ë§Œ ìˆì–´ìš”. ì—­í•  ë¶„ë‹´ì„ ëª…í™•íˆ í•˜ê³  ë§ˆê° ê´€ë¦¬ë¥¼ ì˜ì‹ì ìœ¼ë¡œ ì±™ê¸°ì„¸ìš”.",
        analysis:"ìµœì  ì¸ì› ì—†ì´ ë³´ì¡° ë©¤ë²„ë§Œ ìˆì–´ìš”. ê°„ë‹¨í•œ ì„œë² ì´/ì§€í‘œ ìˆ˜ì§‘ì´ë¼ë„ í”„ë¡œì íŠ¸ ì´ˆê¸°ì— ì„¤ê³„í•´ë‘ì„¸ìš”."
      };
      return`
    <div class="card">
      <div class="sec-title">ğŸ“‹ ê³¼ì—… ë‹¨ê³„ë³„ íŒ€ ë°°ì¹˜</div>
      <p style="font-size:12px;color:#9CA3AF;margin-bottom:8px">HR í”„ë¡œì íŠ¸ë¥¼ 5ë‹¨ê³„ë¡œ ë‚˜ëˆ´ì„ ë•Œ, ê° ë‹¨ê³„ì— ëˆ„ê°€ ê°€ì¥ ì˜ ë§ì„ê¹Œìš”?</p>
      <div style="display:flex;gap:12px;margin-bottom:14px;font-size:11px;color:#6B7280">
        <span>â­ <b>ìµœì  ì í•©</b> â€” ì´ ë‹¨ê³„ì˜ í•µì‹¬ ì—­í• </span>
        <span>ğŸ‘ <b>ì˜ ë§ìŒ</b> â€” ë³´ì¡°Â·ì§€ì› ê°€ëŠ¥</span>
      </div>
      ${TASK_PHASES.map(p=>{
        const bestMembers=state.members.filter(m=>p.bestTypes.includes(m.typeKey));
        const goodMembers=state.members.filter(m=>p.goodTypes.includes(m.typeKey));
        const hasGap=bestMembers.length===0&&goodMembers.length===0;
        const weakGap=bestMembers.length===0&&goodMembers.length>0;
        return`
        <div style="border:1px solid ${hasGap?'#FECACA':weakGap?'#FDE68A':'#E5E7EB'};border-radius:14px;padding:14px;margin-bottom:10px;background:${hasGap?'#FEF2F211':weakGap?'#FFFBEB11':'#FAFBFF'}">
          <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px">
            <span style="font-size:18px">${p.icon}</span>
            <div style="flex:1">
              <div style="font-size:14px;font-weight:700;color:#374151">${p.name}</div>
              <div style="font-size:11px;color:#9CA3AF">${p.desc}</div>
            </div>
            ${hasGap?'<span style="font-size:10px;font-weight:700;color:#DC2626;background:#FEE2E2;padding:2px 8px;border-radius:6px">GAP</span>':weakGap?'<span style="font-size:10px;font-weight:700;color:#92400E;background:#FEF3C7;padding:2px 8px;border-radius:6px">ë³´ì™„ í•„ìš”</span>':''}
          </div>
          ${bestMembers.length>0?`<div style="display:flex;flex-wrap:wrap;gap:4px;margin-bottom:4px">
            ${bestMembers.map(m=>`<span style="font-size:12px;padding:4px 10px;background:${T[m.typeKey].colorBg};color:${T[m.typeKey].color};border-radius:8px;border:1px solid ${T[m.typeKey].colorLight};font-weight:700">â­ ${m.name}</span>`).join('')}
          </div>`:''}
          ${goodMembers.length>0?`<div style="display:flex;flex-wrap:wrap;gap:4px">
            ${goodMembers.map(m=>`<span style="font-size:12px;padding:4px 10px;background:#F3F4F6;color:#6B7280;border-radius:8px;border:1px solid #E5E7EB">ğŸ‘ ${m.name}</span>`).join('')}
          </div>`:''}
          ${hasGap?`<div style="margin-top:8px;padding:10px 12px;background:#FEF2F2;border-radius:10px;border:1px solid #FECACA">
            <p style="font-size:12px;color:#991B1B;line-height:1.6"><b>âš ï¸ ${phaseGapTips[p.id]}</b></p>
          </div>`:''}
          ${weakGap?`<div style="margin-top:8px;padding:10px 12px;background:#FFFBEB;border-radius:10px;border:1px solid #FDE68A">
            <p style="font-size:12px;color:#92400E;line-height:1.6">${phaseWeakTips[p.id]}</p>
          </div>`:''}
        </div>`;}).join('')}
    </div>`;})():""}

    <!-- â‘£ My Communication Guide -->
    ${(()=>{
      const meIdx=state.members.findIndex(m=>m.name===state.userName);
      const me=meIdx>=0?state.members[meIdx]:null;
      const others=me?state.members.filter((_,i)=>i!==meIdx):[];
      if(!me||others.length===0)return'';
      const myBase=getBaseType(me.typeKey);
      return`
    <div class="card">
      <div class="sec-title">ğŸ’¬ ë‚˜ì˜ ì†Œí†µ ê°€ì´ë“œ</div>
      <p style="font-size:12px;color:#9CA3AF;margin-bottom:14px">ë‚´ê°€ ê° íŒ€ì›ì—ê²Œ ë‹¤ê°€ê°ˆ ë•Œ ì°¸ê³ í•˜ì„¸ìš”</p>
      ${others.map(other=>{
        const key=myBase+">"+getBaseType(other.typeKey);
        const guide=REL_GUIDE[key]||REL_GUIDE[myBase+">"+myBase];
        const ot=T[other.typeKey];
        return`
        <div style="border:1px solid ${ot.colorLight};border-radius:14px;padding:14px;margin-bottom:10px;background:${ot.colorBg}22">
          <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px">
            <span style="font-size:18px">${ot.emoji}</span>
            <div style="flex:1">
              <span style="font-size:14px;font-weight:700;color:${ot.color}">${other.name}</span>
              <span style="font-size:11px;color:#9CA3AF;margin-left:4px">${ot.name}</span>
            </div>
          </div>
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:6px">
            <div style="padding:8px 10px;background:#fff;border-radius:8px"><span style="font-size:11px;font-weight:700;color:${ot.color}">ğŸ“¨ ìš”ì²­í•  ë•Œ</span><p style="font-size:12px;color:#374151;line-height:1.5;margin-top:3px">${guide.req}</p></div>
            <div style="padding:8px 10px;background:#fff;border-radius:8px"><span style="font-size:11px;font-weight:700;color:${ot.color}">ğŸ’¬ í”¼ë“œë°±í•  ë•Œ</span><p style="font-size:12px;color:#374151;line-height:1.5;margin-top:3px">${guide.fb}</p></div>
            <div style="padding:8px 10px;background:#FEF2F2;border-radius:8px"><span style="font-size:11px;font-weight:700;color:#DC2626">âš ï¸ ì£¼ì˜</span><p style="font-size:12px;color:#374151;line-height:1.5;margin-top:3px">${guide.warn}</p></div>
            <div style="padding:8px 10px;background:#F0FDF4;border-radius:8px"><span style="font-size:11px;font-weight:700;color:#059669">âœ¨ ì‹œë„ˆì§€</span><p style="font-size:12px;color:#374151;line-height:1.5;margin-top:3px">${guide.synergy}</p></div>
          </div>
        </div>`;}).join('')}
    </div>`;})()}

    <!-- Member List (clickable for detail) -->
    <div class="card">
      <div class="sec-title">ğŸ‘¤ íŒ€ì› ëª©ë¡</div>
      <p style="font-size:12px;color:#9CA3AF;margin-bottom:12px">íŒ€ì›ì„ ëˆŒëŸ¬ ìœ í˜• ìƒì„¸ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
      ${state.members.map((m,i)=>{const isMe=m.name===state.userName;const t=T[m.typeKey];const isOpen=state._viewMemberIdx===i;return`
        <div style="border:1px solid ${isOpen?t.colorLight:'#E5E7EB'};border-radius:14px;margin-bottom:8px;overflow:hidden;transition:all .15s">
          <div onclick="toggleMemberDetail(${i})" style="display:flex;align-items:center;gap:10px;padding:12px 14px;background:${isOpen?t.colorBg:(isMe?t.colorBg+'88':'#F9FAFB')};cursor:pointer">
            <span style="font-size:20px">${t.emoji}</span>
            <div style="flex:1">
              <div style="font-size:14px;font-weight:700;color:#1A1A2E">${m.name} ${isMe?`<span style="font-size:11px;color:${t.color};font-weight:600">(ë‚˜)</span>`:""}</div>
              <div style="font-size:12px;color:#9CA3AF">${t.name}</div>
            </div>
            ${state.mode!=="team"&&i>0?`<button onclick="event.stopPropagation();removeMember(${i})" style="background:none;border:none;cursor:pointer;font-size:16px;color:#D1D5DB;padding:4px">âœ•</button>`:""}
            <span style="font-size:12px;color:#9CA3AF;transition:transform .15s;${isOpen?'transform:rotate(90deg)':''}">${isOpen?'â–¾':'â–¸'}</span>
          </div>
          ${isOpen?`
          <div style="padding:16px;border-top:1px solid ${t.colorLight}">
            <p style="font-size:15px;font-weight:700;color:${t.color};margin-bottom:4px">${t.subtitle}</p>
            <div style="padding:12px;background:#FFFBEB;border-radius:10px;border:1px solid #FDE68A;margin-bottom:12px">
              <span style="font-size:12px;font-weight:700;color:#92400E">ğŸ”¥ í•µì‹¬ ìš•êµ¬</span>
              <p style="font-size:13px;color:#374151;line-height:1.6;margin-top:4px">${t.coreNeed}</p>
            </div>
            <p style="font-size:13px;color:#374151;line-height:1.7;margin-bottom:12px;white-space:pre-line">${t.desc}</p>
            <div style="padding:12px;background:#FEF2F2;border-radius:10px;border:1px solid #FECACA;margin-bottom:12px">
              <span style="font-size:12px;font-weight:700;color:#DC2626">ğŸš« ì´ê±´ ì ˆëŒ€ ëª» ì°¸ì•„ìš”</span>
              <p style="font-size:13px;color:#374151;line-height:1.6;margin-top:4px">${t.painPoint}</p>
            </div>
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:12px">
              <div>
                <span style="font-size:12px;font-weight:700;color:#059669">ğŸ”‹ ì—ë„ˆì§€ UP</span>
                <div style="margin-top:6px">${t.energyUp.slice(0,4).map(x=>`<div style="font-size:12px;padding:4px 8px;background:#F0FDF4;color:#166534;border-radius:6px;margin-bottom:3px">${x}</div>`).join('')}</div>
              </div>
              <div>
                <span style="font-size:12px;font-weight:700;color:#DC2626">ğŸª« ì—ë„ˆì§€ DOWN</span>
                <div style="margin-top:6px">${t.energyDown.slice(0,4).map(x=>`<div style="font-size:12px;padding:4px 8px;background:#FEF2F2;color:#991B1B;border-radius:6px;margin-bottom:3px">${x}</div>`).join('')}</div>
              </div>
            </div>
            <div style="background:#F9FAFB;border-radius:10px;padding:12px">
              <span style="font-size:12px;font-weight:700;color:#374151">ğŸ“‹ ì‚¬ìš©ì„¤ëª…ì„œ</span>
              ${[{icon:"ğŸ“¨",label:"ìš”ì²­",text:t.manual.request},{icon:"ğŸ’¬",label:"í”¼ë“œë°±",text:t.manual.feedback},{icon:"ğŸš«",label:"í”¼í•´ì£¼ì„¸ìš”",text:t.manual.avoid},{icon:"ğŸ˜°",label:"ìŠ¤íŠ¸ë ˆìŠ¤ ì‹ í˜¸",text:t.manual.stress}].map(item=>`
              <div style="margin-top:8px"><span style="font-size:11px;font-weight:600;color:#6B7280">${item.icon} ${item.label}</span><p style="font-size:12px;color:#374151;line-height:1.5;margin-top:2px">${item.text}</p></div>`).join('')}
            </div>
          </div>`:``}
        </div>`;}).join("")}

      <!-- Add members -->
      ${state.mode==="team"?`
      <div style="margin-top:16px;padding:16px;background:#F3F0FF;border-radius:14px;text-align:center;border:1px solid #C4B5FD">
        <p style="font-size:13px;font-weight:600;color:#374151;margin-bottom:8px">íŒ€ì› ì´ˆëŒ€í•˜ê¸°</p>
        <p style="font-size:12px;color:#9CA3AF;margin-bottom:12px">ì•„ë˜ ë§í¬ë¥¼ íŒ€ì›ì—ê²Œ ê³µìœ í•˜ì„¸ìš”</p>
        <button class="btn btn-primary" onclick="copyInviteLink()" id="inviteCopyBtn" style="font-size:14px;padding:12px">ğŸ“‹ ì´ˆëŒ€ ë§í¬ ë³µì‚¬</button>
        <button class="btn btn-secondary" onclick="state._teamLoaded=false;render()" style="margin-top:8px;font-size:13px;padding:10px">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
      </div>
      `:`
      <div style="margin-top:16px;padding:16px;background:#F9FAFB;border-radius:14px">
        <p style="font-size:13px;font-weight:600;color:#374151;margin-bottom:8px">íŒ€ì› ì½”ë“œë¡œ ì¶”ê°€</p>
        <p style="font-size:12px;color:#9CA3AF;margin-bottom:12px">íŒ€ì›ì´ ê³µìœ í•œ ì½”ë“œë¥¼ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”. ì—¬ëŸ¬ ì¤„ë„ ê°€ëŠ¥í•´ìš”!</p>
        <textarea id="codeInput" class="input" rows="3" placeholder="ì˜ˆì‹œ:&#10;ê¹€ëª¨ë¹„:A:-6:3:SP&#10;ê¹€ë¯¼ìˆ˜:D:8:5:ES" style="resize:vertical;margin-bottom:10px"></textarea>
        <button class="btn btn-primary" onclick="addByCode()" style="font-size:14px;padding:12px">+ ì½”ë“œë¡œ ì¶”ê°€</button>
      </div>
      `}
    </div>

    <!-- Team Share Link -->
    ${state.mode==="team"?'':(state.members.length>1?`
    <div class="card" style="text-align:center;background:linear-gradient(135deg,#F3F0FF 0%,#EBF5FF 100%);border:1px solid #C4B5FD">
      <div style="font-size:28px;margin-bottom:8px">ğŸ”—</div>
      <p style="font-size:15px;font-weight:700;color:#374151;margin-bottom:6px">íŒ€ ê³µìœ  ë§í¬</p>
      <p style="font-size:12px;color:#9CA3AF;margin-bottom:14px;line-height:1.5">ì´ ë§í¬ë¥¼ ê³µìœ í•˜ë©´ ëˆ„êµ¬ë‚˜ íŒ€ ì¡°í•© ë¶„ì„ì„<br>ë°”ë¡œ ë³¼ ìˆ˜ ìˆì–´ìš” (ë¡œê·¸ì¸/ì…ë ¥ í•„ìš” ì—†ìŒ)</p>
      <button class="btn btn-primary" onclick="copyTeamLink()" id="teamLinkBtn" style="font-size:14px;padding:12px">ğŸ”— íŒ€ ë§í¬ ë³µì‚¬</button>
    </div>`:"")}

    <!-- All types reference (collapsible) -->
    <div class="card">
      <button onclick="this.nextElementSibling.classList.toggle('hidden');this.querySelector('span:last-child').textContent=this.nextElementSibling.classList.contains('hidden')?'â–¸':'â–¾'" style="width:100%;display:flex;align-items:center;justify-content:space-between;background:none;border:none;cursor:pointer;padding:0;font-family:inherit">
        <span class="sec-title" style="margin-bottom:0">ğŸ“– 9ê°€ì§€ ìœ í˜• ì°¸ê³ </span>
        <span style="font-size:14px;color:#9CA3AF">â–¸</span>
      </button>
      <div class="hidden" style="margin-top:14px">
        ${TYPES.map(tk=>{const typ=T[tk];return`
          <div style="padding:12px;border-left:3px solid ${typ.color};margin-bottom:8px;background:#FAFAFA;border-radius:0 10px 10px 0">
            <div style="display:flex;align-items:center;gap:8px">
              <span style="font-size:18px">${typ.emoji}</span>
              <span style="font-size:13px;font-weight:700;color:${typ.color}">${typ.name}</span>
              <span style="font-size:11px;color:#9CA3AF">${typ.subtitle}</span>
            </div>
          </div>`;}).join("")}
      </div>
    </div>

    <div style="height:48px"></div>
  </div>`;
}

/* ===== CHART HELPER ===== */
function makeChart(members,size){
  size=size||280;
  let dots=members.map(m=>{
    const x=((m.pt+16)/32)*100;
    const y=((m.se+16)/32)*100;
    const c=T[m.typeKey].color;
    const cx=Math.min(92,Math.max(8,x));
    const cy=Math.min(92,Math.max(8,y));
    return`<div class="dot" style="left:${cx}%;top:${cy}%"><div class="dot-circle" style="background:${c};box-shadow:0 0 0 4px ${c}33,0 2px 8px ${c}44"></div><span class="dot-name" style="color:${c}">${m.name}</span></div>`;
  }).join("");

  return`
  <div class="chart-wrap" style="max-width:${size}px">
    <div class="axis-h"></div><div class="axis-v"></div>
    <div class="chart-quad" style="top:15%;left:17%;color:#6C5CE7;font-size:9px">ğŸ›ï¸ ì¡°ì§<br>ì„¤ê³„ì</div>
    <div class="chart-quad" style="top:15%;left:50%;color:#7C6DD8;font-size:9px">ğŸ§­ ì „ëµ<br>ê¸°íšê°€</div>
    <div class="chart-quad" style="top:15%;left:83%;color:#0984E3;font-size:9px">âš™ï¸ ì „ëµ<br>ê³¼ì—…ê°€</div>
    <div class="chart-quad" style="top:50%;left:17%;color:#D35D6E;font-size:9px">ğŸ’¬ ê´€ê³„<br>ì´‰ì§„ì</div>
    <div class="chart-quad" style="top:50%;left:50%;color:#8B5CF6;font-size:9px">ğŸ¯ ì˜¬ë¼<br>ìš´ë”</div>
    <div class="chart-quad" style="top:50%;left:83%;color:#2D8CCA;font-size:9px">ğŸ“Š ê³¼ì—…<br>ê´€ë¦¬ì</div>
    <div class="chart-quad" style="top:85%;left:17%;color:#E17055;font-size:9px">ğŸ¤ í”¼í”Œ<br>ì»¤ë„¥í„°</div>
    <div class="chart-quad" style="top:85%;left:50%;color:#10B981;font-size:9px">âš¡ í˜„ì¥<br>ì‹¤í–‰ê°€</div>
    <div class="chart-quad" style="top:85%;left:83%;color:#00B894;font-size:9px">ğŸš€ ì‹¤í–‰<br>ë“œë¼ì´ë²„</div>
    <div class="chart-label" style="top:3px;left:50%;transform:translateX(-50%)">ì „ëµí˜• â†‘</div>
    <div class="chart-label" style="bottom:3px;left:50%;transform:translateX(-50%)">â†“ ì‹¤í–‰í˜•</div>
    <div class="chart-label" style="left:3px;top:50%;transform:translateY(-50%)">ê´€ê³„ â†</div>
    <div class="chart-label" style="right:3px;top:50%;transform:translateY(-50%)">â†’ ê³¼ì—…</div>
    ${dots}
  </div>`;
}

/* ===== RELATIONSHIP NETWORK ===== */

/* ===== ACTIONS ===== */
function startTest(){
  // Preserve team context when retaking test in team mode
  const keepTeam=state.mode==="team"&&state.teamId;
  const tid=state.teamId,tname=state.teamName;
  state={screen:"questions",qIdx:0,scores:{SE:0,PT:0},strengthScores:{...EMPTY_SS},sqIdx:0,userName:"",members:[],selectedMember:0,
    mode:keepTeam?"team":"solo",teamId:keepTeam?tid:null,teamName:keepTeam?tname:"",loading:false,error:null,_teamLoaded:false,sharedResult:false,_viewMemberIdx:-1};
  render();
}

function answerQ(val,btnIdx){
  const q=QUESTIONS[state.qIdx];
  const actualVal=q.rev?-val:val;
  state.scores[q.axis]+=actualVal;

  // highlight button
  const colors=["#6C5CE7","#A29BFE","#74B9FF","#0984E3"];
  const btns=document.querySelectorAll(".scale-btn");
  btns.forEach((b,i)=>{b.style.pointerEvents="none";});
  btns[btnIdx].style.background=colors[btnIdx];
  btns[btnIdx].style.borderColor=colors[btnIdx];
  btns[btnIdx].style.boxShadow=`0 0 0 4px ${colors[btnIdx]}33`;
  btns[btnIdx].classList.add("selected");

  setTimeout(()=>{
    if(state.qIdx+1<QUESTIONS.length){state.qIdx++;state.screen="questions";}
    else{state.sqIdx=0;state.screen="strength";}
    render();
  },450);
}

function answerSQ(val,btnIdx){
  const sq=STRENGTH_QUESTIONS[state.sqIdx];
  // A(negative axis end) â† negative val, B(positive axis end) â† positive val
  state.strengthScores[sq.axis]+=val;

  // highlight (same animation as answerQ)
  const colors=["#6C5CE7","#A29BFE","#74B9FF","#0984E3"];
  const btns=document.querySelectorAll(".scale-btn");
  btns.forEach(b=>{b.style.pointerEvents="none";});
  btns[btnIdx].style.background=colors[btnIdx];
  btns[btnIdx].style.borderColor=colors[btnIdx];
  btns[btnIdx].style.boxShadow=`0 0 0 4px ${colors[btnIdx]}33`;
  btns[btnIdx].classList.add("selected");

  setTimeout(()=>{
    if(state.sqIdx+1<STRENGTH_QUESTIONS.length){state.sqIdx++;state.screen="strength";}
    else state.screen="name";
    render();
  },450);
}

async function submitName(){
  const inp=$("nameInput");
  if(inp&&inp.value.trim()){state.userName=inp.value.trim();}
  else if(!state.userName){
    // No name yet
    if(state.mode==="team"){
      // Team mode: name is required, don't allow "ë‚˜"
      if(inp){inp.style.borderColor='#DC2626';inp.placeholder='ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!';setTimeout(()=>{inp.style.borderColor='#E5E7EB';},2000);}
      return;
    }
    state.userName="ë‚˜";
  }
  saveMyResult();
  state.screen="result";
  render();
  // Supabase save (optimistic â€” result screen already shown)
  if(state.mode==="team"&&state.teamId&&sb){
    const tk=typeFromScores(state.scores.SE,state.scores.PT);
    const ssData={CS:state.strengthScores.CS||0,DI:state.strengthScores.DI||0};
    try{
      await sbSaveResult(state.teamId,state.userName,state.scores.SE,state.scores.PT,tk,ssData);
      saveTeamMembership(state.teamId,state.userName);
      showToast('ê²°ê³¼ê°€ íŒ€ì— ì €ì¥ëì–´ìš”!');
    }catch(e){
      showToast('ì €ì¥ ì‹¤íŒ¨... ë‹¤ì‹œ ì‹œë„í•©ë‹ˆë‹¤.');
      try{await sbSaveResult(state.teamId,state.userName,state.scores.SE,state.scores.PT,tk,ssData);saveTeamMembership(state.teamId,state.userName);showToast('ì €ì¥ ì™„ë£Œ!');}
      catch(e2){showToast('ì €ì¥ì— ì‹¤íŒ¨í–ˆì–´ìš”. íŒ€ í˜ì´ì§€ì—ì„œ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');}
    }
  }
}


function goTeam(){state.screen="team";if(state.mode==="team")state._teamLoaded=false;else saveTeam();render();}
function goResult(){state.screen="result";render();}
function restart(){startTest();}
function goSavedResult(){
  if(loadMyResult()){
    loadTeam();
    const savedTeam=loadMyTeamContext();
    if(savedTeam&&sb){state.mode="team";state.teamId=savedTeam.teamId;state.teamName=savedTeam.teamName;}
    state.screen="result";render();
  }
}

/* --- Team flow actions --- */
function goCreateTeam(){state.screen="createTeam";state.error=null;render();}

async function handleCreateTeam(){
  const inp=$("teamNameInput");
  const name=inp?inp.value.trim():'';
  if(!name){inp.style.borderColor='#DC2626';setTimeout(()=>{inp.style.borderColor='#E5E7EB';},2000);return;}
  state.loading=true;state.error=null;render();
  try{
    const team=await sbCreateTeam(name);
    state.mode="team";state.teamId=team.id;state.teamName=team.name;
    saveMyTeamContext(team.id,team.name);
    // Auto-save creator's result to the new team
    if(state.userName&&state.scores){
      const tk=typeFromScores(state.scores.SE,state.scores.PT);
      const ssData={CS:state.strengthScores.CS||0,DI:state.strengthScores.DI||0};
      await sbSaveResult(team.id,state.userName,state.scores.SE,state.scores.PT,tk,ssData);
      saveTeamMembership(team.id,state.userName);
    }
    state.loading=false;state.screen="inviteLink";render();
  }catch(e){
    state.loading=false;state.error={message:'íŒ€ ìƒì„±ì— ì‹¤íŒ¨í–ˆì–´ìš”. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.'};render();
  }
}

function copyInviteLink(){
  const link=location.origin+location.pathname+'?team='+state.teamId;
  const msg=`ğŸ§­ ë‚˜ëŠ” ì–´ë–¤ HRBPì¼ê¹Œ?\n\n"${state.teamName||'ìš°ë¦¬'}" íŒ€ HRBP ìœ í˜• ì§„ë‹¨ì— ì´ˆëŒ€ë°›ì•˜ì–´ìš”!\n22ë¬¸í•­ Â· ì•½ 5ë¶„ì´ë©´ ëë‚˜ìš”.\n\nğŸ‘‰ ${link}`;
  copyToClipboard(msg,'inviteCopyBtn','ğŸ“‹ ì´ˆëŒ€ ë§í¬ ë³µì‚¬');
}

function shareMyResult(){
  const link=getResultShareLink();
  const tk=typeFromScores(state.scores.SE,state.scores.PT);
  const t=T[tk];
  const msg=`ğŸ§­ ë‚˜ì˜ HRBP ìœ í˜•ì€ "${t.emoji} ${t.name}"!\n${t.subtitle}\n\në„ˆë„ ê¶ê¸ˆí•˜ë©´ í•´ë´! 22ë¬¸í•­ Â· ì•½ 5ë¶„\nğŸ‘‰ ${link}`;
  copyToClipboard(msg,'shareResultBtn','ğŸ”— ë‚´ ê²°ê³¼ ê³µìœ í•˜ê¸°');
}

function startTeamTest(){
  state.screen="questions";state.qIdx=0;state.scores={SE:0,PT:0};
  state.strengthScores={...EMPTY_SS};state.sqIdx=0;render();
}

function startTeamTestAsJoiner(){
  const inp=$("joinNameInput");
  const name=inp?inp.value.trim():'';
  if(!name){inp.style.borderColor='#DC2626';setTimeout(()=>{inp.style.borderColor='#E5E7EB';},2000);return;}
  state.userName=name;state.screen="questions";state.qIdx=0;
  state.scores={SE:0,PT:0};state.strengthScores={...EMPTY_SS};state.sqIdx=0;render();
}

function goTeamView(){state._teamLoaded=false;state.screen="team";render();}
function goTeamViewDirect(){
  // Go directly to team view without taking test (for those who already completed it or just want to see results)
  state._teamLoaded=false;state.screen="team";render();
}

function saveTeamMembership(teamId,userName){
  try{localStorage.setItem('hrbp_tm_'+teamId,JSON.stringify({userName,ts:Date.now()}));}catch(e){}
}
function getTeamMembership(teamId){
  try{const d=JSON.parse(localStorage.getItem('hrbp_tm_'+teamId));return d?d.userName:null;}catch(e){return null;}
}
function saveMyTeamContext(teamId,teamName){
  try{localStorage.setItem('hrbp_my_team',JSON.stringify({teamId,teamName,ts:Date.now()}));}catch(e){}
}
function loadMyTeamContext(){
  try{const d=JSON.parse(localStorage.getItem('hrbp_my_team'));if(d&&d.teamId)return d;}catch(e){}
  // Fallback: scan for any hrbp_tm_ membership key
  try{
    let best=null;
    for(let i=0;i<localStorage.length;i++){
      const k=localStorage.key(i);
      if(k&&k.startsWith('hrbp_tm_')){
        const d=JSON.parse(localStorage.getItem(k));
        if(d&&d.ts&&(!best||d.ts>best.ts))best={teamId:k.slice(8),ts:d.ts};
      }
    }
    if(best)return{teamId:best.teamId,teamName:null};
  }catch(e){}
  return null;
}

function resetAllData(){
  if(!confirm('ì €ì¥ëœ ê²°ê³¼ì™€ íŒ€ ì •ë³´ê°€ ëª¨ë‘ ì‚­ì œë¼ìš”. ê³„ì†í• ê¹Œìš”?'))return;
  Object.keys(localStorage).filter(k=>k.startsWith('hrbp')).forEach(k=>localStorage.removeItem(k));
  location.reload();
}

function showToast(msg){
  let t=document.getElementById('toast');
  if(!t){t=document.createElement('div');t.id='toast';t.style.cssText='position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:#1A1A2E;color:#fff;padding:12px 24px;border-radius:12px;font-size:14px;font-family:inherit;z-index:9999;box-shadow:0 4px 16px rgba(0,0,0,.2);transition:opacity .3s';document.body.appendChild(t);}
  t.textContent=msg;t.style.opacity='1';
  clearTimeout(t._timer);t._timer=setTimeout(()=>{t.style.opacity='0';},3000);
}

function copyToClipboard(text,btnId,originalText){
  navigator.clipboard.writeText(text).then(()=>{
    const btn=$(btnId);if(btn){btn.textContent='âœ… ë³µì‚¬ ì™„ë£Œ!';setTimeout(()=>{btn.textContent=originalText;},2000);}
  }).catch(()=>{
    const ta=document.createElement('textarea');ta.value=text;document.body.appendChild(ta);ta.select();document.execCommand('copy');document.body.removeChild(ta);
    const btn=$(btnId);if(btn){btn.textContent='âœ… ë³µì‚¬ ì™„ë£Œ!';setTimeout(()=>{btn.textContent=originalText;},2000);}
  });
}
function copyTeamLink(){
  const link=getTeamLink();
  navigator.clipboard.writeText(link).then(()=>{
    const btn=$("teamLinkBtn");btn.textContent="âœ… ë³µì‚¬ ì™„ë£Œ!";
    setTimeout(()=>{btn.textContent="ğŸ”— íŒ€ ë§í¬ ë³µì‚¬";},2000);
  }).catch(()=>{
    const ta=document.createElement("textarea");ta.value=link;document.body.appendChild(ta);ta.select();document.execCommand("copy");document.body.removeChild(ta);
    const btn=$("teamLinkBtn");btn.textContent="âœ… ë³µì‚¬ ì™„ë£Œ!";
    setTimeout(()=>{btn.textContent="ğŸ”— íŒ€ ë§í¬ ë³µì‚¬";},2000);
  });
}

function toggleMemberDetail(idx){
  state._viewMemberIdx=state._viewMemberIdx===idx?-1:idx;
  skipScroll=true;
  render();
}

function removeMember(idx){
  if(idx===0)return;
  state.members.splice(idx,1);
  if(state.selectedMember>=state.members.length)state.selectedMember=0;
  saveTeam();
  skipScroll=true;
  render();
}

function addByCode(){
  const input=$("codeInput");
  if(!input||!input.value.trim())return;
  const lines=input.value.trim().split("\n");
  const codeMap={A:"architect",S:"strategist",B:"builder",F:"facilitator",X:"allrounder",M:"taskmaster",C:"connector",E:"executor",D:"driver"};
  let added=0;
  lines.forEach(line=>{
    const parts=line.trim().split(":");
    if(parts.length>=4){
      const name=parts[0].trim();
      const typeCode=parts[1].trim().toUpperCase();
      const se=parseInt(parts[2]);
      const pt=parseInt(parts[3]);
      if(name&&codeMap[typeCode]&&!isNaN(se)&&!isNaN(pt)){
        // check duplicate
        if(!state.members.find(m=>m.name===name)){
          state.members.push({name,se:Math.max(-16,Math.min(16,se)),pt:Math.max(-16,Math.min(16,pt)),typeKey:codeMap[typeCode]});
          added++;
        }
      }
    }
  });
  if(added>0){input.value="";saveTeam();skipScroll=true;render();}
  else{input.style.borderColor="#DC2626";setTimeout(()=>{input.style.borderColor="#E5E7EB";},2000);}
}

/* ===== INIT ===== */
(async function init(){
  const params=new URLSearchParams(location.search);
  const teamIdParam=params.get('team');

  if(teamIdParam&&sb){
    // Opening an invite link
    state.mode="team";state.teamId=teamIdParam;
    state.screen="teamJoin";state.loading=true;
    render();
    try{
      const team=await sbGetTeam(teamIdParam);
      state.teamName=team.name;state.loading=false;
      saveMyTeamContext(teamIdParam,team.name);
      const savedName=getTeamMembership(teamIdParam);
      if(savedName){
        loadMyResult();state.userName=savedName;
        state.screen="team";
      }
      render();
    }catch(e){
      state.loading=false;
      state.error={message:'ë§í¬ê°€ ì˜¬ë°”ë¥´ì§€ ì•Šê±°ë‚˜, íŒ€ì´ ì‚­ì œë˜ì—ˆì„ ìˆ˜ ìˆì–´ìš”.'};
      render();
    }
  } else if(parseResultParam()){
    // Individual result sharing link (?r=...)
    state.screen="result";render();
  } else if(parseTeamHash()){
    loadMyResult();state.screen="team";render();
  } else {
    const hasResult=loadMyResult();loadTeam();
    const savedTeam=loadMyTeamContext();
    if(savedTeam&&sb){
      state.mode="team";state.teamId=savedTeam.teamId;state.teamName=savedTeam.teamName||'';
      const savedName=getTeamMembership(savedTeam.teamId);
      if(savedName)state.userName=savedName;
      if(hasResult)state.screen="result";
      render();
      // If teamName missing (fallback recovery), fetch from Supabase
      if(!savedTeam.teamName){
        try{
          const team=await sbGetTeam(savedTeam.teamId);
          state.teamName=team.name;
          saveMyTeamContext(savedTeam.teamId,team.name);
          render();
        }catch(e){/* team may have been deleted */}
      }
    } else {
      render();
    }
  }
})();
</script>
</body>
</html>
