<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="description" content="HRBP ì—…ë¬´ ìŠ¤íƒ€ì¼ ì§„ë‹¨ í…ŒìŠ¤íŠ¸ â€” 22ë¬¸í•­ìœ¼ë¡œ ì•Œì•„ë³´ëŠ” ë‚˜ì˜ HRBP ìœ í˜•, ì—ë„ˆì§€ ë§µ, íŒ€ ì¡°í•© ë¶„ì„">
<meta property="og:title" content="ë‚˜ëŠ” ì–´ë–¤ HRBPì¼ê¹Œ?">
<meta property="og:description" content="HRBP ì—…ë¬´ ìŠ¤íƒ€ì¼ ì§„ë‹¨ Â· 22ë¬¸í•­ Â· ì•½ 5ë¶„">
<title>ë‚˜ëŠ” ì–´ë–¤ HRBPì¼ê¹Œ?</title>
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Pretendard',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:linear-gradient(160deg,#FAFBFF 0%,#F0EDFF 40%,#E8F4FD 70%,#FFF5F2 100%);min-height:100vh;color:#1A1A2E}
.wrap{display:flex;flex-direction:column;align-items:center;padding:20px;min-height:100vh}
.container{max-width:540px;width:100%}
.card{background:#fff;border-radius:20px;padding:24px;box-shadow:0 4px 20px rgba(0,0,0,.05);margin-bottom:16px}
.card-bordered{border:2px solid var(--c)}
.sec-title{font-size:13px;font-weight:700;color:#9CA3AF;letter-spacing:.5px;margin-bottom:14px;text-transform:uppercase}
.tag{font-size:13px;padding:7px 12px;border-radius:10px;display:inline-block;margin:0 6px 6px 0}
.tag-green{background:#F0FDF4;color:#166534;border:1px solid #BBF7D0}
.tag-red{background:#FEF2F2;color:#991B1B;border:1px solid #FECACA}
.btn{width:100%;padding:16px;font-size:15px;font-weight:700;border:none;border-radius:14px;cursor:pointer;transition:all .2s;font-family:inherit}
.btn-primary{color:#fff;background:linear-gradient(135deg,#6C5CE7,#0984E3);box-shadow:0 4px 16px rgba(108,92,231,.3)}
.btn-secondary{color:#6C5CE7;background:#fff;border:2px solid #E5E7EB}
.btn:active{transform:scale(.98)}
.input{width:100%;padding:12px 14px;font-size:14px;border:2px solid #E5E7EB;border-radius:12px;outline:none;font-family:inherit;transition:border .2s}
.input:focus{border-color:#6C5CE7}
.fade-in{opacity:0;transform:translateY(16px);animation:fadeUp .6s cubic-bezier(.16,1,.3,1) forwards}
@keyframes fadeUp{to{opacity:1;transform:translateY(0)}}
.hidden{display:none!important}

/* Chart */
.chart-wrap{position:relative;width:100%;padding-bottom:100%;max-width:300px;margin:0 auto;background:#F9FAFB;border-radius:16px;overflow:hidden}
.chart-wrap .axis-h{position:absolute;top:50%;left:0;right:0;height:1px;background:#E5E7EB}
.chart-wrap .axis-v{position:absolute;left:50%;top:0;bottom:0;width:1px;background:#E5E7EB}
.chart-label{position:absolute;font-size:10px;font-weight:600;color:#9CA3AF}
.chart-quad{position:absolute;font-size:10px;font-weight:600;text-align:center;opacity:.4}
.dot{position:absolute;transform:translate(-50%,-50%);z-index:10;display:flex;flex-direction:column;align-items:center}
.dot-circle{width:14px;height:14px;border-radius:50%}
.dot-name{font-size:9px;font-weight:700;margin-top:3px;background:#fff;padding:1px 5px;border-radius:4px;box-shadow:0 1px 4px rgba(0,0,0,.1);white-space:nowrap}

/* Scale buttons */
.scale-row{display:flex;align-items:center;justify-content:center;gap:0;padding:12px 0}
.scale-btn{border-radius:50%;border:3px solid #E5E7EB;cursor:pointer;transition:all .15s;background:#F3F4F6;flex-shrink:0}
.scale-btn:hover{transform:scale(1.1)}
.scale-btn.selected{transform:scale(1.15)}
.scale-label{font-size:10px;margin-top:6px;color:#9CA3AF;text-align:center;font-weight:400}
.scale-col{display:flex;flex-direction:column;align-items:center;flex:1}

/* Toast & Spinner */
@keyframes spin{to{transform:rotate(360deg)}}
.spinner{width:24px;height:24px;border:3px solid #E5E7EB;border-top-color:#6C5CE7;border-radius:50%;animation:spin .8s linear infinite;display:inline-block}
#toast{font-family:'Pretendard',sans-serif}

/* Responsive */
@media(max-width:400px){.card{padding:18px}.container{padding:0 4px}}
</style>
</head>
<body>
<div class="wrap">
<div class="container" id="app"></div>
</div>

<script>
/* ===== DATA ===== */
const QUESTIONS = [
  // SE axis (Strategy- / Execution+)
  {axis:"SE",rev:false,text:"ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ê°€ ì‹œì‘ëì„ ë•Œ, ë‚˜ëŠ” ë¨¼ì €...",a:"ì´ í”„ë¡œì íŠ¸ì˜ ë°©í–¥ê³¼ ëª©ì ë¶€í„° ì •ë¦¬í•œë‹¤",b:"ì‹¤í–‰ ê³„íšê³¼ ì¼ì •ë¶€í„° ì§ ë‹¤"},
  {axis:"SE",rev:false,text:"ë‹´ë‹¹ ì¡°ì§ì—ì„œ ê°‘ìê¸° ì´ìŠˆê°€ í„°ì¡Œì„ ë•Œ...",a:"ê·¼ë³¸ ì›ì¸ê³¼ êµ¬ì¡°ì  ë¬¸ì œë¥¼ ë¨¼ì € íŒŒì•…í•œë‹¤",b:"ë‹¹ì¥ í•´ê²° ê°€ëŠ¥í•œ ê²ƒë¶€í„° ë¹ ë¥´ê²Œ ì²˜ë¦¬í•œë‹¤"},
  {axis:"SE",rev:true,text:"íŒ€ íšŒì˜ì—ì„œ ë” ì§‘ì¤‘í•˜ê²Œ ë˜ëŠ” ì•ˆê±´ì€?",a:"ì´ë²ˆ ì£¼ ê°ì í•  ì¼ê³¼ ì§„í–‰ ìƒí™© ì²´í¬",b:"ìš°ë¦¬ íŒ€ì˜ ì¤‘ì¥ê¸° ë°©í–¥ì„±ê³¼ ì—­í•  ë…¼ì˜"},
  {axis:"SE",rev:false,text:"'ì˜¤ëŠ˜ ì¼ì„ ì˜ í–ˆë‹¤'ê³  ëŠë¼ëŠ” ìˆœê°„ì€?",a:"ìƒˆë¡œìš´ ê´€ì ì´ë‚˜ í•´ê²° í”„ë ˆì„ì„ ì œì‹œí–ˆì„ ë•Œ",b:"ê³„íší•œ ì¼ì„ ì°¨ì§ˆ ì—†ì´ ë§ˆë¬´ë¦¬í–ˆì„ ë•Œ"},
  {axis:"SE",rev:true,text:"ë³´ê³ ì„œë¥¼ ì“¸ ë•Œ ë¨¼ì € ì†ì´ ê°€ëŠ” ê±´?",a:"ë°ì´í„° ìˆ˜ì§‘ê³¼ íŒ©íŠ¸ ì •ë¦¬ë¶€í„°",b:"ì „ì²´ ë©”ì‹œì§€ì™€ ìŠ¤í† ë¦¬ë¼ì¸ êµ¬ì„±ë¶€í„°"},
  {axis:"SE",rev:false,text:"ìƒì‚¬ì—ê²Œ ë³´ê³ í•  ë•Œ ë” ìì—°ìŠ¤ëŸ¬ìš´ ë°©ì‹ì€?",a:"'ì™œ(Why)' ì´ê±¸ í•´ì•¼ í•˜ëŠ”ì§€ ë§¥ë½ ì¤‘ì‹¬ìœ¼ë¡œ",b:"'ë¬´ì—‡(What)'ì„ í–ˆê³  ì–´ë””ê¹Œì§€ ëëŠ”ì§€ ì¤‘ì‹¬ìœ¼ë¡œ"},
  {axis:"SE",rev:true,text:"ì—…ë¬´ ê´€ë ¨ ì„¸ë¯¸ë‚˜ë¥¼ ê³ ë¥¸ë‹¤ë©´?",a:"ì‹¤ë¬´ ë…¸í•˜ìš°, ìµœì‹  íˆ´ í™œìš©ë²•",b:"ê²½ì˜ ì „ëµ, ì¡°ì§ ì„¤ê³„ íŠ¸ë Œë“œ"},
  {axis:"SE",rev:false,text:"í›„ë°°ê°€ ê³ ë¯¼ ìƒë‹´ì„ í•˜ë©´ ì£¼ë¡œ í•´ì£¼ëŠ” ë§ì€?",a:"í•œ ë°œ ë¬¼ëŸ¬ì„œì„œ í° ê·¸ë¦¼ì„ ë¨¼ì € ê·¸ë ¤ë´",b:"ì¼ë‹¨ í•  ìˆ˜ ìˆëŠ” ê²ƒë¶€í„° í•˜ë‚˜ì”© ì‹œì‘í•´ë´"},
  // PT axis (People- / Task+)
  {axis:"PT",rev:false,text:"BP ì—­í• ì—ì„œ ê°€ì¥ ë³´ëŒì„ ëŠë¼ëŠ” ìˆœê°„ì€?",a:"êµ¬ì„±ì›ì´ ì„±ì¥í•˜ê±°ë‚˜ ì¡°ì§ ë¶„ìœ„ê¸°ê°€ ì¢‹ì•„ì§ˆ ë•Œ",b:"í”„ë¡œì„¸ìŠ¤ê°€ ê°œì„ ë˜ê³  íš¨ìœ¨ì´ ëˆˆì— ë„ê²Œ ì˜¬ë¼ê°ˆ ë•Œ"},
  {axis:"PT",rev:true,text:"ì¡°ì§ ë³€í™”ë¥¼ ì¶”ì§„í•  ë•Œ ë¨¼ì € í•˜ëŠ” ê²ƒì€?",a:"ë³€í™”ì˜ í•„ìš”ì„±ê³¼ ë…¼ë¦¬ì  ê·¼ê±°ë¥¼ ì •ë¦¬í•œë‹¤",b:"êµ¬ì„±ì›ë“¤ì´ ì–´ë–»ê²Œ ë°›ì•„ë“¤ì¼ì§€ ë°˜ì‘ì„ ì‚´í•€ë‹¤"},
  {axis:"PT",rev:false,text:"ì±„ìš© ë©´ì ‘ì—ì„œ ë” ì‹ ê²½ ì“°ì´ëŠ” ê±´?",a:"ì´ ì‚¬ëŒì´ ìš°ë¦¬ íŒ€ê³¼ ì˜ ì–´ìš¸ë¦´ ìˆ˜ ìˆì„ì§€",b:"ì´ ì‚¬ëŒì´ ì‹¤ì œ ì—…ë¬´ë¥¼ ì˜ í•´ë‚¼ ìˆ˜ ìˆì„ì§€"},
  {axis:"PT",rev:false,text:"í˜„ì—… ë¦¬ë”ì™€ ë¯¸íŒ…í•  ë•Œ ë‚˜ëŠ”...",a:"ë¦¬ë”ì˜ ê³ ë¯¼ê³¼ ë§¥ë½ì„ ë¨¼ì € ì¶©ë¶„íˆ ë“£ëŠ”ë‹¤",b:"ë°ì´í„°ì™€ í˜„í™©ì„ ë¨¼ì € ê³µìœ í•˜ê³  ë…¼ì˜ë¥¼ ì‹œì‘í•œë‹¤"},
  {axis:"PT",rev:true,text:"ì—…ë¬´ ì¤‘ ê°€ì¥ ì˜ë¯¸ìˆê²Œ ëŠë¼ëŠ” ì‹œê°„ì€?",a:"í˜¼ì ì§‘ì¤‘í•´ì„œ ì—…ë¬´ë¥¼ ê¹Šì´ ì²˜ë¦¬í•˜ëŠ” ì‹œê°„",b:"ì‚¬ëŒë“¤ê³¼ ëŒ€í™”í•˜ë©° ê´€ê³„ë¥¼ ìŒ“ëŠ” ì‹œê°„"},
  {axis:"PT",rev:false,text:"ë™ë£Œê°€ ì—…ë¬´ë¡œ í˜ë“¤ì–´í•  ë•Œ ë‚˜ëŠ”...",a:"ë¨¼ì € ë‹¤ê°€ê°€ì„œ ì´ì•¼ê¸°ë¥¼ ë“¤ì–´ì¤€ë‹¤",b:"ë„ì›€ì´ ë  ë§Œí•œ í•´ê²°ì±…ì´ë‚˜ ìë£Œë¥¼ ì°¾ì•„ì¤€ë‹¤"},
  {axis:"PT",rev:true,text:"í”„ë¡œì íŠ¸ ì„±ê³µì˜ í•µì‹¬ì€ ë¬´ì—‡ì´ë¼ê³  ìƒê°í•´?",a:"ì²´ê³„ì ì¸ í”„ë¡œì„¸ìŠ¤ì™€ ëª…í™•í•œ ê¸°ì¤€",b:"êµ¬ì„±ì›ë“¤ì˜ ëª°ì…ê³¼ ë™ê¸°ë¶€ì—¬"},
  {axis:"PT",rev:false,text:"íŒ€ì—ì„œ ë‚´ ì—­í• ì´ ì¸ì •ë°›ì„ ë•Œ ë” ë¿Œë“¯í•œ ê±´?",a:"ì‚¬ëŒë“¤ì´ ë‚˜ë¥¼ ë¯¿ê³  ì˜ì§€í•  ë•Œ",b:"ë‚´ê°€ ë§Œë“  ê²°ê³¼ë¬¼ì´ë‚˜ ì‹œìŠ¤í…œì´ ì˜ ì‘ë™í•  ë•Œ"},
];

const STRENGTH_QUESTIONS = [
  {left:"strategy",right:"system",
    text:"ë³µì¡í•œ í”„ë¡œì íŠ¸ë¥¼ ë§¡ì•˜ì„ ë•Œ, ê°€ì¥ ë¨¼ì € í•˜ê³  ì‹¶ì€ ê±´?",
    a:"ì´ í”„ë¡œì íŠ¸ê°€ ì™œ í•„ìš”í•œì§€, ë°©í–¥ë¶€í„° ì •ë¦¬í•œë‹¤",
    b:"ì§„í–‰ í”„ë¡œì„¸ìŠ¤ì™€ ê¸°ì¤€ì„ ë¨¼ì € ì„¤ê³„í•œë‹¤"},
  {left:"people",right:"strategy",
    text:"íŒ€ ë¶„ìœ„ê¸°ê°€ ì¹¨ì²´ë˜ì—ˆì„ ë•Œ, ìì—°ìŠ¤ëŸ½ê²Œ í•˜ê²Œ ë˜ëŠ” ê±´?",
    a:"í•œ ëª…ì”© ë§Œë‚˜ì„œ ìš”ì¦˜ ì–´ë–¤ì§€ ì´ì•¼ê¸°ë¥¼ ë“¤ì–´ë³¸ë‹¤",
    b:"ìš°ë¦¬ê°€ ì™œ ì´ ì¼ì„ í•˜ëŠ”ì§€ í° ê·¸ë¦¼ì„ ë‹¤ì‹œ ì´ì•¼ê¸°í•´ì¤€ë‹¤"},
  {left:"execution",right:"strategy",
    text:"ìƒì‚¬ê°€ 'ì´ê±° í•œë²ˆ ë§¡ì•„ë´'ë¼ê³  í–ˆì„ ë•Œ, ë¨¼ì € ë“œëŠ” ìƒê°ì€?",
    a:"ì–¸ì œê¹Œì§€? ë°”ë¡œ ê³„íš ì§œê³  ì‹œì‘í•˜ê³  ì‹¶ë‹¤",
    b:"ì´ê±¸ ì™œ í•˜ëŠ” ê±°ì§€? ëª©ì ê³¼ ë°©í–¥ë¶€í„° í™•ì¸í•˜ê³  ì‹¶ë‹¤"},
  {left:"system",right:"people",
    text:"ìƒˆë¡œìš´ ì œë„ë¥¼ ë„ì…í•  ë•Œ, ë” ì‹ ê²½ ì“°ì´ëŠ” ê±´?",
    a:"ì œë„ì˜ ë…¼ë¦¬ì  ì™„ì„±ë„ì™€ ê³µì •ì„±",
    b:"êµ¬ì„±ì›ë“¤ì´ ì´ê±¸ ì–´ë–»ê²Œ ë°›ì•„ë“¤ì¼ì§€"},
  {left:"execution",right:"system",
    text:"ë°˜ë³µë˜ëŠ” ì—…ë¬´ ë¹„íš¨ìœ¨ì„ ë°œê²¬í–ˆì„ ë•Œ?",
    a:"ë‹¹ì¥ ë°”ê¿€ ìˆ˜ ìˆëŠ” ë¶€ë¶„ë¶€í„° ë¹ ë¥´ê²Œ ê³ ì¹œë‹¤",
    b:"ê·¼ë³¸ ì›ì¸ì„ ë¶„ì„í•˜ê³  ìƒˆë¡œìš´ í”„ë¡œì„¸ìŠ¤ë¥¼ ì„¤ê³„í•œë‹¤"},
  {left:"people",right:"execution",
    text:"í”„ë¡œì íŠ¸ ë§ˆê°ì´ ë¹ ë“¯í•œ ìƒí™©ì—ì„œ, ë” ì‹ ê²½ ì“°ì´ëŠ” ê±´?",
    a:"íŒ€ì›ë“¤ ì»¨ë””ì…˜ê³¼ ë¶€ë‹´ì„ ë¨¼ì € ì‚´í•€ë‹¤",
    b:"ë‚¨ì€ ì¼ì„ ìª¼ê°œì„œ ë°”ë¡œ ì—­í•  ë°°ë¶„í•œë‹¤"},
];

const T = {
  architect:{name:"ì¡°ì§ ì„¤ê³„ì",emoji:"ğŸ›ï¸",code:"A",
    subtitle:"í° ê·¸ë¦¼ì„ ê·¸ë¦¬ë©° ì‚¬ëŒì˜ ë§ˆìŒì„ ì›€ì§ì´ëŠ” BP",
    color:"#6C5CE7",colorLight:"#A29BFE",colorBg:"#F3F0FF",
    coreNeed:"'ì´ ì¼ì´ ì™œ í•„ìš”í•œì§€' ë‚©ë“ì´ ë˜ì–´ì•¼ ì›€ì§ì¼ ìˆ˜ ìˆì–´ìš”. ì˜ë¯¸ ì—†ëŠ” ì¼ì„ í•˜ê³  ìˆë‹¤ëŠ” ëŠë‚Œì´ ë“¤ë©´, ì†ì´ ë©ˆì¶°ìš”.",
    desc:"íšŒì˜ ì¤‘ì— ê°‘ìê¸° 'ì ê¹, ê·¼ë³¸ì ìœ¼ë¡œ ì´ê²Œ ì™œ í•„ìš”í•˜ì£ ?'ë¼ê³  ëŠëŠ” ì‚¬ëŒ. ë‹¤ë“¤ ì‹¤í–‰ ì´ì•¼ê¸°ë¥¼ í•˜ê³  ìˆëŠ”ë° í˜¼ì ë°©í–¥ì„±ì„ ë˜ì§šê³  ìˆë‹¤ë©´, ì´ ìœ í˜•ì´ì—ìš”.\n\nì¡°ì§ ê°œí¸ì•ˆì„ ë°›ìœ¼ë©´ êµ¬ì¡°ë„ë¶€í„° ë³´ëŠ” ê²Œ ì•„ë‹ˆë¼, 'ì´ ë³€í™”ë¡œ êµ¬ì„±ì›ë“¤ì´ ë­˜ ëŠë¼ê²Œ ë ê¹Œ?'ë¥¼ ë¨¼ì € ìƒê°í•´ìš”. ì „ëµì„ ì„¸ìš°ëŠ”ë° ì‚¬ëŒì´ ë¹ ì§„ ì „ëµì€ ì°ì°í•˜ê³ , ì‚¬ëŒì„ ì±™ê¸°ëŠ”ë° ë°©í–¥ì´ ì—†ëŠ” ê±´ ë” ì°ì°í•œ â€” ë‘ ê°€ì§€ë¥¼ ë™ì‹œì— ë¶™ì¡ìœ¼ë ¤ëŠ” ì‚¬ëŒì´ì—ìš”.",
    painPoint:"ë§¥ë½ ì—†ì´ ë–¨ì–´ì§€ëŠ” ì§€ì‹œ. 'ê·¸ëƒ¥ í•´'ë¼ëŠ” ë§ì„ ë“¤ìœ¼ë©´ ì†ì—ì„œ ë­”ê°€ ì˜¬ë¼ì™€ìš”. ê·¸ë¦¬ê³  ê³µë“¤ì—¬ ë§Œë“  ë°©í–¥ì„±ì´ ì‹¤í–‰ë„ ì•ˆ í•´ë³´ê³  ë’¤ì§‘í ë•Œ â€” ê·¸ë•Œ ì§„ì§œ í˜ë“¤ì–´ìš”.",
    keywords:["ë°©í–¥ì„± ì„¤ì •","ë³€í™” ê´€ë¦¬","ì´í•´ê´€ê³„ì ì„¤ë“","ì¡°ì§ ì„¤ê³„","ë¹„ì „ ìˆ˜ë¦½"],
    energyUp:["ì±„ìš© ë¸Œëœë”© ì „ëµ ê¸°íš","ì¡°ì§ë¬¸í™” ì§„ë‹¨ ë° ê°œì„  ì„¤ê³„","ë¦¬ë” ì½”ì¹­Â·ì´í•´ê´€ê³„ì ì„¤ë“","ì¸ì¬ ìœ¡ì„± ë¡œë“œë§µ ìˆ˜ë¦½","ì¡°ì§ ê°œí¸Â·ë³€í™” ê´€ë¦¬ ì„¤ê³„"],
    energyDown:["ë°˜ë³µì ì¸ ì„œë¥˜ ì²˜ë¦¬Â·ë°ì´í„° ì…ë ¥","ë‹¨ìˆœ ì¼ì • ì¡°ìœ¨Â·í–‰ì • ì—…ë¬´","ì •í•´ì§„ í‹€ëŒ€ë¡œë§Œ ì‹¤í–‰í•˜ëŠ” ìš´ì˜ ì—…ë¬´","ë””í…Œì¼í•œ ìˆ«ì ê²€ì¦Â·ë¦¬í¬íŠ¸ í¬ë§·íŒ…"],
    manual:{
      request:"ì¼ì˜ ë°°ê²½ê³¼ 'ì™œ ì´ê±¸ í•´ì•¼ í•˜ëŠ”ì§€'ë¥¼ ë¨¼ì € ì„¤ëª…í•´ì£¼ì„¸ìš”. ì˜ë¯¸ë¥¼ ëŠê»´ì•¼ ì—ë„ˆì§€ê°€ ë‚˜ëŠ” íƒ€ì…ì´ì—ìš”.",
      feedback:"ë°©í–¥ì„±ì— ëŒ€í•œ í”¼ë“œë°±ì„ ë¨¼ì € ì£¼ê³ , ë””í…Œì¼ì€ ê·¸ ë‹¤ìŒì— ì´ì•¼ê¸°í•´ì£¼ì„¸ìš”.",
      avoid:"ë§¥ë½ ì—†ì´ 'ì´ê±° í•´ì£¼ì„¸ìš”'ë¼ê³ ë§Œ ë˜ì§€ê¸°. ì‹¤í–‰ ë””í…Œì¼ë¶€í„° ì§€ì í•˜ê¸°.",
      stress:"íšŒì˜ì—ì„œ ì ì  ë” ì¶”ìƒì ì¸ ì´ì•¼ê¸°ë§Œ í•˜ê³ , ì‹¤í–‰ ë…¼ì˜ë¥¼ ê³„ì† ë¯¸ë£¨ê¸° ì‹œì‘í•´ìš”.",
      overload:"ì¡°ìš©íˆ ìƒê°ì„ ì •ë¦¬í•  ì‹œê°„ì„ ì£¼ê³ , ì‹ ë¢°í•˜ëŠ” ì‚¬ëŒê³¼ 1:1ë¡œ ê³ ë¯¼ì„ ë‚˜ëˆŒ ìˆ˜ ìˆê²Œ í•´ì£¼ì„¸ìš”. í° ê·¸ë¦¼ì„ ë‹¤ì‹œ ê·¸ë¦´ ìˆ˜ ìˆìœ¼ë©´ íšŒë³µë¼ìš”."
    },
    bestMatch:"driver",bestMatchShort:"ì‹¤í–‰ ë“œë¼ì´ë²„ ğŸš€",bestReason:"ì„¤ê³„ìì˜ ë°©í–¥ ì œì‹œ + ë“œë¼ì´ë²„ì˜ ì¶”ì§„ë ¥ â†’ 'ê¸°íšâ†’ì‹¤í–‰'ì´ ë§¤ë„ëŸ½ê²Œ ì´ì–´ì ¸ìš”.",
    tensionMatch:"builder",tensionMatchShort:"ì‹œìŠ¤í…œ ë¹Œë” âš™ï¸",tensionReason:"ë‘˜ ë‹¤ ì „ëµì ì´ì§€ë§Œ, ì‚¬ëŒ vs ì‹œìŠ¤í…œ ê´€ì  ì°¨ì´ë¡œ ìš°ì„ ìˆœìœ„ ì¶©ëŒ ê°€ëŠ¥. ì„œë¡œì˜ ê´€ì ì„ 'ë³´ì™„'ìœ¼ë¡œ ì¸ì •í•˜ë©´ ìµœê°• ì¡°í•©."
  },
  builder:{name:"ì‹œìŠ¤í…œ ë¹Œë”",emoji:"âš™ï¸",code:"B",
    subtitle:"ì œë„ì™€ í”„ë¡œì„¸ìŠ¤ë¡œ ì¡°ì§ì„ ì²´ê³„í™”í•˜ëŠ” BP",
    color:"#0984E3",colorLight:"#74B9FF",colorBg:"#EBF5FF",
    coreNeed:"'ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì„¸ê³„'ê°€ í•„ìš”í•´ìš”. í˜¼ë€ìŠ¤ëŸ¬ìš´ ìƒí™©ì„ ê·¸ëƒ¥ ë‘ë©´ ë¶ˆì•ˆí•´ì§€ê³ , êµ¬ì¡°ë¥¼ ë§Œë“¤ì–´ì•¼ ë¹„ë¡œì†Œ ì•ˆì‹¬ì´ ë¼ìš”.",
    desc:"'ì´ê±° ë§¤ë‰´ì–¼ ìˆì–´ìš”?', 'ê¸°ì¤€ì´ ë­ì˜ˆìš”?'ê°€ ì…ë²„ë¦‡ì¸ ì‚¬ëŒ. ì•„ì§ íšŒì˜ê°€ ëë‚˜ì§€ë„ ì•Šì•˜ëŠ”ë° ë¨¸ë¦¿ì†ì—ì„œëŠ” ì´ë¯¸ í”„ë¡œì„¸ìŠ¤ í”Œë¡œìš°ì°¨íŠ¸ê°€ ê·¸ë ¤ì§€ê³  ìˆì–´ìš”.\n\nêµ¬ì¡° ì—†ì´ ë§¤ë²ˆ ì²˜ìŒë¶€í„° ì‹œì‘í•´ì•¼ í•˜ëŠ” ìƒí™©ì´ ì˜¤ë©´, 'ì´ê±° ì§€ë‚œë²ˆì—ë„ ë…¼ì˜í–ˆëŠ”ë°...'ê°€ ëª©ê¹Œì§€ ì˜¬ë¼ì™€ìš”. ëˆ„ê°€ í•´ë„ ê°™ì€ í€„ë¦¬í‹°ê°€ ë‚˜ì˜¤ëŠ” ì‹œìŠ¤í…œì„ ë§Œë“¤ê³ , ê·¸ê²Œ ì¡°ìš©íˆ ì˜ ëŒì•„ê°€ëŠ” ê±¸ ë³´ë©´ â€” ê·¸ê²Œ ì´ ìœ í˜•ì˜ ê°€ì¥ í° ë³´ëŒì´ì—ìš”.",
    painPoint:"ê·¼ê±° ì—†ì´ ë°©í–¥ì´ ë°”ë€ŒëŠ” ê²ƒ. 'ì–´ì œëŠ” Aë¼ë”ë‹ˆ ì˜¤ëŠ˜ì€ B?'ê°€ ë°˜ë³µë˜ë©´ ì˜ìš•ì´ ëš ë–¨ì–´ì ¸ìš”. ê·¸ë¦¬ê³  ê³µë“¤ì—¬ ë§Œë“  ì‹œìŠ¤í…œì„ ì•„ë¬´ë„ ì•ˆ ì“¸ ë•Œ â€” ê·¸ í—ˆë¬´í•¨ì€ ì¢€ í½ë‹ˆë‹¤.",
    keywords:["í”„ë¡œì„¸ìŠ¤ ì„¤ê³„","ë°ì´í„° ë¶„ì„","ì œë„ êµ¬ì¶•","í‘œì¤€í™”","ë…¼ë¦¬ì  íŒë‹¨"],
    energyUp:["í‰ê°€Â·ë³´ìƒ ì²´ê³„ ì„¤ê³„","HR ëŒ€ì‹œë³´ë“œÂ·ë°ì´í„° ë¶„ì„","ì±„ìš© í”„ë¡œì„¸ìŠ¤ êµ¬ì¡°í™”Â·ìë™í™”","ì¸ì‚¬ ì œë„ ê¸°íš ë° ê°œì„ ","ì—…ë¬´ ë§¤ë‰´ì–¼Â·ê°€ì´ë“œ ë¬¸ì„œí™”"],
    energyDown:["ê°ì •ì  ê°ˆë“± ì¤‘ì¬Â·ì¡°ìœ¨","ë¹ˆë²ˆí•œ 1:1 ì •ì„œì  ì¼€ì–´","êµ¬ì¡° ì—†ì´ ì¦‰í¥ì ìœ¼ë¡œ ë°”ë€ŒëŠ” ìš”ì²­","ê²°ë¡  ì—†ì´ ë…¼ì˜ë§Œ ê¸¸ì–´ì§€ëŠ” íšŒì˜"],
    manual:{
      request:"ë°ì´í„°ì™€ ë…¼ë¦¬ë¡œ ì„¤ëª…í•˜ê³ , ì¶©ë¶„í•œ ê²€í†  ì‹œê°„ì„ ì£¼ì„¸ìš”. 'ì´ëŸ° ê·¼ê±°ê°€ ìˆì–´, ì–´ë–»ê²Œ ìƒê°í•´?'ê°€ íš¨ê³¼ì ì´ì—ìš”.",
      feedback:"êµ¬ì²´ì ì¸ ì‚¬ì‹¤ê³¼ ê¸°ì¤€ì„ ê·¼ê±°ë¡œ í”¼ë“œë°±í•´ì£¼ì„¸ìš”. ê°ì •ë³´ë‹¤ ë…¼ë¦¬ì— ë°˜ì‘í•˜ëŠ” íƒ€ì…ì´ì—ìš”.",
      avoid:"ê¸‰í•˜ê²Œ 'ì¼ë‹¨ í•´'ë¼ê³  ë°€ì–´ë¶™ì´ê¸°. ê·¼ê±° ì—†ì´ ë°©í–¥ì„ ë°”ê¾¸ê¸°.",
      stress:"ì‚¬ì†Œí•œ ê²ƒê¹Œì§€ í†µì œí•˜ë ¤ í•˜ê³ , ì†Œí†µì„ ì¤„ì´ë©´ì„œ í˜¼ì ì¼í•˜ê¸° ì‹œì‘í•´ìš”.",
      overload:"ë³µì¡í•œ ë¬¸ì œë¥¼ ì •ë¦¬í•  ì¡°ìš©í•œ ì‹œê°„ì„ ì£¼ê³ , ëª…í™•í•œ ìš°ì„ ìˆœìœ„ë¥¼ í•¨ê»˜ ì •í•´ì£¼ì„¸ìš”. 'ì „ë¶€ ë‹¤ ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ë¼'ë¼ëŠ” ë©”ì‹œì§€ê°€ ë„ì›€ë¼ìš”."
    },
    bestMatch:"connector",bestMatchShort:"í”¼í”Œ ì»¤ë„¥í„° ğŸ¤",bestReason:"ë¹Œë”ì˜ ì²´ê³„ + ì»¤ë„¥í„°ì˜ í˜„ì¥ê° â†’ 'ì œë„ëŠ” ìˆëŠ”ë° í˜„ì¥ì—ì„œ ì•ˆ ëŒì•„ê°€ëŠ”' ë¬¸ì œë¥¼ ì˜ˆë°©í•´ìš”.",
    tensionMatch:"architect",tensionMatchShort:"ì¡°ì§ ì„¤ê³„ì ğŸ›ï¸",tensionReason:"ë‘˜ ë‹¤ ì „ëµì ì´ì§€ë§Œ ì ‘ê·¼ì´ ë‹¬ë¼ìš”. ì„¤ê³„ìëŠ” ì‚¬ëŒ ì¤‘ì‹¬, ë¹Œë”ëŠ” ì‹œìŠ¤í…œ ì¤‘ì‹¬. ì´ˆë°˜ì— ë°©í–¥ ë§ì¶”ë©´ ê°•ë ¥í•œ ì¡°í•©."
  },
  connector:{name:"í”¼í”Œ ì»¤ë„¥í„°",emoji:"ğŸ¤",code:"C",
    subtitle:"í˜„ì¥ì—ì„œ ì‚¬ëŒê³¼ í•¨ê»˜ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” BP",
    color:"#E17055",colorLight:"#FAB1A0",colorBg:"#FFF5F2",
    coreNeed:"'ì‚¬ëŒë“¤ì´ ê´œì°®ì•„ì•¼' ë‚´ê°€ ê´œì°®ì•„ìš”. ëˆ„êµ°ê°€ê°€ í˜ë“¤ì–´í•˜ëŠ” ê±¸ ì•Œë©´ì„œ ëª¨ë¥¸ ì²™í•˜ëŠ” ê±´ ëª» í•´ìš”.",
    desc:"íŒ€ì— ë¬¸ì œê°€ ìƒê²¼ì„ ë•Œ ê°€ì¥ ë¨¼ì € 'ê·¸ ì‚¬ëŒ ìš”ì¦˜ ê´œì°®ì•„?'ë¼ê³  ë¬»ëŠ” ì‚¬ëŒ. íšŒì˜ì‹¤ ë¶„ìœ„ê¸°ê°€ ì‹¸í•´ì§€ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ë§ì„ êº¼ë‚´ì„œ ê³µê¸°ë¥¼ ë°”ê¿”ë†“ê³ , ë³¸ì¸ì€ ê·¸ê±¸ ì˜ì‹í•˜ì§€ë„ ëª»í•´ìš”.\n\nì ì‹¬ì‹œê°„ì— í˜¼ì ë°¥ ë¨¹ëŠ” ì‹ ì…ì‚¬ì›ì´ ëˆˆì— ë“¤ì–´ì˜¤ê³ , íŒ€ì¥ë‹˜ í‘œì •ì´ ì–´ë‘ìš´ ê²Œ ì‹ ê²½ ì“°ì´ê³ , ìŠ¬ë™ ë‹µì¥ì´ í‰ì†Œë³´ë‹¤ ì§§ìœ¼ë©´ 'ë¬´ìŠ¨ ì¼ ìˆë‚˜?' ì‹¶ì–´ì§€ëŠ” â€” ì¡°ì§ì˜ ì˜¨ë„ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°ì§€í•˜ëŠ” ì•ˆí…Œë‚˜ë¥¼ ê°€ì§„ ì‚¬ëŒì´ì—ìš”.",
    painPoint:"ì‚¬ëŒì„ ìˆ«ìë¡œë§Œ ë‹¤ë£¨ëŠ” ìˆœê°„. 'ì´ë²ˆ ë‹¬ í‡´ì‚¬ìœ¨ 3%ë‹ˆê¹Œ ê´œì°®ì•„'ë¼ëŠ” ë§ì— 'ê·¸ 3%ê°€ ëˆ„êµ°ë°ìš”?'ë¼ê³  ë˜ë¬»ê³  ì‹¶ì–´ì ¸ìš”. ê·¸ë¦¬ê³  ìê¸°ê°€ ë‹¤ ì•ˆê³  ìˆëŠ”ë° ì•„ë¬´ë„ ëª°ë¼ì¤„ ë•Œ â€” ì›ƒìœ¼ë©´ì„œ ì†ìœ¼ë¡œ ì§€ì³ìš”.",
    keywords:["ê´€ê³„ êµ¬ì¶•","ê°ˆë“± ì¤‘ì¬","í˜„ì¥ ì†Œí†µ","ê³µê° ëŠ¥ë ¥","ì˜¨ë³´ë”©"],
    energyUp:["êµ¬ì„±ì› ìƒë‹´Â·ê³ ì¶© ì²˜ë¦¬","í˜„ì—… ë¦¬ë” íŒŒíŠ¸ë„ˆì‹­ êµ¬ì¶•","ì‹ ê·œ ì…ì‚¬ì ì˜¨ë³´ë”© ì„¤ê³„Â·ì§€ì›","íŒ€ë¹Œë”©Â·ì›Œí¬ìˆ ê¸°íš ë° í¼ì‹¤ë¦¬í…Œì´ì…˜","ì¡°ì§ ë‚´ ê°ˆë“± ì¤‘ì¬Â·ì†Œí†µ ì´‰ì§„"],
    energyDown:["ì¥ê¸° ì „ëµ ë¬¸ì„œ ë‹¨ë… ì‘ì„±","ë³µì¡í•œ ë°ì´í„° ë¶„ì„Â·ìˆ˜ì¹˜ ë¦¬í¬íŠ¸","ì‚¬ëŒê³¼ ë‹¨ì ˆëœ ì±„ í•˜ëŠ” ì‹œìŠ¤í…œ ì„¤ê³„","í˜¼ìì„œ ì˜¤ë˜ í•´ì•¼ í•˜ëŠ” ê¸°íš ì—…ë¬´"],
    manual:{
      request:"ë”°ëœ»í•˜ê²Œ ëŒ€í™”í•˜ê³ , 'ë„ˆë§Œ í•  ìˆ˜ ìˆëŠ” ì¼'ì´ë¼ëŠ” ë§¥ë½ì„ ì „í•´ì£¼ì„¸ìš”. ë‹¨, ê±°ì ˆì´ ì–´ë ¤ìš°ë‹ˆ ì—…ë¬´ëŸ‰ì„ ê°™ì´ ì²´í¬í•´ì£¼ì„¸ìš”.",
      feedback:"ê´€ê³„ë¥¼ í•´ì¹˜ì§€ ì•ŠëŠ” ì„ ì—ì„œ, ê°œì„ ì ì€ 1:1ë¡œ ì¡°ìš©íˆ ì „í•´ì£¼ì„¸ìš”. ê³µê°œ ë¹„íŒì€ í¬ê²Œ ìƒì²˜ë°›ì•„ìš”.",
      avoid:"ì°¨ê°‘ê³  ì‚¬ë¬´ì ìœ¼ë¡œë§Œ ì†Œí†µí•˜ê¸°. ì—…ë¬´ ê²°ê³¼ë§Œ ì´ì•¼ê¸°í•˜ê³  ê³¼ì •ì˜ ë…¸ë ¥ì„ ë¬´ì‹œí•˜ê¸°.",
      stress:"ëª¨ë“  ìš”ì²­ì„ ë‹¤ ë°›ì•„ë“¤ì´ë©´ì„œ ìê¸° ì—…ë¬´ëŠ” ì ì  ë¯¸ë£¨ê¸° ì‹œì‘í•´ìš”. ë°ì€ ì²™ í•˜ì§€ë§Œ í‘œì •ì´ ì§€ì³ë³´ì—¬ìš”.",
      overload:"ì—…ë¬´ëŸ‰ì„ í•¨ê»˜ ì¡°ì •í•´ì£¼ê³ , 'ë„¤ ì¼ë„ ì¤‘ìš”í•´'ë¼ëŠ” ë©”ì‹œì§€ë¥¼ ëª…í™•íˆ ì „í•´ì£¼ì„¸ìš”. í¸í•˜ê²Œ ì´ì•¼ê¸°í•  ìˆ˜ ìˆëŠ” ì‹œê°„ì´ íšŒë³µì— ë„ì›€ë¼ìš”."
    },
    bestMatch:"builder",bestMatchShort:"ì‹œìŠ¤í…œ ë¹Œë” âš™ï¸",bestReason:"ì»¤ë„¥í„°ì˜ í˜„ì¥ê° + ë¹Œë”ì˜ ì²´ê³„ â†’ 'ì‚¬ëŒë„ ì±™ê¸°ê³  ì‹œìŠ¤í…œë„ ì¡ëŠ”' ì´ìƒì ì¸ HRì´ ê°€ëŠ¥í•´ìš”.",
    tensionMatch:"driver",tensionMatchShort:"ì‹¤í–‰ ë“œë¼ì´ë²„ ğŸš€",tensionReason:"ì»¤ë„¥í„°ëŠ” ê´€ê³„ë¥¼, ë“œë¼ì´ë²„ëŠ” ê²°ê³¼ë¥¼ ë¨¼ì € ë´ì„œ ì†ë„ ì°¨ì´ ê°€ëŠ¥. 'ì‚¬ëŒ ì´ìŠˆëŠ” ë‚´ê°€, ì‹¤í–‰ì€ ë„¤ê°€'ë¡œ ë¶„ë‹´í•˜ë©´ ì‹œë„ˆì§€."
  },
  driver:{name:"ì‹¤í–‰ ë“œë¼ì´ë²„",emoji:"ğŸš€",code:"D",
    subtitle:"ë§¡ì€ ì¼ì„ ì •í™•í•˜ê³  ë¹ ë¥´ê²Œ ì™„ìˆ˜í•˜ëŠ” BP",
    color:"#00B894",colorLight:"#55EFC4",colorBg:"#EFFFFA",
    coreNeed:"'ì§„ë„ê°€ ë‚˜ê°€ì•¼' ì•ˆì‹¬ì´ ë¼ìš”. í•  ì¼ ëª©ë¡ì—ì„œ í•˜ë‚˜ì”© ì§€ì›Œë‚˜ê°€ëŠ” ê·¸ ê°ê°ì´ ì—†ìœ¼ë©´ í•˜ë£¨ê°€ í—ˆì „í•´ìš”.",
    desc:"ì›”ìš”ì¼ ì•„ì¹¨ì— ì´ë²ˆ ì£¼ í•  ì¼ ë¦¬ìŠ¤íŠ¸ë¥¼ ì´ë¯¸ ë‹¤ ì •ë¦¬í•´ë†“ê³ , ë‹¤ë¥¸ ì‚¬ëŒì´ 'ì´ë²ˆ ì£¼ ë­í•˜ì§€...'ë¼ê³  í•˜ë©´ ì†ìœ¼ë¡œ ë‹µë‹µí•œ ì‚¬ëŒ. 'ê·¸ë˜ì„œ ì–¸ì œê¹Œì§€ í•˜ë©´ ë¼ìš”?'ê°€ ì…ë²„ë¦‡ì´ì—ìš”.\n\nì±„ìš© ê³µê³  3ê°œë¥¼ ë™ì‹œì— ëŒë¦¬ë©´ì„œ, ë©´ì ‘ ì¼ì • ì¡°ìœ¨í•˜ê³ , ì²˜ìš° í˜‘ì˜ ë©”ì¼ ë³´ë‚´ê³ , ì¤‘ê°„ì— ê¸‰í•œ ì¸ì‚¬ ë°ì´í„° ìš”ì²­ê¹Œì§€ ì²˜ë¦¬í•´ìš”. ì—¬ëŸ¬ ê°œì˜ ë³¼ì„ ë™ì‹œì— êµ´ë ¤ë„ í•˜ë‚˜ë„ ì•ˆ ë†“ì¹˜ëŠ” ê´€ë¦¬ë ¥ â€” ë³¸ì¸ì€ ë‹¹ì—°í•˜ë‹¤ê³  ìƒê°í•˜ì§€ë§Œ, íŒ€ì—ì„  ì´ ì‚¬ëŒ ì—†ìœ¼ë©´ ì§„ì§œ ì•ˆ ëŒì•„ê°€ìš”.",
    painPoint:"ëì´ ì•ˆ ë³´ì´ëŠ” ë…¼ì˜. 'ì´ê±´ ì¢€ ë” ìƒê°í•´ë³´ì'ê°€ ì„¸ ë²ˆì§¸ ë°˜ë³µë˜ë©´ ì†ì—ì„œ ë¶ˆì´ ë‚˜ìš”. ê·¸ë¦¬ê³  ì—´ì‹¬íˆ ì‹¤í–‰í–ˆëŠ”ë° 'ë°©í–¥ì´ ë°”ë€Œì—ˆì–´'ë¼ëŠ” ë§ â€” ê·¸ê²Œ ì œì¼ í˜ë“¤ì–´ìš”.",
    keywords:["ì¼ì • ê´€ë¦¬","ë©€í‹°íƒœìŠ¤í‚¹","ë°ë“œë¼ì¸ ì¤€ìˆ˜","ì‹¤í–‰ë ¥","í’ˆì§ˆ ê´€ë¦¬"],
    energyUp:["ì±„ìš© í”„ë¡œì„¸ìŠ¤ ìš´ì˜ (ì„œì¹­Â·ë©´ì ‘Â·ì²˜ìš° í˜‘ì˜)","HR ìš´ì˜ ì‹¤ë¬´ ìµœì í™”Â·í‘œì¤€í™”","ì¸ì‚¬ ë°ì´í„° ì •ë¦¬Â·ì •ê¸° ë¦¬í¬íŠ¸ ì‘ì„±","ë©´ì ‘ ì¼ì • ì¡°ìœ¨Â·í›„ë³´ì ì»¤ë®¤ë‹ˆì¼€ì´ì…˜","ëª…í™•í•œ ëª©í‘œê°€ ìˆëŠ” ë‹¨ê¸° í”„ë¡œì íŠ¸"],
    energyDown:["ëì´ ì•ˆ ë³´ì´ëŠ” ë°©í–¥ì„± ë…¼ì˜","ì •ë‹µì´ ì—†ëŠ” ê°ì •ì  ëŒ€í™” ì¤‘ì¬","ì¥ê¸°ì ì´ê³  ì¶”ìƒì ì¸ ì „ëµ ê¸°íš","ê²°ë¡  ì—†ì´ ì˜ê²¬ë§Œ ë‚˜ëˆ„ëŠ” ë¸Œë ˆì¸ìŠ¤í† ë°"],
    manual:{
      request:"ëª…í™•í•œ ê¸°ëŒ€ì¹˜ì™€ ë°ë“œë¼ì¸ì„ ë¨¼ì € ì œì‹œí•´ì£¼ì„¸ìš”. 'ì´ê±°ë¥¼ ì–¸ì œê¹Œì§€ ì´ ìˆ˜ì¤€ìœ¼ë¡œ'ê°€ íš¨ê³¼ì ì´ì—ìš”.",
      feedback:"êµ¬ì²´ì ìœ¼ë¡œ 'ì´ê±´ ì˜í–ˆê³ , ì´ê±´ ì´ë ‡ê²Œ ë°”ê¿”ë³´ì' ì‹ìœ¼ë¡œ ëª…í™•í•˜ê²Œ ì „í•´ì£¼ì„¸ìš”.",
      avoid:"ëª¨í˜¸í•˜ê²Œ 'ì•Œì•„ì„œ ì˜ í•´ë´'ë¼ê³  ë˜ì§€ê¸°. ì¤‘ê°„ì— ë°©í–¥ì„ ìì£¼ ë°”ê¾¸ê¸°.",
      stress:"ë” ë¹ ë¥´ê²Œ ë°€ì–´ë¶™ì´ë©´ì„œ ì£¼ë³€ê³¼ ë‹¨ì ˆë˜ê¸° ì‹œì‘í•´ìš”. ê³¼ì •ì„ ê±´ë„ˆë›°ê³  ê²°ê³¼ë§Œ ì¶”êµ¬í•˜ë©° ì§œì¦ì´ ëŠ˜ì–´ë‚˜ìš”.",
      overload:"ì‘ì€ ì„±ì·¨ê°ì„ ëŠë‚„ ìˆ˜ ìˆëŠ” ë‹¨ê¸° ê³¼ì—…ì„ ì£¼ê³ , ëª…í™•í•œ ìš°ì„ ìˆœìœ„ë¥¼ í•¨ê»˜ ì •í•´ì£¼ì„¸ìš”. 'ì´ê²ƒë§Œ ëë‚´ë©´ ë¼'ë¼ëŠ” ê²½ê³„ê°€ íšŒë³µì— ë„ì›€ë¼ìš”."
    },
    bestMatch:"architect",bestMatchShort:"ì¡°ì§ ì„¤ê³„ì ğŸ›ï¸",bestReason:"ì„¤ê³„ìì˜ ë¹„ì „ + ë“œë¼ì´ë²„ì˜ ì‹¤í–‰ë ¥ â†’ 'ë°©í–¥ë„ ë§ê³  ì†ë„ë„ ë¹ ë¥¸' ê°€ì¥ íš¨ê³¼ì ì¸ ì¡°í•©.",
    tensionMatch:"connector",tensionMatchShort:"í”¼í”Œ ì»¤ë„¥í„° ğŸ¤",tensionReason:"ë“œë¼ì´ë²„ëŠ” ë¹ ë¥¸ ì‹¤í–‰ì„, ì»¤ë„¥í„°ëŠ” ì¶©ë¶„í•œ ì†Œí†µì„ ì›í•´ì„œ í…œí¬ ì°¨ì´ ê°€ëŠ¥. ì„œë¡œì˜ ì†ë„ë¥¼ ì¡´ì¤‘í•˜ë©´ ê· í˜• ì¡íŒ íŒ€."
  },
  /* ===== 5 NEW HYBRID TYPES ===== */
  strategist:{name:"ì „ëµ ê¸°íšê°€",emoji:"ğŸ§­",code:"S",
    subtitle:"í° ê·¸ë¦¼ì„ ë³´ë©° ìœ ì—°í•˜ê²Œ í’€ì–´ê°€ëŠ” BP",
    color:"#7C6DD8",colorLight:"#B8B0E8",colorBg:"#F5F3FF",
    coreNeed:"'ì™œ ì´ê±¸ í•˜ëŠ”ì§€'ê°€ ë‚©ë“ì´ ë˜ì–´ì•¼ ì›€ì§ì—¬ìš”. ë‹¤ë§Œ ë°©ë²•ì€ ì‚¬ëŒì´ë“  ì‹œìŠ¤í…œì´ë“ , ìƒí™©ì— ë§ê²Œ ìœ ì—°í•˜ê²Œ íƒí•´ìš”.",
    desc:"íšŒì˜ì—ì„œ 'ì´ê±° ì™œ í•˜ëŠ” ê±°ì˜ˆìš”?'ë¥¼ ìì£¼ ë¬»ì§€ë§Œ, ê³ ì§‘ìŠ¤ëŸ½ê²Œ í•œ ë°©ì‹ë§Œ ë°€ì–´ë¶™ì´ì§„ ì•Šì•„ìš”. ì „ëµì´ ì¡íˆë©´ ì‚¬ëŒì„ ì„¤ë“í•  ìˆ˜ë„, ì‹œìŠ¤í…œì„ ë§Œë“¤ ìˆ˜ë„ ìˆëŠ” â€” ë„êµ¬ë¥¼ ê°€ë¦¬ì§€ ì•ŠëŠ” ì „ëµê°€ì˜ˆìš”.\n\nì¡°ì§ì— ìƒˆë¡œìš´ ì´ìŠˆê°€ ìƒê¸°ë©´ ì¼ë‹¨ í•œ ë°œ ë¬¼ëŸ¬ì„œì„œ ì „ì²´ ê·¸ë¦¼ì„ ë´ìš”. 'ì´ê²Œ ì§„ì§œ ë¬¸ì œì¸ê°€, ì•„ë‹ˆë©´ ì¦ìƒì¸ê°€?' í•˜ëŠ” ì§ˆë¬¸ì„ ë˜ì§€ê³ , ë°©í–¥ì´ ì¡íˆë©´ ê·¸ë•Œë¶€í„° ë¹ ë¥´ê²Œ ì›€ì§ì´ëŠ” ì‚¬ëŒì´ì—ìš”.",
    painPoint:"ë°©í–¥ ì—†ì´ ë°”ì˜ê¸°ë§Œ í•œ ìƒí™©. ë§¤ì¼ ì—…ë¬´ëŠ” ë„˜ì¹˜ëŠ”ë° 'ì´ê²Œ ì–´ë””ë¡œ ê°€ëŠ” ê±°ì§€?' ì‹¶ì„ ë•Œ ì—ë„ˆì§€ê°€ ë¹ ì ¸ìš”. ì „ëµì  ì‚¬ê³ ë¥¼ í•  ì—¬ìœ ì¡°ì°¨ ì—†ì„ ë•Œê°€ ê°€ì¥ ë‹µë‹µí•´ìš”.",
    keywords:["ì „ëµì  ì‚¬ê³ ","ë°©í–¥ ì„¤ì •","ìœ ì—°í•œ ì ‘ê·¼","ë³¸ì§ˆ íŒŒì•…","í° ê·¸ë¦¼"],
    energyUp:["ì¡°ì§ ì´ìŠˆì˜ ê·¼ë³¸ ì›ì¸ ë¶„ì„","HR ì „ëµ ë°©í–¥ ìˆ˜ë¦½","ê²½ì˜ì§„ ë³´ê³ Â·ì»¤ë®¤ë‹ˆì¼€ì´ì…˜","ë³€í™” ê´€ë¦¬ ê¸°íš","ë³µì¡í•œ ì´í•´ê´€ê³„ ì •ë¦¬"],
    energyDown:["ë‹¨ìˆœ ë°˜ë³µ í–‰ì • ì—…ë¬´","ë°©í–¥ ì—†ì´ ì£¼ì–´ì§€ëŠ” ê¸‰í•œ ìš”ì²­","ë””í…Œì¼í•œ ìˆ«ì ê²€ì¦ ì‘ì—…","ì •í•´ì§„ ë§¤ë‰´ì–¼ëŒ€ë¡œë§Œ í•˜ëŠ” ì¼"],
    manual:{
      request:"ë°°ê²½(Why)ì„ ë¨¼ì € ì„¤ëª…í•´ì£¼ì„¸ìš”. ë°©í–¥ì´ ì¡í˜€ì•¼ ì›€ì§ì´ëŠ” íƒ€ì…ì´ì—ìš”.",
      feedback:"ì „ì²´ ë°©í–¥ì— ëŒ€í•œ í”¼ë“œë°±ì„ ë¨¼ì € ì£¼ê³ , ì„¸ë¶€ì‚¬í•­ì€ ê·¸ ë‹¤ìŒì—.",
      avoid:"ë§¥ë½ ì—†ì´ 'ê¸‰í•´, ì¼ë‹¨ í•´'ë¼ê³ ë§Œ ë˜ì§€ê¸°.",
      stress:"ê³„ì† ì›ë¡ ì ì¸ ì§ˆë¬¸ë§Œ í•˜ê³ , ì‹¤í–‰ìœ¼ë¡œ ë„˜ì–´ê°€ì§€ ëª»í•´ìš”. íšŒì˜ê°€ ê¸¸ì–´ì§€ê¸° ì‹œì‘í•˜ë©´ ì‹ í˜¸ì˜ˆìš”.",
      overload:"ì „ëµì  ì‚¬ê³ ë¥¼ ì •ë¦¬í•  ì¡°ìš©í•œ ì‹œê°„ì„ ì£¼ì„¸ìš”. 'ì¼ë‹¨ í° ë°©í–¥ë§Œ ì¡ì'ê³  ë²”ìœ„ë¥¼ ì¢í˜€ì£¼ë©´ íšŒë³µë¼ìš”."
    },
    bestMatch:"executor",bestMatchShort:"í˜„ì¥ ì‹¤í–‰ê°€ âš¡",bestReason:"ì „ëµê°€ì˜ ë°©í–¥ ì„¤ì • + ì‹¤í–‰ê°€ì˜ ì¶”ì§„ë ¥ â†’ ìƒê°ì´ í–‰ë™ìœ¼ë¡œ ì´ì–´ì ¸ìš”.",
    tensionMatch:"taskmaster",tensionMatchShort:"ê³¼ì—… ê´€ë¦¬ì ğŸ“Š",tensionReason:"ì „ëµê°€ëŠ” Whyë¥¼, ê³¼ì—… ê´€ë¦¬ìëŠ” Whatì„ ë¨¼ì € ë´ì„œ ì´ˆì ì´ ë‹¤ë¥¼ ìˆ˜ ìˆì–´ìš”. ì„œë¡œì˜ ê´€ì ì„ ë‚˜ëˆ„ë©´ ë³´ì™„ì´ ë¼ìš”."
  },
  facilitator:{name:"ê´€ê³„ ì´‰ì§„ì",emoji:"ğŸ’¬",code:"F",
    subtitle:"ì‚¬ëŒ ì‚¬ì´ë¥¼ ì—°ê²°í•˜ê³  ë¶„ìœ„ê¸°ë¥¼ ë§Œë“œëŠ” BP",
    color:"#D35D6E",colorLight:"#E8A0AB",colorBg:"#FFF4F6",
    coreNeed:"'ì‚¬ëŒë“¤ì´ í¸í•˜ê²Œ ì´ì•¼ê¸°í•  ìˆ˜ ìˆëŠ” ë¶„ìœ„ê¸°'ê°€ ì¤‘ìš”í•´ìš”. ê´€ê³„ê°€ ì¢‹ì•„ì•¼ ì¼ë„ ëœë‹¤ê³  ë¯¿ì–´ìš”.",
    desc:"íŒ€ íšŒì˜ì—ì„œ ë§ì´ ì—†ëŠ” ì‚¬ëŒì´ ìˆìœ¼ë©´ 'â—‹â—‹ë‹˜ì€ ì–´ë–»ê²Œ ìƒê°í•´ìš”?'ë¼ê³  ìì—°ìŠ¤ëŸ½ê²Œ ë¬¼ì–´ë³´ëŠ” ì‚¬ëŒ. ê°ˆë“±ì´ ìƒê¸°ë©´ ì–‘ìª½ ì´ì•¼ê¸°ë¥¼ ë‹¤ ë“¤ì–´ë³´ê³  ì¤‘ê°„ì—ì„œ ë‹¤ë¦¬ë¥¼ ë†“ì•„ìš”.\n\nì „ëµ íšŒì˜ë“  ì‹¤í–‰ íšŒì˜ë“ , ì´ ì‚¬ëŒì´ ìˆìœ¼ë©´ ë¶„ìœ„ê¸°ê°€ ë‹¬ë¼ì ¸ìš”. ì‚¬ëŒë“¤ì´ ë°©ì–´ì ì´ì§€ ì•Šê²Œ, ì†”ì§í•˜ê²Œ ì´ì•¼ê¸°í•  ìˆ˜ ìˆëŠ” ê³µê°„ì„ ë§Œë“œëŠ” â€” ëˆˆì— ì•ˆ ë³´ì´ì§€ë§Œ íŒ€ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ì—­í• ì„ í•´ìš”.",
    painPoint:"ì°¨ê°‘ê³  ì‚¬ë¬´ì ì¸ ë¶„ìœ„ê¸°. ì‚¬ëŒì„ ìˆ«ìë¡œë§Œ ë‹¤ë£¨ê±°ë‚˜, ê´€ê³„ë¥¼ ë¬´ì‹œí•˜ê³  ê²°ê³¼ë§Œ ë°€ì–´ë¶™ì´ëŠ” í™˜ê²½ì—ì„œ ì„œì„œíˆ ì§€ì³ìš”. 'ì´ ì‚¬ëŒë“¤ ê°ì •ì€ ëˆ„ê°€ ì±™ê²¨?'ê°€ ê³„ì† ë¨¸ë¦¿ì†ì— ë§´ëŒì•„ìš”.",
    keywords:["ê´€ê³„ êµ¬ì¶•","ë¶„ìœ„ê¸° ì¡°ì„±","ê²½ì²­","ì¤‘ì¬","ì†Œí†µ ì´‰ì§„"],
    energyUp:["êµ¬ì„±ì› 1:1 ë©´ë‹´Â·ìƒë‹´","íŒ€ë¹Œë”©Â·ì›Œí¬ìˆ í¼ì‹¤ë¦¬í…Œì´ì…˜","ê°ˆë“± ì¤‘ì¬Â·ì†Œí†µ ì´‰ì§„","ì‹ ê·œ ì…ì‚¬ì ì˜¨ë³´ë”© ì§€ì›","í˜„ì—… ë¦¬ë”ì™€ì˜ íŒŒíŠ¸ë„ˆì‹­ êµ¬ì¶•"],
    energyDown:["í˜¼ì ì˜¤ë˜ í•´ì•¼ í•˜ëŠ” ë¶„ì„ ì—…ë¬´","ì‚¬ëŒ ì—†ì´ ì‹œìŠ¤í…œë§Œ ë§Œë“œëŠ” ì‘ì—…","ê°ì •ì´ ë°°ì œëœ ì˜ì‚¬ê²°ì • ê³¼ì •","ì¥ê¸° ì „ëµ ë¬¸ì„œ ë‹¨ë… ì‘ì„±"],
    manual:{
      request:"ë”°ëœ»í•˜ê²Œ ëŒ€í™”í•˜ê³ , ì´ ì¼ì´ ì‚¬ëŒë“¤ì—ê²Œ ì–´ë–¤ ì˜ë¯¸ì¸ì§€ í•¨ê»˜ ì´ì•¼ê¸°í•´ì£¼ì„¸ìš”.",
      feedback:"1:1ë¡œ ì¡°ìš©íˆ, ê´€ê³„ë¥¼ í•´ì¹˜ì§€ ì•ŠëŠ” ì„ ì—ì„œ ì „í•´ì£¼ì„¸ìš”.",
      avoid:"ì°¨ê°‘ê³  ì‚¬ë¬´ì ìœ¼ë¡œë§Œ ì†Œí†µí•˜ê¸°. ê³¼ì •ì˜ ë…¸ë ¥ì„ ë¬´ì‹œí•˜ê¸°.",
      stress:"í‰ì†Œë³´ë‹¤ ë§ì´ ì¤„ê³ , í˜¼ì ìˆìœ¼ë ¤ëŠ” ì‹œê°„ì´ ëŠ˜ì–´ìš”. ë‹¤ë¥¸ ì‚¬ëŒ ê±±ì •ì€ í•˜ë©´ì„œ ë³¸ì¸ ì´ì•¼ê¸°ëŠ” ì•ˆ í•´ìš”.",
      overload:"'ë„¤ ì»¨ë””ì…˜ì´ ì¤‘ìš”í•´'ë¼ëŠ” ë©”ì‹œì§€ë¥¼ ëª…í™•íˆ ì „í•´ì£¼ì„¸ìš”. í¸í•˜ê²Œ ì´ì•¼ê¸°í•  ìˆ˜ ìˆëŠ” 1:1 ì‹œê°„ì´ íšŒë³µì— ë„ì›€ë¼ìš”."
    },
    bestMatch:"taskmaster",bestMatchShort:"ê³¼ì—… ê´€ë¦¬ì ğŸ“Š",bestReason:"ì´‰ì§„ìì˜ ì‚¬ëŒ ì¼€ì–´ + ê´€ë¦¬ìì˜ ê³¼ì—… ì§‘ì¤‘ â†’ ì‚¬ëŒë„ ì±™ê¸°ê³  ì¼ë„ ë˜ëŠ” ê· í˜•.",
    tensionMatch:"executor",tensionMatchShort:"í˜„ì¥ ì‹¤í–‰ê°€ âš¡",tensionReason:"ì´‰ì§„ìëŠ” ì¶©ë¶„íˆ ì´ì•¼ê¸°í•˜ê³  ì‹¶ê³ , ì‹¤í–‰ê°€ëŠ” ë¹¨ë¦¬ ì›€ì§ì´ê³  ì‹¶ì–´ì„œ í…œí¬ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆì–´ìš”."
  },
  allrounder:{name:"ì˜¬ë¼ìš´ë”",emoji:"ğŸ¯",code:"X",
    subtitle:"ìƒí™©ì— ë”°ë¼ ìœ ì—°í•˜ê²Œ ì—­í• ì„ ì „í™˜í•˜ëŠ” BP",
    color:"#8B5CF6",colorLight:"#C4B5FD",colorBg:"#F5F3FF",
    coreNeed:"'ê· í˜•'ì´ ìì—°ìŠ¤ëŸ¬ì›Œìš”. í•œìª½ìœ¼ë¡œ ë„ˆë¬´ ì¹˜ìš°ì¹˜ë©´ ë¶ˆí¸í•˜ê³ , ì—¬ëŸ¬ ê´€ì ì„ ê³ ë ¤í•´ì„œ íŒë‹¨í•˜ëŠ” ê²Œ í¸í•´ìš”.",
    desc:"'ë„ˆëŠ” ì–´ë–¤ íƒ€ì…ì´ì•¼?'ë¼ê³  ë¬¼ìœ¼ë©´ 'ìƒí™©ì— ë”°ë¼ ë‹¤ë¥¸ë°...'ë¼ê³  ë‹µí•˜ëŠ” ì‚¬ëŒ. ì´ê²Œ ìš°ìœ ë¶€ë‹¨í•œ ê²Œ ì•„ë‹ˆë¼, ì§„ì§œë¡œ ì—¬ëŸ¬ ê´€ì ì„ ë™ì‹œì— ë³¼ ìˆ˜ ìˆëŠ” ê±°ì˜ˆìš”.\n\nì „ëµ íšŒì˜ì—ì„œëŠ” í° ê·¸ë¦¼ì„ ë³´ë‹¤ê°€, ì‹¤í–‰ ë‹¨ê³„ì—ì„œëŠ” ë””í…Œì¼ì„ ì±™ê¸°ê³ , ì‚¬ëŒ ì´ìŠˆê°€ ìƒê¸°ë©´ ë¨¼ì € ë‹¤ê°€ê°€ìš”. í•œ ê°€ì§€ì— ê·¹ë‹¨ì ìœ¼ë¡œ ëª°ì…í•˜ì§€ ì•ŠëŠ” ëŒ€ì‹ , íŒ€ì—ì„œ ë¹ ì§„ ì—­í• ì„ ìì—°ìŠ¤ëŸ½ê²Œ ì±„ì›Œë„£ëŠ” ëŠ¥ë ¥ì´ ìˆì–´ìš”.",
    painPoint:"í•œ ê°€ì§€ë§Œ ê·¹ë‹¨ì ìœ¼ë¡œ ë°€ì–´ë¶™ì—¬ì•¼ í•˜ëŠ” ìƒí™©. 'ì „ëµë§Œ í•´' ë˜ëŠ” 'ì‹¤í–‰ë§Œ í•´'ë¼ê³  ì—­í• ì´ ì¢í˜€ì§€ë©´ ë‹µë‹µí•´ìš”. ê·¸ë¦¬ê³  'ë„Œ ë­˜ ì œì¼ ì˜í•˜ëŠ” ê±°ì•¼?'ë¼ëŠ” ì§ˆë¬¸ì— ë”± í•˜ë‚˜ë¡œ ëŒ€ë‹µí•˜ê¸° ì–´ë ¤ìš´ ê²Œ ê°€ë” ê³ ë¯¼ì´ì—ìš”.",
    keywords:["ìœ ì—°ì„±","ê· í˜• ê°ê°","ë‹¤ì¬ë‹¤ëŠ¥","ìƒí™© ì ì‘","ì—­í•  ì „í™˜"],
    energyUp:["ì—¬ëŸ¬ íŒ€Â·ë¶€ì„œë¥¼ ë„˜ë‚˜ë“œëŠ” í¬ë¡œìŠ¤í‘ì…”ë„ í”„ë¡œì íŠ¸","ì „ëµë¶€í„° ì‹¤í–‰ê¹Œì§€ ì „ì²´ ê³¼ì •ì„ ì•„ìš°ë¥´ëŠ” ì—…ë¬´","ë‹¤ì–‘í•œ ì´í•´ê´€ê³„ìì™€ ì†Œí†µÂ·ì¡°ìœ¨","íŒ€ì— ë¶€ì¡±í•œ ì—­í• ì„ ì±„ìš°ëŠ” ì¼","ìƒˆë¡œìš´ ì˜ì—­ì„ ë¹ ë¥´ê²Œ í•™ìŠµÂ·ì ìš©"],
    energyDown:["í•œ ê°€ì§€ë§Œ ë°˜ë³µí•˜ëŠ” ë‹¨ì¡°ë¡œìš´ ì—…ë¬´","ê·¹ë‹¨ì ìœ¼ë¡œ ì¢ì€ ì—­í•  ë²”ìœ„","í•œ ê´€ì ë§Œ ê³ ì§‘í•˜ëŠ” í™˜ê²½","ë³€í™” ì—†ì´ ì •í•´ì§„ ë£¨í‹´ë§Œ ëŒë¦¬ëŠ” ì¼"],
    manual:{
      request:"ì „ì²´ ë§¥ë½ê³¼ ê¸°ëŒ€ ì—­í• ì„ í•¨ê»˜ ì•Œë ¤ì£¼ì„¸ìš”. ì–´ë””ì„œ ì–´ë–¤ ì—­í• ì„ í•˜ë©´ ë˜ëŠ”ì§€ê°€ ëª…í™•í•˜ë©´ ì˜ ì›€ì§ì—¬ìš”.",
      feedback:"êµ¬ì²´ì ìœ¼ë¡œ 'ì´ ë¶€ë¶„ì€ ì˜í–ˆê³ , ì´ê±´ ë” ì§‘ì¤‘í•´ë³´ì' ì‹ìœ¼ë¡œ ë°©í–¥ì„ ì¡ì•„ì£¼ì„¸ìš”.",
      avoid:"ì—­í• ì„ ë„ˆë¬´ ì¢ê²Œ í•œì •ì§“ê¸°. 'ë„Œ ì´ê²ƒë§Œ í•´'ë¼ê³  ê°€ë‘ê¸°.",
      stress:"ì´ê²ƒì €ê²ƒ ë‹¤ í•˜ë©´ì„œ ì •ì‘ í•˜ë‚˜ë„ ê¹Šì´ ëª» íŒŒê³  ìˆë‹¤ëŠ” ëŠë‚Œì´ ë“¤ê¸° ì‹œì‘í•´ìš”. ì‚°ë§Œí•´ ë³´ì´ë©´ ì‹ í˜¸ì˜ˆìš”.",
      overload:"ìš°ì„ ìˆœìœ„ë¥¼ í•¨ê»˜ ì •ë¦¬í•´ì£¼ì„¸ìš”. 'ì§€ê¸ˆ ê°€ì¥ ì¤‘ìš”í•œ í•œ ê°€ì§€'ë¥¼ ì •í•´ì£¼ë©´ ì´ˆì ì´ ëŒì•„ì™€ìš”."
    },
    bestMatch:"architect",bestMatchShort:"ì¡°ì§ ì„¤ê³„ì ğŸ›ï¸",bestReason:"ì„¤ê³„ìì˜ ëª…í™•í•œ ë°©í–¥ + ì˜¬ë¼ìš´ë”ì˜ ìœ ì—°í•œ ì‹¤í–‰ â†’ ì „ëµì´ í˜„ì‹¤ì— ì•ˆì°©í•´ìš”.",
    tensionMatch:"builder",tensionMatchShort:"ì‹œìŠ¤í…œ ë¹Œë” âš™ï¸",tensionReason:"ë¹Œë”ì˜ ì²´ê³„ì  ì ‘ê·¼ì´ ì˜¬ë¼ìš´ë”ì—ê² ê²½ì§ë˜ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”. ì„œë¡œì˜ ìŠ¤íƒ€ì¼ì„ ì¡´ì¤‘í•˜ë©´ ë³´ì™„ì´ ë¼ìš”."
  },
  taskmaster:{name:"ê³¼ì—… ê´€ë¦¬ì",emoji:"ğŸ“Š",code:"M",
    subtitle:"ê¸°ì¤€ê³¼ ë°ì´í„°ë¡œ ì¼ì„ ê´€ë¦¬í•˜ëŠ” BP",
    color:"#2D8CCA",colorLight:"#7FB8DE",colorBg:"#EDF6FF",
    coreNeed:"'ê¸°ì¤€ì´ ëª…í™•í•´ì•¼' ì¼ì´ ë¼ìš”. ê°ì´ ì•„ë‹ˆë¼ ë°ì´í„°ë¡œ íŒë‹¨í•˜ê³  ì‹¶ê³ , ì¼ì—ëŠ” ì¸¡ì • ê°€ëŠ¥í•œ ê¸°ì¤€ì´ ìˆì–´ì•¼ í•´ìš”.",
    desc:"'ì´ê±° ê¸°ì¤€ì´ ë­ì˜ˆìš”?'ê°€ ìì—°ìŠ¤ëŸ½ê²Œ ë‚˜ì˜¤ëŠ” ì‚¬ëŒ. ëŠë‚Œìœ¼ë¡œ ê²°ì •í•˜ëŠ” ê±¸ ë¶ˆí¸í•´í•˜ê³ , ë°ì´í„°ë‚˜ ì‚¬ë¡€ë¥¼ ë³´ë©´ì„œ íŒë‹¨í•˜ê³  ì‹¶ì–´í•´ìš”.\n\nì „ëµì ìœ¼ë¡œ ë©€ë¦¬ ë³´ëŠ” ê²ƒë³´ë‹¤ëŠ” ì§€ê¸ˆ ëˆˆì•ì˜ ê³¼ì—…ì„ ì •í™•í•˜ê²Œ ì²˜ë¦¬í•˜ëŠ” ë° ì§‘ì¤‘í•˜ê³ , ê·¸ë ‡ë‹¤ê³  ì†ë„ë§Œ ë‚´ëŠ” ê²Œ ì•„ë‹ˆë¼ ê¸°ì¤€ê³¼ í’ˆì§ˆì„ ê°™ì´ ì±™ê¸°ëŠ” ì‚¬ëŒì´ì—ìš”. ë³´ê³ ì„œ ì œì¶œ ì „ í•œ ë²ˆ ë” ìˆ«ìë¥¼ í™•ì¸í•˜ëŠ” íƒ€ì….",
    painPoint:"ê¸°ì¤€ ì—†ì´ ê°ìœ¼ë¡œ ê²°ì •í•˜ëŠ” í™˜ê²½. 'ê·¸ëƒ¥ ëŠë‚Œì´ ê·¸ë˜ì„œ'ê°€ ê·¼ê±°ê°€ ë˜ëŠ” íšŒì˜ë¥¼ ì°¸ê¸° ì–´ë µê³ , ë³¸ì¸ì´ ê¼¼ê¼¼í•˜ê²Œ ì •ë¦¬í•œ ê¸°ì¤€ì„ ë¬´ì‹œë‹¹í•  ë•Œ ë§ì´ ìƒí•´ìš”.",
    keywords:["ë°ì´í„° ê¸°ë°˜","ê¸°ì¤€ ì„¤ì •","í’ˆì§ˆ ê´€ë¦¬","ê³¼ì—… ì§‘ì¤‘","ê°ê´€ì  íŒë‹¨"],
    energyUp:["HR ë°ì´í„° ë¶„ì„Â·ëŒ€ì‹œë³´ë“œ êµ¬ì¶•","í‰ê°€ ê¸°ì¤€ ì„¤ì •Â·ëª¨ë‹ˆí„°ë§","ì¸ì‚¬ ì œë„ ìš´ì˜Â·ê´€ë¦¬","ì±„ìš© í”„ë¡œì„¸ìŠ¤ í’ˆì§ˆ ê´€ë¦¬","ì •ê¸° ë¦¬í¬íŠ¸ ì‘ì„±Â·ë¶„ì„"],
    energyDown:["ì •ë‹µ ì—†ëŠ” ê°ì •ì  ëŒ€í™”","êµ¬ì¡° ì—†ì´ í˜ëŸ¬ê°€ëŠ” ë¸Œë ˆì¸ìŠ¤í† ë°","ì¸¡ì • ë¶ˆê°€ëŠ¥í•œ ì¶”ìƒì  ëª©í‘œ","ì‚¬ëŒ ê°„ ê°ˆë“± ì¤‘ì¬"],
    manual:{
      request:"ëª…í™•í•œ ê¸°ëŒ€ì¹˜ì™€ ê¸°ì¤€ì„ ë¨¼ì € ì œì‹œí•´ì£¼ì„¸ìš”. ë°ì´í„°ë‚˜ ì‚¬ë¡€ê°€ ìˆìœ¼ë©´ ë” íš¨ê³¼ì ì´ì—ìš”.",
      feedback:"êµ¬ì²´ì ì¸ ì‚¬ì‹¤ê³¼ ê¸°ì¤€ì„ ê·¼ê±°ë¡œ í”¼ë“œë°±í•´ì£¼ì„¸ìš”. ê°ì •ë³´ë‹¤ ë…¼ë¦¬ì— ë°˜ì‘í•˜ëŠ” íƒ€ì…ì´ì—ìš”.",
      avoid:"ê¸°ì¤€ ì—†ì´ 'ì•Œì•„ì„œ í•´'ë¼ê³  ë˜ì§€ê¸°. ê°ìœ¼ë¡œ ê²°ë¡ ì„ ë‚´ë¦¬ê¸°.",
      stress:"ì ì  ë” ê¼¼ê¼¼í•´ì§€ë©´ì„œ ì†ë„ê°€ ëŠë ¤ì ¸ìš”. ì™„ë²½í•˜ê²Œ ì •ë¦¬ë  ë•Œê¹Œì§€ ê³µìœ ë¥¼ ë¯¸ë£¨ê¸° ì‹œì‘í•´ìš”.",
      overload:"'80%ë©´ ì¶©ë¶„í•´'ë¼ëŠ” ë©”ì‹œì§€ê°€ ë„ì›€ë¼ìš”. ëª…í™•í•œ ìš°ì„ ìˆœìœ„ë¥¼ í•¨ê»˜ ì •í•´ì£¼ì„¸ìš”."
    },
    bestMatch:"facilitator",bestMatchShort:"ê´€ê³„ ì´‰ì§„ì ğŸ’¬",bestReason:"ê´€ë¦¬ìì˜ ê°ê´€ì  ê¸°ì¤€ + ì´‰ì§„ìì˜ ì‚¬ëŒ ê°ê° â†’ ê³µì •í•˜ë©´ì„œë„ ë”°ëœ»í•œ HRì´ ê°€ëŠ¥í•´ìš”.",
    tensionMatch:"strategist",tensionMatchShort:"ì „ëµ ê¸°íšê°€ ğŸ§­",tensionReason:"ê´€ë¦¬ìëŠ” ì§€ê¸ˆì˜ ê¸°ì¤€ì„, ê¸°íšê°€ëŠ” ë¯¸ë˜ì˜ ë°©í–¥ì„ ë¨¼ì € ë´ì„œ ì´ˆì ì´ ë‹¤ë¥¼ ìˆ˜ ìˆì–´ìš”."
  },
  executor:{name:"í˜„ì¥ ì‹¤í–‰ê°€",emoji:"âš¡",code:"E",
    subtitle:"í˜„ì¥ì—ì„œ ì§ì ‘ ë¶€ë”ªíˆë©° ê²°ê³¼ë¥¼ ë§Œë“œëŠ” BP",
    color:"#10B981",colorLight:"#6EE7B7",colorBg:"#ECFDF5",
    coreNeed:"'ì¼ì´ ì§„ì „ë˜ëŠ” ê²Œ ë³´ì—¬ì•¼' ì—ë„ˆì§€ê°€ ë‚˜ìš”. ë…¼ì˜ë³´ë‹¤ í–‰ë™ì´ í¸í•˜ê³ , ì§ì ‘ í•´ë´ì•¼ ê°ì´ ì™€ìš”.",
    desc:"'ì¼ë‹¨ í•´ë³´ì'ê°€ ì…ì— ë¶™ì€ ì‚¬ëŒ. ì™„ë²½í•œ ê³„íšë³´ë‹¤ ë¹ ë¥¸ ì‹¤í–‰ì„ ì„ í˜¸í•˜ê³ , í˜„ì¥ì—ì„œ ì§ì ‘ ë¶€ë”ªíˆë©´ì„œ ë°©ë²•ì„ ì°¾ì•„ê°€ëŠ” íƒ€ì…ì´ì—ìš”.\n\nì‚¬ëŒ ê´€ê³„ë„ ì‹ ê²½ ì“°ê³ , ê³¼ì—… í€„ë¦¬í‹°ë„ ì±™ê¸°ì§€ë§Œ, ë‘˜ ë‹¤ 'ì§ì ‘ í•˜ë©´ì„œ' í•´ê²°í•˜ëŠ” ìŠ¤íƒ€ì¼. íšŒì˜ì‹¤ì—ì„œ ë…¼ì˜í•˜ëŠ” ê²ƒë³´ë‹¤ í˜„ì¥ì—ì„œ ë›°ì–´ë‹¤ë‹ˆëŠ” ê²Œ ë” ì˜ ë§ì•„ìš”.",
    painPoint:"ëì—†ëŠ” íšŒì˜ì™€ ë…¼ì˜. 'ì´ê±° ì¢€ ë” ìƒê°í•´ë³´ì'ê°€ ë°˜ë³µë˜ë©´ ë‹µë‹µí•´ì§€ê³ , ê²°ë¡  ì—†ì´ í©ì–´ì§€ëŠ” ë¯¸íŒ… í›„ì— ì—ë„ˆì§€ê°€ ë°”ë‹¥ë‚˜ìš”.",
    keywords:["ì‹¤í–‰ë ¥","í˜„ì¥ ì¤‘ì‹¬","ë¹ ë¥¸ ëŒ€ì‘","ì§ì ‘ ë¶€ë”ªí˜","í–‰ë™ ì§€í–¥"],
    energyUp:["í˜„ì¥ ì´ìŠˆ ì¦‰ì‹œ ëŒ€ì‘Â·í•´ê²°","ì‹ ê·œ í”„ë¡œì íŠ¸ ë¹ ë¥¸ ì°©ìˆ˜","ì±„ìš©Â·ì˜¨ë³´ë”© ì‹¤ë¬´ ìš´ì˜","í˜„ì—… ë¦¬ë”ì™€ ì§ì ‘ í˜‘ì—…","ë‹¨ê¸° ëª©í‘œ ë‹¬ì„± í”„ë¡œì íŠ¸"],
    energyDown:["ì¥ê¸° ì „ëµ ë¬¸ì„œ ì‘ì„±","ëì´ ì•ˆ ë³´ì´ëŠ” ë°©í–¥ì„± ë…¼ì˜","ê²°ë¡  ì—†ëŠ” ë°˜ë³µ íšŒì˜","í˜¼ìì„œ í•˜ëŠ” ë°ì´í„° ë¶„ì„"],
    manual:{
      request:"ê²°ë¡ ê³¼ ê¸°ëŒ€ì¹˜ë¥¼ ë¨¼ì € ë§í•´ì£¼ì„¸ìš”. 'ì´ê±°ë¥¼ ì´ë ‡ê²Œ'ê°€ ëª…í™•í•˜ë©´ ë°”ë¡œ ì›€ì§ì—¬ìš”.",
      feedback:"ëª…í™•í•˜ê³  êµ¬ì²´ì ìœ¼ë¡œ. 'ì´ê±´ ì˜í–ˆê³ , ì´ê±´ ë°”ê¿”ë³´ì' ì‹ì´ ì œì¼ ì¢‹ì•„ìš”.",
      avoid:"ê²°ë¡  ì—†ì´ ë…¼ì˜ë§Œ ê¸¸ê²Œ ì´ì–´ê°€ê¸°. ì‹¤í–‰ ì „ì— ì™„ë²½í•œ ì¤€ë¹„ë¥¼ ìš”êµ¬í•˜ê¸°.",
      stress:"ë” ë¹ ë¥´ê²Œ ë°€ì–´ë¶™ì´ë©´ì„œ ì£¼ë³€ ë°˜ì‘ì„ ëª» ë³´ê¸° ì‹œì‘í•´ìš”. 'ì¼ë‹¨ í•´'ê°€ ë„ˆë¬´ ì¦ì•„ì§€ë©´ ì‹ í˜¸ì˜ˆìš”.",
      overload:"ì‘ì€ ì„±ì·¨ë¥¼ ëŠë‚„ ìˆ˜ ìˆëŠ” ë‹¨ê¸° ê³¼ì—…ì„ ì£¼ì„¸ìš”. ë¹ ë¥´ê²Œ ëë‚¼ ìˆ˜ ìˆëŠ” ì¼ì´ ì—ë„ˆì§€ë¥¼ íšŒë³µì‹œì¼œìš”."
    },
    bestMatch:"strategist",bestMatchShort:"ì „ëµ ê¸°íšê°€ ğŸ§­",bestReason:"ê¸°íšê°€ì˜ ë°©í–¥ + ì‹¤í–‰ê°€ì˜ ì¶”ì§„ë ¥ â†’ ìƒê°ê³¼ í–‰ë™ì´ ê· í˜•ì„ ì´ë¤„ìš”.",
    tensionMatch:"facilitator",tensionMatchShort:"ê´€ê³„ ì´‰ì§„ì ğŸ’¬",tensionReason:"ì‹¤í–‰ê°€ëŠ” ë¹ ë¥´ê²Œ ì›€ì§ì´ê³  ì‹¶ê³ , ì´‰ì§„ìëŠ” ì¶©ë¶„íˆ ì†Œí†µí•˜ê³  ì‹¶ì–´ì„œ ì†ë„ ì°¨ì´ê°€ ë‚  ìˆ˜ ìˆì–´ìš”."
  }
};
const TYPES=["architect","strategist","builder","facilitator","allrounder","taskmaster","connector","executor","driver"];
const TYPE_THRESHOLD=5;
const typeFromScores=(se,pt)=>{
  const sz=se<=-TYPE_THRESHOLD?'S':se>=TYPE_THRESHOLD?'E':'M';
  const pz=pt<=-TYPE_THRESHOLD?'P':pt>=TYPE_THRESHOLD?'T':'M';
  return{SP:'architect',SM:'strategist',ST:'builder',MP:'facilitator',MM:'allrounder',MT:'taskmaster',EP:'connector',EM:'executor',ET:'driver'}[sz+pz];
};
const strengthMap={strategy:"architect",system:"builder",people:"connector",execution:"driver"};
const getBaseType=tk=>({strategist:'architect',facilitator:'connector',taskmaster:'builder',executor:'driver',allrounder:'architect'}[tk]||tk);
const STRENGTH_LABELS={architect:"ì „ëµÂ·ë°©í–¥ ì„¤ì •",builder:"ì²´ê³„Â·ì‹œìŠ¤í…œ êµ¬ì¶•",connector:"ì†Œí†µÂ·ê´€ê³„ ì¡°ìœ¨",driver:"ì‹¤í–‰Â·ì™„ìˆ˜ë ¥"};
const STRENGTH_DATA={
  architect:{
    desc:"ë¶ˆí™•ì‹¤í•œ ìƒí™©ì—ì„œ ë°©í–¥ì„ ì¡ê³ , ë³µì¡í•œ ì´í•´ê´€ê³„ ì†ì—ì„œ í•µì‹¬ì„ ê¿°ëš«ëŠ” ëŠ¥ë ¥ì´ì—ìš”. 'ì™œ í•´ì•¼ í•˜ëŠ”ì§€'ë¥¼ ì„¤ë“ë ¥ ìˆê²Œ ì „ë‹¬í•  ìˆ˜ ìˆê³ , ì¡°ì§ì˜ í° ê·¸ë¦¼ì„ ë³´ë©´ì„œ ë³€í™”ì˜ ë°©í–¥ì„ ì„¤ê³„í•´ìš”.",
    scenes:["ê²½ì˜ì§„ì—ê²Œ HR ì´ë‹ˆì…”í‹°ë¸Œì˜ í•„ìš”ì„±ì„ ì„¤ë“í•  ë•Œ","ì¡°ì§ ê°œí¸ ë°©í–¥ì„ ì¡ê³  ì´í•´ê´€ê³„ìë¥¼ ì •ë ¬í•  ë•Œ","ë³µì¡í•œ ì¸ì‚¬ ì´ìŠˆì—ì„œ ë³¸ì§ˆì  ì›ì¸ì„ ì§šì–´ë‚¼ ë•Œ"]
  },
  builder:{
    desc:"ë³µì¡í•œ ê²ƒì„ êµ¬ì¡°í™”í•˜ê³ , ë°˜ë³µ ê°€ëŠ¥í•œ ì‹œìŠ¤í…œìœ¼ë¡œ ë§Œë“œëŠ” ëŠ¥ë ¥ì´ì—ìš”. ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°ê´€ì  íŒë‹¨ì„ ë‚´ë¦¬ê³ , í•œ ë²ˆ ë§Œë“¤ë©´ ì˜¤ë˜ ì“¸ ìˆ˜ ìˆëŠ” ì²´ê³„ë¥¼ ì„¤ê³„í•˜ëŠ” ë° ë›°ì–´ë‚˜ìš”.",
    scenes:["í‰ê°€Â·ë³´ìƒ ì²´ê³„ë¥¼ ì²˜ìŒë¶€í„° ì„¤ê³„í•  ë•Œ","HR ë°ì´í„°ë¥¼ ë¶„ì„í•´ ì˜ì‚¬ê²°ì • ê·¼ê±°ë¥¼ ë§Œë“¤ ë•Œ","ì±„ìš© í”„ë¡œì„¸ìŠ¤ë¥¼ í‘œì¤€í™”í•´ì„œ íš¨ìœ¨ì„ ë†’ì¼ ë•Œ"]
  },
  connector:{
    desc:"ì‚¬ëŒ ì‚¬ì´ì˜ ë¯¸ë¬˜í•œ ê°ì •ê³¼ ì—­í•™ì„ ì½ê³ , ì‹ ë¢°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¬¸ì œë¥¼ í’€ì–´ê°€ëŠ” ëŠ¥ë ¥ì´ì—ìš”. ê°ˆë“± ìƒí™©ì—ì„œ ì¤‘ì¬ì ì—­í• ì„ ìì—°ìŠ¤ëŸ½ê²Œ í•˜ê³ , êµ¬ì„±ì›ì´ ì•ˆì‹¬í•˜ê³  ì´ì•¼ê¸°í•  ìˆ˜ ìˆëŠ” ë¶„ìœ„ê¸°ë¥¼ ë§Œë“¤ì–´ìš”.",
    scenes:["íŒ€ ë‚´ ê°ˆë“±ì„ ì¤‘ì¬í•˜ê³  ê´€ê³„ë¥¼ íšŒë³µì‹œí‚¬ ë•Œ","êµ¬ì„±ì›ì˜ ìˆ¨ì€ ë¶ˆë§Œì´ë‚˜ ì´íƒˆ ì‹ í˜¸ë¥¼ ë¯¸ë¦¬ í¬ì°©í•  ë•Œ","ìƒˆë¡œìš´ ë³€í™”ì— ëŒ€í•œ êµ¬ì„±ì›ì˜ ìˆ˜ìš©ë„ë¥¼ ë†’ì¼ ë•Œ"]
  },
  driver:{
    desc:"ê³„íšì„ ì„¸ìš°ê³  ëê¹Œì§€ ë°€ê³  ë‚˜ê°€ëŠ” ì¶”ì§„ë ¥ì´ì—ìš”. ë°ë“œë¼ì¸ì„ ì§€í‚¤ê³ , ë””í…Œì¼ì„ ë¹ ëœ¨ë¦¬ì§€ ì•Šìœ¼ë©°, ì—¬ëŸ¬ ì—…ë¬´ë¥¼ ë™ì‹œì— êµ´ë ¤ë„ í•˜ë‚˜í•˜ë‚˜ ì™„ìˆ˜í•˜ëŠ” ëŠ¥ë ¥ì´ ìˆì–´ìš”.",
    scenes:["ë¹¡ë¹¡í•œ ì¼ì • ì•ˆì— ì±„ìš©ì„ ì™„ë£Œí•´ì•¼ í•  ë•Œ","ì—¬ëŸ¬ ë¶€ì„œì˜ ìš”ì²­ì„ ë™ì‹œì— ì²˜ë¦¬í•´ì•¼ í•  ë•Œ","ì •ê¸° ë¦¬í¬íŠ¸ë‚˜ ì •ì‚° ê°™ì€ ë°˜ë³µ ì—…ë¬´ë¥¼ ì •í™•í•˜ê²Œ ë§ˆê°í•  ë•Œ"]
  }
};


/* 1:1 Relationship Guide Data */
const REL_GUIDE = {
  "architect>architect":{req:"ì„œë¡œ í° ê·¸ë¦¼ ë…¼ì˜ë¥¼ ì¦ê¸°ì§€ë§Œ, ëˆ„ê°€ ì‹¤í–‰í• ì§€ ê¼­ ì •í•˜ì„¸ìš”",fb:"ë°©í–¥ì„± ê³µê° í›„ 'ê·¸ë˜ì„œ êµ¬ì²´ì ìœ¼ë¡œëŠ”?' ì§ˆë¬¸ì„ ì„œë¡œ ë˜ì ¸ì£¼ì„¸ìš”",warn:"ë‘˜ ë‹¤ ì „ëµë§Œ ë…¼ì˜í•˜ë‹¤ ì‹¤í–‰ì´ ë¹ ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ì¡°ì§ ë¹„ì „ê³¼ ë³€í™” ê´€ë¦¬ë¥¼ í•¨ê»˜ ì„¤ê³„í•˜ë©´ ê¹Šì´ ìˆëŠ” ê²°ê³¼ë¬¼ì´ ë‚˜ì™€ìš”"},
  "architect>builder":{req:"'ì™œ'ë¥¼ ë¨¼ì € ê³µìœ í•˜ê³ , êµ¬ì¡°í™”í•  ì‹œê°„ì„ ì¶©ë¶„íˆ ì£¼ì„¸ìš”",fb:"ë…¼ë¦¬ì™€ ë°ì´í„°ë¡œ ì„¤ëª…í•˜ë©´ ì˜ ë°›ì•„ë“¤ì—¬ìš”",warn:"ì„¤ê³„ìëŠ” ìœ ì—°í•˜ê²Œ, ë¹Œë”ëŠ” ì²´ê³„ì ìœ¼ë¡œ â€” ì†ë„ ì°¨ì´ì— ì£¼ì˜",synergy:"ì„¤ê³„ìê°€ ë°©í–¥ì„ ì¡ê³  ë¹Œë”ê°€ ì‹œìŠ¤í…œí™”í•˜ë©´ ì§€ì† ê°€ëŠ¥í•œ ê²°ê³¼ë¬¼ì´ ë‚˜ì™€ìš”"},
  "architect>connector":{req:"ì˜ë¯¸ì™€ ë§¥ë½ì„ ê³µìœ í•˜ë©´ ì»¤ë„¥í„°ê°€ í˜„ì¥ì—ì„œ ì „íŒŒí•´ì¤„ ê±°ì˜ˆìš”",fb:"ë”°ëœ»í•˜ê²Œ, 1:1ë¡œ. ê³µê°œì  í”¼ë“œë°±ì€ í”¼í•´ì£¼ì„¸ìš”",warn:"ì„¤ê³„ìì˜ ì¶”ìƒì  ë°©í–¥ì´ ì»¤ë„¥í„°ì—ê²Œ ë§‰ì—°í•˜ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ì„¤ê³„ìê°€ ë³€í™”ì˜ ë°©í–¥ì„, ì»¤ë„¥í„°ê°€ êµ¬ì„±ì›ì˜ ìˆ˜ìš©ì„ ë‹´ë‹¹í•˜ë©´ ì™„ë²½í•´ìš”"},
  "architect>driver":{req:"ë°°ê²½(Why)ì„ ë¨¼ì € ì„¤ëª…í•œ ë’¤, ëª…í™•í•œ ê¸°ëŒ€ì¹˜ì™€ ë°ë“œë¼ì¸ì„ ì£¼ì„¸ìš”",fb:"êµ¬ì²´ì ìœ¼ë¡œ 'ì´ê±´ ì˜í–ˆê³ , ì´ê±´ ë°”ê¿”ë³´ì' ì‹ìœ¼ë¡œ",warn:"ë“œë¼ì´ë²„ì—ê²Œ ëª¨í˜¸í•œ ë°©í–¥ë§Œ ë˜ì§€ë©´ ë‹µë‹µí•´í•´ìš”",synergy:"ì„¤ê³„ìì˜ ë¹„ì „ + ë“œë¼ì´ë²„ì˜ ì‹¤í–‰ë ¥ = ê°€ì¥ íš¨ê³¼ì ì¸ ì¡°í•©ì´ì—ìš”"},
  "builder>architect":{req:"ë°ì´í„°Â·ë…¼ë¦¬ë§Œ ì „ë‹¬í•˜ì§€ ë§ê³ , 'ì´ê²Œ ì™œ ì¤‘ìš”í•œì§€' ë§¥ë½ë„ ê°™ì´ ì£¼ì„¸ìš”",fb:"ë°©í–¥ì„± ë¨¼ì € ì¸ì •í•˜ê³ , ë””í…Œì¼ í”¼ë“œë°±ì€ ê·¸ ë‹¤ìŒì—",warn:"ë¹Œë”ì˜ ì²´ê³„ ì¤‘ì‹¬ ì ‘ê·¼ì´ ì„¤ê³„ìì—ê² 'ìœ ì—°í•˜ì§€ ì•Šë‹¤'ë¡œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ë¹Œë”ì˜ êµ¬ì¡° + ì„¤ê³„ìì˜ ë°©í–¥ê°ì´ ë§Œë‚˜ë©´ ì „ëµê³¼ ì‹¤í–‰ì´ ì—°ê²°ë¼ìš”"},
  "builder>builder":{req:"ì„œë¡œ ê¸°ì¤€ê³¼ í”„ë ˆì„ì„ ë¨¼ì € ë§ì¶”ê³ , ì—­í• ì„ ëª…í™•íˆ ë‚˜ëˆ„ì„¸ìš”",fb:"ê°ê´€ì  ë°ì´í„°ë¡œ ì„œë¡œ ê²€ì¦í•´ì£¼ë©´ ì‹ ë¢°ê°€ ìŒ“ì—¬ìš”",warn:"ë‘˜ ë‹¤ ì™„ë²½ì£¼ì˜ë¼ ì˜ê²¬ ì¶©ëŒ ì‹œ í‰í–‰ì„ ì„ ë‹¬ë¦´ ìˆ˜ ìˆì–´ìš”",synergy:"ë³µì¡í•œ ì œë„ ì„¤ê³„ë¥¼ í•¨ê»˜ í•˜ë©´ ë¹ˆí‹ˆ ì—†ëŠ” ì‹œìŠ¤í…œì´ ë‚˜ì™€ìš”"},
  "builder>connector":{req:"ë”°ëœ»í•œ í†¤ìœ¼ë¡œ, ì´ ì¼ì´ ì‚¬ëŒë“¤ì—ê²Œ ì–´ë–¤ ì˜ë¯¸ì¸ì§€ í•¨ê»˜ ì„¤ëª…í•´ì£¼ì„¸ìš”",fb:"1:1ë¡œ ì¡°ìš©íˆ, ê´€ê³„ë¥¼ í•´ì¹˜ì§€ ì•ŠëŠ” ì„ ì—ì„œ",warn:"ë¹Œë”ì˜ ì§ì ‘ì Â·ë…¼ë¦¬ì  ì†Œí†µì´ ì»¤ë„¥í„°ì—ê² ì°¨ê°‘ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ë¹Œë”ê°€ ë§Œë“  ì‹œìŠ¤í…œì„ ì»¤ë„¥í„°ê°€ í˜„ì¥ì— ë¶€ë“œëŸ½ê²Œ ì•ˆì°©ì‹œì¼œìš”"},
  "builder>driver":{req:"ëª…í™•í•œ ê¸°ëŒ€ì¹˜Â·ë°ë“œë¼ì¸Â·ê¸°ì¤€ì„ ì œì‹œí•˜ë©´ ë°”ë¡œ ì‹¤í–‰í•´ìš”",fb:"êµ¬ì²´ì  ì‚¬ì‹¤ ê¸°ë°˜ìœ¼ë¡œ ëª…í™•í•˜ê²Œ",warn:"ë¹Œë”ê°€ ê²€í† ì— ì‹œê°„ì„ ì“°ëŠ” ë™ì•ˆ ë“œë¼ì´ë²„ê°€ ë‹µë‹µí•´í•  ìˆ˜ ìˆì–´ìš”",synergy:"ë¹Œë”ê°€ ì„¤ê³„í•˜ê³  ë“œë¼ì´ë²„ê°€ ì‹¤í–‰í•˜ë©´ íš¨ìœ¨ ê·¹ëŒ€í™”"},
  "connector>architect":{req:"ì„¤ê³„ìì˜ í° ê·¸ë¦¼ì„ ì¡´ì¤‘í•˜ë˜, 'í˜„ì¥ì—ì„œëŠ” ì´ëŸ° ë°˜ì‘ì´ ìˆì–´ìš”'ë¡œ ë³´ì™„í•´ì£¼ì„¸ìš”",fb:"ë°©í–¥ì„± ë¨¼ì € ê³µê°í•˜ê³ , í˜„ì¥ í”¼ë“œë°±ì„ ì¶”ê°€í•˜ëŠ” ìˆœì„œë¡œ",warn:"ì»¤ë„¥í„°ì˜ 'ì‚¬ëŒ ë°˜ì‘' ì¤‘ì‹¬ í”¼ë“œë°±ì´ ì„¤ê³„ìì—ê² ì‹¤í–‰ ì €í•­ìœ¼ë¡œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ì»¤ë„¥í„°ì˜ í˜„ì¥ ì¸ì‚¬ì´íŠ¸ê°€ ì„¤ê³„ìì˜ ì „ëµì— í˜„ì‹¤ê°ì„ ë”í•´ìš”"},
  "connector>builder":{req:"ê°ì •ì´ ì•„ë‹Œ êµ¬ì²´ì  ì‚¬ë¡€ì™€ ë°ì´í„°ë¡œ ì „ë‹¬í•˜ë©´ ì˜ ë°›ì•„ë“¤ì—¬ìš”",fb:"ë…¼ë¦¬ì  ê·¼ê±°ë¥¼ ê³ë“¤ì—¬ í”¼ë“œë°±í•˜ë©´ ì„¤ë“ë ¥ì´ ì˜¬ë¼ê°€ìš”",warn:"ì»¤ë„¥í„°ì˜ ê°ì • ì¤‘ì‹¬ ì†Œí†µì´ ë¹Œë”ì—ê² ë¹„íš¨ìœ¨ì ìœ¼ë¡œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ì»¤ë„¥í„°ê°€ í˜„ì¥ ëª©ì†Œë¦¬ë¥¼ ëª¨ì•„ì˜¤ë©´ ë¹Œë”ê°€ ì‹œìŠ¤í…œì— ë°˜ì˜í•´ìš”"},
  "connector>connector":{req:"ì„œë¡œ ê³µê°ì„ ì˜ í•˜ì§€ë§Œ, êµ¬ì²´ì  ì•¡ì…˜ê³¼ ë§ˆê°ì„ ê¼­ ì •í•˜ì„¸ìš”",fb:"ë”°ëœ»í•˜ê²Œ ì£¼ê³ ë°›ë˜, 'ê·¸ë˜ì„œ ì–´ë–»ê²Œ í• ê¹Œ?'ë¡œ ë§ˆë¬´ë¦¬í•´ì£¼ì„¸ìš”",warn:"ë‘˜ ë‹¤ ê±°ì ˆì„ ëª» í•´ì„œ ì„œë¡œ ì—…ë¬´ë¥¼ ë– ë„˜ê¸°ëŠ” êµ¬ì¡°ê°€ ë  ìˆ˜ ìˆì–´ìš”",synergy:"êµ¬ì„±ì› ì¼€ì–´ì™€ ì†Œí†µ ì´‰ì§„ì—ì„œ ìµœê°• íŒ€ì›Œí¬ë¥¼ ë°œíœ˜í•´ìš”"},
  "connector>driver":{req:"ê²°ë¡ ê³¼ ê¸°ëŒ€ì¹˜ë¥¼ ë¨¼ì € ì „ë‹¬í•˜ê³ , ë§¥ë½ì€ ê°„ê²°í•˜ê²Œ ì¶”ê°€í•´ì£¼ì„¸ìš”",fb:"ëª…í™•í•˜ê³  êµ¬ì²´ì ìœ¼ë¡œ. ê°ì •ì  í‘œí˜„ë³´ë‹¤ ì‚¬ì‹¤ ìœ„ì£¼ë¡œ",warn:"ì»¤ë„¥í„°ê°€ ê´€ê³„ë¥¼ ì±™ê¸°ëŠë¼ ëŠë ¤ì§€ë©´ ë“œë¼ì´ë²„ê°€ ë‹µë‹µí•´í•  ìˆ˜ ìˆì–´ìš”",synergy:"ì»¤ë„¥í„°ê°€ ì‚¬ëŒ ì´ìŠˆë¥¼, ë“œë¼ì´ë²„ê°€ ì‹¤í–‰ì„ ë§¡ìœ¼ë©´ ì„œë¡œ ë¶€ë‹´ì´ ì¤„ì–´ìš”"},
  "driver>architect":{req:"ì‹¤í–‰ ê³„íšë¿ ì•„ë‹ˆë¼ 'ì™œ ì´ ë°©í–¥ì¸ì§€' ë°°ê²½ë„ ê°™ì´ ê³µìœ í•´ì£¼ì„¸ìš”",fb:"ë°©í–¥ì„±ì„ ë¨¼ì € ì¸ì •í•œ í›„ ì‹¤í–‰ ê´€ì  í”¼ë“œë°±ì„",warn:"ë“œë¼ì´ë²„ì˜ 'ë¹¨ë¦¬ ê²°ë¡  ë‚´ì'ê°€ ì„¤ê³„ìì—ê² 'ê¹Šì´ ì—†ë‹¤'ë¡œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ë“œë¼ì´ë²„ì˜ ì‹¤í–‰ë ¥ì´ ì„¤ê³„ìì˜ ì „ëµì„ í˜„ì‹¤ë¡œ ë§Œë“¤ì–´ìš”"},
  "driver>builder":{req:"ë°ì´í„°ì™€ ë…¼ë¦¬ ê·¼ê±°ë¥¼ ì¤€ë¹„í•´ì„œ ì „ë‹¬í•˜ë©´ ê²€í† ê°€ ë¹¨ë¼ì ¸ìš”",fb:"ì‚¬ì‹¤ ê¸°ë°˜ìœ¼ë¡œ, ì¶©ë¶„í•œ ê²€í†  ì‹œê°„ì„ ì£¼ì„¸ìš”",warn:"ë“œë¼ì´ë²„ì˜ 'ì¼ë‹¨ í•´ë³´ì'ê°€ ë¹Œë”ì—ê² 'ì¤€ë¹„ ì•ˆ ëëŠ”ë°'ë¡œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ë“œë¼ì´ë²„ê°€ ë¹ ë¥´ê²Œ ì‹¤í–‰í•˜ê³  ë¹Œë”ê°€ ì²´ê³„ë¥¼ ë³´ì™„í•˜ë©´ ì†ë„+í’ˆì§ˆ ë‘˜ ë‹¤ ì¡ì•„ìš”"},
  "driver>connector":{req:"ë”°ëœ»í•œ í†¤ì„ ì¶”ê°€í•˜ê³ , ì—…ë¬´ëŸ‰ì´ ê³¼í•˜ì§€ ì•Šì€ì§€ ì²´í¬í•´ì£¼ì„¸ìš”",fb:"1:1ë¡œ ì¡°ìš©íˆ, ë…¸ë ¥ì„ ì¸ì •í•œ ë’¤ ê°œì„ ì ì„",warn:"ë“œë¼ì´ë²„ì˜ ë¹ ë¥¸ ì†ë„ì™€ ì§ì ‘ì  ì†Œí†µì´ ì»¤ë„¥í„°ì—ê² ì••ë°•ìœ¼ë¡œ ëŠê»´ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ë“œë¼ì´ë²„ê°€ ì‹¤í–‰ì„, ì»¤ë„¥í„°ê°€ ì‚¬ëŒ ì¼€ì–´ë¥¼ ë‚˜ëˆ„ë©´ ê· í˜• ì¡íŒ íŒ€"},
  "driver>driver":{req:"ì„œë¡œ ê¸°ëŒ€ì¹˜ì™€ ì—­í• ì„ ëª…í™•íˆ ë‚˜ëˆ„ê³ , ê²¹ì¹˜ì§€ ì•Šê²Œ í•˜ì„¸ìš”",fb:"ê²°ê³¼ ê¸°ë°˜ìœ¼ë¡œ ì§ì ‘ì ìœ¼ë¡œ. ë‘˜ ë‹¤ ëª…í™•í•œ ê±¸ ì¢‹ì•„í•´ìš”",warn:"ë‘˜ ë‹¤ ë¹ ë¥´ê²Œ ë°€ì–´ë¶™ì—¬ì„œ ê´€ê³„ë‚˜ í° ê·¸ë¦¼ì´ ë¹ ì§ˆ ìˆ˜ ìˆì–´ìš”",synergy:"ì‹¤í–‰ë ¥ì´ ë‘ ë°°! ë‹¨ê¸° í”„ë¡œì íŠ¸ì—ì„œ ìµœê°•ì˜ íš¨ìœ¨ì„ ë³´ì—¬ìš”"}
};

/* Task Recommendations */
const TASKS = [
  {name:"ì±„ìš© ë¸Œëœë”© ê¸°íš",lead:"architect",support:"driver"},
  {name:"ì±„ìš© í”„ë¡œì„¸ìŠ¤ ìš´ì˜",lead:"driver",support:"connector"},
  {name:"í‰ê°€Â·ë³´ìƒ ì²´ê³„ ì„¤ê³„",lead:"builder",support:"architect"},
  {name:"ì¡°ì§ë¬¸í™” ì§„ë‹¨Â·ê°œì„ ",lead:"architect",support:"connector"},
  {name:"êµ¬ì„±ì› ìƒë‹´Â·ê³ ì¶© ì²˜ë¦¬",lead:"connector",support:"architect"},
  {name:"HR ë°ì´í„° ë¶„ì„Â·ëŒ€ì‹œë³´ë“œ",lead:"builder",support:"driver"},
  {name:"í˜„ì—… ë¦¬ë” íŒŒíŠ¸ë„ˆì‹­",lead:"connector",support:"builder"},
  {name:"ì˜¨ë³´ë”© ì„¤ê³„Â·ìš´ì˜",lead:"connector",support:"driver"},
  {name:"ì¸ì‚¬ ì œë„ ê¸°íš",lead:"builder",support:"architect"},
  {name:"HR ìš´ì˜ ìµœì í™”Â·í‘œì¤€í™”",lead:"driver",support:"builder"},
];

/* ===== SUPABASE ===== */
const SB_URL = 'https://vzygascbawpkzbbmaoef.supabase.co';
const SB_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ6eWdhc2NiYXdwa3piYm1hb2VmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA2OTc5NDUsImV4cCI6MjA4NjI3Mzk0NX0.Vu3qCnxA9aP8GoMKS1huHGYRTYrMIytjmUzHhZ1NPiA';
const sb = (typeof supabase!=='undefined' && SB_URL.indexOf('YOUR_PROJECT')===-1)
  ? supabase.createClient(SB_URL,SB_KEY) : null;

function generateTeamId(){
  const a='0123456789abcdefghijklmnopqrstuvwxyz';
  const b=crypto.getRandomValues(new Uint8Array(8));
  return Array.from(b,x=>a[x%a.length]).join('');
}

async function sbCreateTeam(name){
  const id=generateTeamId();
  const{data,error}=await sb.from('teams').insert({id,name}).select().single();
  if(error){
    if(error.code==='23505'){return sbCreateTeam(name);}// PK collision retry
    throw new Error(error.message);
  }
  return data;
}
async function sbGetTeam(teamId){
  const{data,error}=await sb.from('teams').select('*').eq('id',teamId).single();
  if(error)throw new Error(error.message);
  return data;
}
async function sbSaveResult(teamId,name,se,pt,typeKey,strengthAnswers){
  const{data,error}=await sb.from('results').upsert({
    team_id:teamId,name,se_score:se,pt_score:pt,type_key:typeKey,strength_answers:strengthAnswers
  },{onConflict:'team_id,name'}).select().single();
  if(error)throw new Error(error.message);
  return data;
}
async function sbLoadResults(teamId){
  const{data,error}=await sb.from('results').select('*').eq('team_id',teamId).order('created_at',{ascending:true});
  if(error)throw new Error(error.message);
  return data;
}

/* ===== STATE ===== */
const EMPTY_SS={strategy:0,system:0,people:0,execution:0};
let state = {screen:"intro", qIdx:0, scores:{SE:0,PT:0}, strengthScores:{...EMPTY_SS}, sqIdx:0, userName:"", members:[], selectedMember:0,
  mode:"solo", teamId:null, teamName:"", loading:false, error:null, _teamLoaded:false, sharedResult:false};
let skipScroll = false;

/* ===== PERSISTENCE ===== */
function saveMyResult(){
  try{localStorage.setItem('hrbp_result',JSON.stringify({userName:state.userName,scores:state.scores,strengthScores:state.strengthScores}));}catch(e){}
}
function saveTeam(){
  try{localStorage.setItem('hrbp_team',JSON.stringify(state.members));}catch(e){}
}
function loadMyResult(){
  try{const d=JSON.parse(localStorage.getItem('hrbp_result'));if(d&&d.userName){state.userName=d.userName;state.scores=d.scores;state.strengthScores=d.strengthScores||{...EMPTY_SS};return true;}}catch(e){}return false;
}
function loadTeam(){
  try{const d=JSON.parse(localStorage.getItem('hrbp_team'));if(d&&d.length>0){state.members=d;return true;}}catch(e){}return false;
}
function getTeamLink(){
  const codes=state.members.map(m=>`${m.name}:${T[m.typeKey].code}:${m.se}:${m.pt}`);
  return location.origin+location.pathname+'#team='+encodeURIComponent(codes.join('|'));
}
function parseTeamHash(){
  const h=location.hash;if(!h.startsWith('#team='))return false;
  const codeMap={A:"architect",S:"strategist",B:"builder",F:"facilitator",X:"allrounder",M:"taskmaster",C:"connector",E:"executor",D:"driver"};
  const members=[];
  decodeURIComponent(h.slice(6)).split('|').forEach(line=>{
    const p=line.trim().split(':');
    if(p.length>=4){const name=p[0].trim(),tc=p[1].trim().toUpperCase(),se=parseInt(p[2]),pt=parseInt(p[3]);
      if(name&&codeMap[tc]&&!isNaN(se)&&!isNaN(pt))members.push({name,se:Math.max(-16,Math.min(16,se)),pt:Math.max(-16,Math.min(16,pt)),typeKey:codeMap[tc]});}
  });
  if(members.length>0){state.members=members;return true;}return false;
}
function getResultShareLink(){
  const ss=state.strengthScores;
  const parts=[state.userName,state.scores.SE,state.scores.PT,ss.strategy,ss.system,ss.people,ss.execution];
  return location.origin+location.pathname+'?r='+encodeURIComponent(parts.join('.'));
}
function parseResultParam(){
  const r=new URLSearchParams(location.search).get('r');
  if(!r)return false;
  const p=decodeURIComponent(r).split('.');
  if(p.length<3)return false;
  const name=p[0],se=parseInt(p[1]),pt=parseInt(p[2]);
  if(!name||isNaN(se)||isNaN(pt))return false;
  state.userName=name;
  state.scores={SE:Math.max(-16,Math.min(16,se)),PT:Math.max(-16,Math.min(16,pt))};
  if(p.length>=7)state.strengthScores={strategy:parseInt(p[3])||0,system:parseInt(p[4])||0,people:parseInt(p[5])||0,execution:parseInt(p[6])||0};
  state.sharedResult=true;
  return true;
}

/* ===== RENDER ===== */
const $=id=>document.getElementById(id);
const app=()=>$("app");

function render(){
  if(!skipScroll) window.scrollTo(0,0);
  skipScroll=false;
  switch(state.screen){
    case "intro": renderIntro(); break;
    case "createTeam": renderCreateTeam(); break;
    case "inviteLink": renderInviteLink(); break;
    case "teamJoin": renderTeamJoin(); break;
    case "questions": renderQuestion(); break;
    case "strength": renderStrength(); break;
    case "name": renderName(); break;
    case "result": renderResult(); break;
    case "team": renderTeam(); break;
  }
}

function renderIntro(){
  const saved=(()=>{try{const s=JSON.parse(localStorage.getItem('hrbp_result'));return s&&s.userName?s:null;}catch(e){return null;}})();
  app().innerHTML=`
  <div class="fade-in" style="text-align:center;padding-top:40px">
    <div style="font-size:56px;margin-bottom:16px">ğŸ§­</div>
    <h1 style="font-size:28px;font-weight:800;line-height:1.3;letter-spacing:-.5px;margin-bottom:8px">ë‚˜ëŠ” ì–´ë–¤ HRBPì¼ê¹Œ?</h1>
    <p style="font-size:15px;color:#6B7280;margin-bottom:28px;line-height:1.6">HRBP ì—…ë¬´ ìŠ¤íƒ€ì¼ ì§„ë‹¨ Â· 22ë¬¸í•­ Â· ì•½ 5ë¶„</p>
    <div class="card" style="text-align:left">
      <p style="font-size:15px;color:#374151;line-height:1.8;margin-bottom:18px">22ê°œ ì§ˆë¬¸ì— ë‹µí•˜ë©´, ë‚˜ì˜ HRBP ì—…ë¬´ ìŠ¤íƒ€ì¼ì„ ì•Œë ¤ë“œë ¤ìš”.</p>
      ${[["âš¡","ì—ë„ˆì§€ê°€ ë‚˜ëŠ” ê³¼ì—… / ê¹ì´ëŠ” ê³¼ì—…"],["ğŸ†","ë‚´ê°€ ì‹¤ì œë¡œ ì˜ ë°œíœ˜í•˜ëŠ” ê°•ì "],["ğŸ“‹","ë‚˜ì™€ í˜‘ì—…í•  ë•Œ ì‚¬ìš©ì„¤ëª…ì„œ"],["ğŸ˜°","ìŠ¤íŠ¸ë ˆìŠ¤ ì‹œê·¸ë„ & íšŒë³µ ë°©ë²•"],["ğŸ¤","íŒ€ì›ë³„ 1:1 ì†Œí†µ ê°€ì´ë“œ"],["ğŸ“Š","ê³¼ì—…ë³„ ë¦¬ë“œ/ì„œí¬íŠ¸ ì¶”ì²œ"]].map(([i,t])=>`<div style="display:flex;align-items:center;gap:12px;padding:10px 14px;background:#F9FAFB;border-radius:12px;font-size:14px;color:#374151;margin-bottom:8px"><span style="font-size:18px">${i}</span>${t}</div>`).join("")}
      <p style="font-size:13px;color:#9CA3AF;margin-top:14px;text-align:center">ì •ë‹µì€ ì—†ì–´ìš” â€” ì§ê´€ì ìœ¼ë¡œ ê³¨ë¼ì£¼ì„¸ìš”</p>
    </div>
    <button class="btn btn-primary" onclick="startTest()" style="margin-top:16px">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
    ${saved?`<button class="btn btn-secondary" onclick="goSavedResult()" style="margin-top:10px">ğŸ“Š ì´ì „ ê²°ê³¼ ë³´ê¸° (${saved.userName})</button>`:''}
  </div>`;
}

function renderCreateTeam(){
  app().innerHTML=`
  <div class="fade-in" style="padding-top:60px;text-align:center">
    <div style="font-size:48px;margin-bottom:16px">ğŸ‘¥</div>
    <h2 style="font-size:22px;font-weight:700;margin-bottom:8px">ìš°ë¦¬ íŒ€ ë§Œë“¤ê¸°</h2>
    <p style="font-size:14px;color:#6B7280;margin-bottom:32px;line-height:1.6">
      íŒ€ ì´ë¦„ì„ ì…ë ¥í•˜ë©´ ì´ˆëŒ€ ë§í¬ê°€ ìƒì„±ë¼ìš”.<br>
      íŒ€ì›ë“¤ì´ ë§í¬ë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸í•˜ë©´ ê²°ê³¼ê°€ ìë™ìœ¼ë¡œ ëª¨ì—¬ìš”.
    </p>
    <input id="teamNameInput" class="input" placeholder="íŒ€ ì´ë¦„ (ì˜ˆ: ëª¨ë¹„ë°ì´ì¦ˆ HRBPíŒ€)" style="text-align:center;font-size:16px;margin-bottom:16px" onkeydown="if(event.key==='Enter')handleCreateTeam()">
    ${state.error?`<p style="font-size:13px;color:#DC2626;margin-bottom:12px">${state.error.message}</p>`:''}
    <button class="btn btn-primary" onclick="handleCreateTeam()" id="createTeamBtn" ${state.loading?'disabled style="opacity:0.6"':''}>
      ${state.loading?'<span class="spinner" style="width:18px;height:18px;border-width:2px;vertical-align:middle;margin-right:8px"></span>íŒ€ ìƒì„± ì¤‘...':'íŒ€ ë§Œë“¤ê¸°'}
    </button>
    <button class="btn btn-secondary" onclick="state.screen='result';state.error=null;render()" style="margin-top:10px">â† ëŒì•„ê°€ê¸°</button>
  </div>`;
  if(!state.loading){setTimeout(()=>{const inp=$("teamNameInput");if(inp)inp.focus();},300);}
}

function renderInviteLink(){
  const link=location.origin+location.pathname+'?team='+state.teamId;
  app().innerHTML=`
  <div class="fade-in" style="padding-top:40px;text-align:center">
    <div style="font-size:48px;margin-bottom:16px">ğŸ‰</div>
    <h2 style="font-size:22px;font-weight:700;margin-bottom:6px">"${state.teamName}" íŒ€ì´ ë§Œë“¤ì–´ì¡Œì–´ìš”!</h2>
    <p style="font-size:14px;color:#6B7280;margin-bottom:8px;line-height:1.6">
      ë‚´ ê²°ê³¼ëŠ” ìë™ ì €ì¥ëì–´ìš”.<br>
      ì•„ë˜ ë§í¬ë¥¼ íŒ€ì›ë“¤ì—ê²Œ ê³µìœ í•˜ì„¸ìš”!
    </p>
    <div class="card" style="background:#F3F0FF;border:1px solid #C4B5FD">
      <p style="font-size:12px;color:#9CA3AF;margin-bottom:10px">ì´ˆëŒ€ ë§í¬</p>
      <div style="background:#fff;border:1px solid #E5E7EB;border-radius:10px;padding:12px;font-size:13px;color:#374151;word-break:break-all;margin-bottom:12px;font-family:monospace">${link}</div>
      <button class="btn btn-primary" onclick="copyInviteLink()" id="inviteCopyBtn" style="font-size:14px;padding:12px">ğŸ“‹ ì´ˆëŒ€ ë§í¬ ë³µì‚¬</button>
    </div>
    <button class="btn btn-primary" onclick="goTeamView()" style="margin-top:16px">íŒ€ ê²°ê³¼ ë³´ê¸°</button>
    <button class="btn btn-secondary" onclick="goResult()" style="margin-top:10px">â† ë‚´ ê²°ê³¼ë¡œ ëŒì•„ê°€ê¸°</button>
  </div>`;
}

function renderTeamJoin(){
  if(state.loading){
    app().innerHTML=`
    <div class="fade-in" style="padding-top:100px;text-align:center">
      <div style="margin-bottom:16px"><span class="spinner"></span></div>
      <p style="font-size:16px;color:#6B7280">íŒ€ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
    </div>`;
    return;
  }
  if(state.error){
    app().innerHTML=`
    <div class="fade-in" style="padding-top:100px;text-align:center">
      <div style="font-size:48px;margin-bottom:16px">ğŸ˜¢</div>
      <h2 style="font-size:20px;font-weight:700;margin-bottom:8px">íŒ€ì„ ì°¾ì„ ìˆ˜ ì—†ì–´ìš”</h2>
      <p style="font-size:14px;color:#6B7280;margin-bottom:24px">${state.error.message}</p>
      <button class="btn btn-primary" onclick="location.href=location.pathname">ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
    </div>`;
    return;
  }
  app().innerHTML=`
  <div class="fade-in" style="padding-top:60px;text-align:center">
    <div style="font-size:48px;margin-bottom:16px">ğŸ‘‹</div>
    <h2 style="font-size:22px;font-weight:700;margin-bottom:6px">"${state.teamName}" íŒ€ì— í•©ë¥˜í•˜ê¸°</h2>
    <p style="font-size:14px;color:#6B7280;margin-bottom:32px;line-height:1.6">
      ì´ë¦„ì„ ì…ë ¥í•˜ê³  í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•˜ì„¸ìš”.<br>
      ê²°ê³¼ëŠ” ìë™ìœ¼ë¡œ íŒ€ì— ì €ì¥ë¼ìš”.
    </p>
    <input id="joinNameInput" class="input" placeholder="ì´ë¦„ (ì˜ˆ: ê¹€ëª¨ë¹„)" style="text-align:center;font-size:16px;margin-bottom:16px" onkeydown="if(event.key==='Enter')startTeamTestAsJoiner()">
    <button class="btn btn-primary" onclick="startTeamTestAsJoiner()">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
    <button class="btn btn-secondary" onclick="goTeamViewDirect()" style="margin-top:10px">íŒ€ ê²°ê³¼ ë°”ë¡œ ë³´ê¸°</button>
  </div>`;
  setTimeout(()=>{const inp=$("joinNameInput");if(inp)inp.focus();},300);
}

function renderQuestion(){
  const q=QUESTIONS[state.qIdx];
  const totalAll=QUESTIONS.length+STRENGTH_QUESTIONS.length;
  const pct=((state.qIdx+1)/totalAll)*100;
  const colors=["#6C5CE7","#A29BFE","#74B9FF","#0984E3"];
  const labels=["í™•ì‹¤íˆ A","ì•½ê°„ A","ì•½ê°„ B","í™•ì‹¤íˆ B"];
  const sizes=[46,36,36,46];

  app().innerHTML=`
  <div style="margin-top:20px">
    <div style="display:flex;justify-content:space-between;margin-bottom:8px">
      <span style="font-size:13px;color:#9CA3AF;font-weight:600">Q${state.qIdx+1} / ${totalAll}</span>
      <span style="font-size:13px;color:#9CA3AF">${Math.round(pct)}%</span>
    </div>
    <div style="height:6px;background:#E5E7EB;border-radius:3px;overflow:hidden">
      <div style="height:100%;width:${pct}%;background:linear-gradient(90deg,#6C5CE7,#0984E3);border-radius:3px;transition:width .5s"></div>
    </div>
  </div>
  <div class="fade-in" style="padding:40px 0 20px;text-align:center">
    <h2 style="font-size:18px;font-weight:700;line-height:1.5;margin-bottom:28px">${q.text}</h2>
    <div style="display:flex;gap:10px;margin-bottom:12px">
      <div style="flex:1;padding:14px;background:#F9FAFB;border-radius:14px;font-size:13px;color:#374151;line-height:1.5;text-align:center">
        <span style="font-size:11px;color:#6C5CE7;font-weight:700;display:block;margin-bottom:4px">A</span>${q.a}
      </div>
      <div style="flex:1;padding:14px;background:#F9FAFB;border-radius:14px;font-size:13px;color:#374151;line-height:1.5;text-align:center">
        <span style="font-size:11px;color:#0984E3;font-weight:700;display:block;margin-bottom:4px">B</span>${q.b}
      </div>
    </div>
    <div class="scale-row">
      ${[-2,-1,1,2].map((v,i)=>`
        <div class="scale-col">
          <button class="scale-btn" style="width:${sizes[i]}px;height:${sizes[i]}px" onclick="answerQ(${v},${i})" onmouseover="this.style.borderColor='${colors[i]}'" onmouseout="this.style.borderColor='#E5E7EB'"></button>
          <span class="scale-label">${labels[i]}</span>
        </div>
      `).join("")}
    </div>
    <div style="display:flex;justify-content:space-between;padding:0 8px;margin-top:4px">
      <span style="font-size:12px;color:#6C5CE7;font-weight:600">â† A</span>
      <span style="font-size:12px;color:#0984E3;font-weight:600">B â†’</span>
    </div>
  </div>`;
}

function renderStrength(){
  const sq=STRENGTH_QUESTIONS[state.sqIdx];
  const totalAll=QUESTIONS.length+STRENGTH_QUESTIONS.length;
  const qNum=QUESTIONS.length+state.sqIdx+1;
  const pct=(qNum/totalAll)*100;
  const colors=["#6C5CE7","#A29BFE","#74B9FF","#0984E3"];
  const labels=["í™•ì‹¤íˆ A","ì•½ê°„ A","ì•½ê°„ B","í™•ì‹¤íˆ B"];
  const sizes=[46,36,36,46];

  app().innerHTML=`
  <div style="margin-top:20px">
    <div style="display:flex;justify-content:space-between;margin-bottom:8px">
      <span style="font-size:13px;color:#9CA3AF;font-weight:600">Q${qNum} / ${totalAll}</span>
      <span style="font-size:13px;color:#9CA3AF">${Math.round(pct)}%</span>
    </div>
    <div style="height:6px;background:#E5E7EB;border-radius:3px;overflow:hidden">
      <div style="height:100%;width:${pct}%;background:linear-gradient(90deg,#6C5CE7,#0984E3);border-radius:3px;transition:width .5s"></div>
    </div>
  </div>
  <div class="fade-in" style="padding:40px 0 20px;text-align:center">
    <h2 style="font-size:18px;font-weight:700;line-height:1.5;margin-bottom:28px">${sq.text}</h2>
    <div style="display:flex;gap:10px;margin-bottom:12px">
      <div style="flex:1;padding:14px;background:#F9FAFB;border-radius:14px;font-size:13px;color:#374151;line-height:1.5;text-align:center">
        <span style="font-size:11px;color:#6C5CE7;font-weight:700;display:block;margin-bottom:4px">A</span>${sq.a}
      </div>
      <div style="flex:1;padding:14px;background:#F9FAFB;border-radius:14px;font-size:13px;color:#374151;line-height:1.5;text-align:center">
        <span style="font-size:11px;color:#0984E3;font-weight:700;display:block;margin-bottom:4px">B</span>${sq.b}
      </div>
    </div>
    <div class="scale-row">
      ${[-2,-1,1,2].map((v,i)=>`
        <div class="scale-col">
          <button class="scale-btn" style="width:${sizes[i]}px;height:${sizes[i]}px" onclick="answerSQ(${v},${i})" onmouseover="this.style.borderColor='${colors[i]}'" onmouseout="this.style.borderColor='#E5E7EB'"></button>
          <span class="scale-label">${labels[i]}</span>
        </div>
      `).join("")}
    </div>
    <div style="display:flex;justify-content:space-between;padding:0 8px;margin-top:4px">
      <span style="font-size:12px;color:#6C5CE7;font-weight:600">â† A</span>
      <span style="font-size:12px;color:#0984E3;font-weight:600">B â†’</span>
    </div>
  </div>`;
}

function renderName(){
  // If name already set (team joiner), skip to submit
  if(state.mode==="team"&&state.userName){submitName();return;}
  app().innerHTML=`
  <div class="fade-in" style="padding-top:60px;text-align:center">
    <div style="font-size:48px;margin-bottom:16px">âœ¨</div>
    <h2 style="font-size:22px;font-weight:700;margin-bottom:8px">ê±°ì˜ ë‹¤ ëì–´ìš”!</h2>
    <p style="font-size:14px;color:#6B7280;margin-bottom:32px">${state.mode==="team"?'íŒ€ì— ì €ì¥í•  ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”':'íŒ€ ì¡°í•© ë¶„ì„ì— ì‚¬ìš©í•  ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”'}</p>
    <input id="nameInput" class="input" placeholder="ì´ë¦„ (ì˜ˆ: ê¹€ëª¨ë¹„)" value="${state.userName||''}" style="text-align:center;font-size:16px;margin-bottom:16px" onkeydown="if(event.key==='Enter')submitName()">
    <button class="btn btn-primary" onclick="submitName()">ê²°ê³¼ ë³´ê¸°</button>
  </div>`;
  setTimeout(()=>{const inp=$("nameInput");if(inp)inp.focus();},300);
}

function renderResult(){
  const tk=typeFromScores(state.scores.SE,state.scores.PT);
  const t=T[tk];

  // Strength analysis (paired comparison scores)
  const sortedS=Object.entries(state.strengthScores).sort((a,b)=>b[1]-a[1]);
  const topStrength=strengthMap[sortedS[0][0]]||tk;
  const topStrengthLabel=STRENGTH_LABELS[topStrength];

  app().innerHTML=`
  <div class="fade-in">
    <!-- 1. Header -->
    <div style="text-align:center;padding:32px 0 20px">
      <p style="font-size:14px;color:#9CA3AF;margin-bottom:8px;font-weight:500">ë‹¹ì‹ ì˜ HRBP ìœ í˜•ì€</p>
      <div style="font-size:52px;margin-bottom:8px">${t.emoji}</div>
      <h1 style="font-size:30px;font-weight:800;color:${t.color};margin-bottom:6px;letter-spacing:-.5px">${t.name}</h1>
      <p style="font-size:15px;color:#6B7280;font-weight:500">${t.subtitle}</p>
    </div>

    <!-- 2. Type Description (í•µì‹¬ ìš•êµ¬ + í–‰ë™ ìŠ¤ëƒ…ìƒ· + ëª» ì°¸ëŠ” ìƒí™© + í‚¤ì›Œë“œ) -->
    <div class="card">
      <div style="background:${t.colorBg};border-radius:12px;padding:14px 16px;margin-bottom:16px;border-left:3px solid ${t.color}">
        <p style="font-size:13px;font-weight:700;color:${t.color};margin-bottom:4px">í•µì‹¬ ìš•êµ¬</p>
        <p style="font-size:15px;color:#374151;line-height:1.7">${t.coreNeed}</p>
      </div>
      <p style="font-size:15px;color:#374151;line-height:1.8;white-space:pre-line">${t.desc}</p>
      <div style="background:#FEF2F2;border-radius:12px;padding:14px 16px;margin-top:16px;border-left:3px solid #F87171">
        <p style="font-size:13px;font-weight:700;color:#DC2626;margin-bottom:4px">ì´ê±´ ì ˆëŒ€ ëª» ì°¸ì•„ìš”</p>
        <p style="font-size:14px;color:#374151;line-height:1.7">${t.painPoint}</p>
      </div>
      ${t.keywords?`<div style="display:flex;flex-wrap:wrap;gap:6px;margin-top:16px">${t.keywords.map(k=>`<span style="font-size:12px;padding:5px 10px;background:${t.colorBg};color:${t.color};border-radius:8px;border:1px solid ${t.colorLight};font-weight:600">#${k}</span>`).join("")}</div>`:''}
    </div>

    <!-- 3. Chart -->
    <div class="card">
      <div class="sec-title">ğŸ“ ë‚˜ì˜ ìœ„ì¹˜</div>
      ${makeChart([{name:state.userName||"ë‚˜",se:state.scores.SE,pt:state.scores.PT,typeKey:tk}])}
      <div style="display:flex;justify-content:center;gap:20px;margin-top:12px">
        <div style="text-align:center"><div style="font-size:11px;color:#9CA3AF;font-weight:600">ì „ëµâ†”ì‹¤í–‰</div><div style="font-size:18px;font-weight:800;color:${t.color}">${state.scores.SE>0?"+":""}${state.scores.SE}</div></div>
        <div style="width:1px;background:${t.colorLight}"></div>
        <div style="text-align:center"><div style="font-size:11px;color:#9CA3AF;font-weight:600">ê´€ê³„â†”ê³¼ì—…</div><div style="font-size:18px;font-weight:800;color:${t.color}">${state.scores.PT>0?"+":""}${state.scores.PT}</div></div>
      </div>
    </div>

    <!-- 4. Energy Map -->
    <div class="card">
      <div class="sec-title">âš¡ ì—ë„ˆì§€ ë§µ</div>
      <div style="margin-bottom:14px">
        <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px">
          <span style="background:#ECFDF5;color:#059669;font-size:12px;font-weight:700;padding:4px 10px;border-radius:8px">ğŸ”‹ ì—ë„ˆì§€ UP</span>
        </div>
        <div style="display:flex;flex-wrap:wrap;gap:6px">${t.energyUp.map(x=>`<span class="tag tag-green">${x}</span>`).join("")}</div>
      </div>
      <div style="height:1px;background:#F3F4F6;margin-bottom:14px"></div>
      <div>
        <div style="display:flex;align-items:center;gap:8px;margin-bottom:10px">
          <span style="background:#FEF2F2;color:#DC2626;font-size:12px;font-weight:700;padding:4px 10px;border-radius:8px">ğŸª« ì—ë„ˆì§€ DOWN</span>
        </div>
        <div style="display:flex;flex-wrap:wrap;gap:6px">${t.energyDown.map(x=>`<span class="tag tag-red">${x}</span>`).join("")}</div>
      </div>
    </div>

    <!-- 5. Strength (ì„¤ëª… + ë¹›ë‚˜ëŠ” ìˆœê°„ + ë¶„í¬ ë°”) -->
    <div class="card">
      <div class="sec-title">ğŸ† ì‹¤ì œ ë°œíœ˜ ê°•ì </div>
      <div style="background:${T[topStrength].colorBg};border:1px solid ${T[topStrength].colorLight};border-radius:14px;padding:18px;margin-bottom:14px">
        <div style="display:flex;align-items:center;gap:10px;margin-bottom:10px">
          <span style="font-size:28px">${T[topStrength].emoji}</span>
          <div>
            <div style="font-size:17px;font-weight:800;color:${T[topStrength].color}">${topStrengthLabel}</div>
            <div style="font-size:12px;color:#9CA3AF">ìƒí™© ê¸°ë°˜ ë¶„ì„ìœ¼ë¡œ íŒŒì•…í•œ ì‹¤ì œ ê°•ì </div>
          </div>
        </div>
        <p style="font-size:14px;color:#374151;line-height:1.7">${STRENGTH_DATA[topStrength].desc}</p>
      </div>
      <div style="margin-bottom:14px">
        <p style="font-size:13px;font-weight:700;color:#374151;margin-bottom:10px">ğŸ’¼ ì´ ê°•ì ì´ ë¹›ë‚˜ëŠ” ìˆœê°„</p>
        ${STRENGTH_DATA[topStrength].scenes.map(s=>`<div style="display:flex;align-items:flex-start;gap:8px;margin-bottom:8px"><span style="color:${T[topStrength].color};font-size:14px;flex-shrink:0;margin-top:2px">â—</span><p style="font-size:13px;color:#374151;line-height:1.6">${s}</p></div>`).join("")}
      </div>
      ${sortedS.length>1?`
      <div style="margin-top:4px">
        <p style="font-size:12px;font-weight:600;color:#9CA3AF;margin-bottom:8px">ê°•ì  ë¶„í¬</p>
        ${sortedS.map((s,i)=>{const st=strengthMap[s[0]];const maxScore=6;const pct=Math.max(5,((s[1]+maxScore)/(maxScore*2))*100);return`
        <div style="display:flex;align-items:center;gap:8px;margin-bottom:6px">
          <span style="font-size:11px;font-weight:600;color:${T[st].color};width:80px;text-align:right">${STRENGTH_LABELS[st]}</span>
          <div style="flex:1;height:8px;background:#F3F4F6;border-radius:4px;overflow:hidden"><div style="height:100%;width:${pct}%;background:${i===0?T[st].color:T[st].colorLight};border-radius:4px;transition:width .5s"></div></div>
        </div>`;}).join("")}
      </div>`:``}
    </div>

    <!-- 6. User Manual (5í•­ëª©: ìš”ì²­/í”¼ë“œë°±/í”¼í•´ì£¼ì„¸ìš”/ìŠ¤íŠ¸ë ˆìŠ¤/ê³¼ë¶€í•˜&íšŒë³µ) -->
    <div class="card" style="border:2px solid ${t.color}">
      <div class="sec-title">ğŸ“‹ ë‚˜ì˜ ì‚¬ìš©ì„¤ëª…ì„œ</div>
      <p style="font-size:12px;color:#9CA3AF;margin-bottom:14px;margin-top:-8px">íŒ€ ë…¸ì…˜ì— ë¶™ì—¬ë†“ê³  ì°¸ê³ í•˜ì„¸ìš”</p>
      ${[{icon:"ğŸ“¨",label:"ë‚˜ì—ê²Œ ì—…ë¬´ ìš”ì²­í•  ë•Œ",text:t.manual.request},{icon:"ğŸ’¬",label:"ë‚˜ì—ê²Œ í”¼ë“œë°± ì¤„ ë•Œ",text:t.manual.feedback},{icon:"ğŸš«",label:"ì´ê±´ í”¼í•´ì£¼ì„¸ìš”",text:t.manual.avoid},{icon:"ğŸ˜°",label:"ìŠ¤íŠ¸ë ˆìŠ¤ ì‹ í˜¸",text:t.manual.stress},{icon:"ğŸ’š",label:"ê³¼ë¶€í•˜ì¼ ë•Œ ì´ë ‡ê²Œ ë„ì™€ì£¼ì„¸ìš”",text:t.manual.overload}].map((item,i)=>`
        <div style="padding:14px 16px;background:${i===4?"#ECFDF5":i%2===0?t.colorBg:"#FAFAFA"};border-radius:12px;margin-bottom:${i<4?10:0}px">
          <div style="font-size:13px;font-weight:700;color:${i===4?"#059669":t.color};margin-bottom:6px">${item.icon} ${item.label}</div>
          <p style="font-size:14px;color:#374151;line-height:1.7">${item.text}</p>
        </div>`).join("")}
    </div>

    <!-- 7. Compatibility (í•œ ì¤„ ìš”ì•½) -->
    <div class="card">
      <div class="sec-title">ğŸ¤ ìœ í˜• ê¶í•©</div>
      <div style="display:flex;gap:10px">
        <div style="flex:1;background:#F0FDF4;border-radius:12px;padding:14px;border:1px solid #BBF7D0;text-align:center">
          <p style="font-size:12px;font-weight:600;color:#059669;margin-bottom:6px">ì‹œë„ˆì§€</p>
          <p style="font-size:15px;font-weight:800;color:#166534">${t.bestMatchShort}</p>
        </div>
        <div style="flex:1;background:#FFFBEB;border-radius:12px;padding:14px;border:1px solid #FDE68A;text-align:center">
          <p style="font-size:12px;font-weight:600;color:#92400E;margin-bottom:6px">ì£¼ì˜</p>
          <p style="font-size:15px;font-weight:800;color:#92400E">${t.tensionMatchShort}</p>
        </div>
      </div>
      <p style="font-size:12px;color:#9CA3AF;text-align:center;margin-top:10px">íŒ€ ì¡°í•©ì—ì„œ ìƒì„¸ 1:1 ì†Œí†µ ê°€ì´ë“œë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
    </div>

    <!-- Share my result -->
    ${!state.sharedResult?`
    <div style="text-align:center;margin-bottom:16px">
      <button class="btn btn-secondary" onclick="shareMyResult()" id="shareResultBtn" style="font-size:14px">ğŸ”— ë‚´ ê²°ê³¼ ê³µìœ í•˜ê¸°</button>
    </div>`:''}

    <!-- Team CTA -->
    ${state.sharedResult?`
    <div class="card" style="text-align:center;background:linear-gradient(135deg,#F3F0FF 0%,#EBF5FF 100%);border:2px solid #C4B5FD">
      <div style="font-size:36px;margin-bottom:8px">ğŸ§­</div>
      <p style="font-size:16px;font-weight:700;color:#374151;margin-bottom:8px">ë‚˜ë„ ê¶ê¸ˆí•˜ë‹¤ë©´?</p>
      <button class="btn btn-primary" onclick="location.href=location.pathname" style="margin-top:8px">ë‚˜ë„ í…ŒìŠ¤íŠ¸í•˜ê¸°</button>
    </div>
    `:state.mode==="team"?`
    <button class="btn btn-primary" onclick="goTeam()" style="width:100%;margin-bottom:12px">ğŸ‘¥ íŒ€ ê²°ê³¼ ë³´ê¸°</button>
    <button class="btn btn-secondary" onclick="restart()" style="width:100%;margin-bottom:16px">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸</button>
    `:`
    ${sb?`
    <div class="card" style="text-align:center;background:linear-gradient(135deg,#F3F0FF 0%,#EBF5FF 100%);border:2px solid #C4B5FD">
      <div style="font-size:36px;margin-bottom:8px">ğŸ‘¥</div>
      <p style="font-size:16px;font-weight:700;color:#374151;margin-bottom:6px">ìš°ë¦¬ íŒ€ ì¡°í•©ë„ ì•Œì•„ë³´ì„¸ìš”</p>
      <p style="font-size:13px;color:#6B7280;line-height:1.6;margin-bottom:16px">íŒ€ì„ ë§Œë“¤ê³  ë§í¬ë¥¼ ê³µìœ í•˜ë©´, íŒ€ì›ë“¤ì´<br>í…ŒìŠ¤íŠ¸ë¥¼ í•˜ëŠ” ëŒ€ë¡œ ìë™ìœ¼ë¡œ ê²°ê³¼ê°€ ëª¨ì—¬ìš”</p>
      <div style="display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-bottom:16px">
        ${[["ğŸ“Š","íŒ€ ìœ í˜• ë¶„í¬ & ë°¸ëŸ°ìŠ¤"],["ğŸ¤","1:1 ë§ì¶¤ ì†Œí†µ ê°€ì´ë“œ"],["ğŸ“‹","ê³¼ì—…ë³„ ë¦¬ë“œ/ì„œí¬íŠ¸ ì¶”ì²œ"]].map(([i,t])=>`<span style="font-size:12px;padding:6px 12px;background:#fff;border:1px solid #E5E7EB;border-radius:10px;color:#374151">${i} ${t}</span>`).join("")}
      </div>
      <button class="btn btn-primary" onclick="goCreateTeam()">ìš°ë¦¬ íŒ€ ë§Œë“¤ê¸°</button>
    </div>`:``}
    <button class="btn btn-secondary" onclick="restart()" style="width:100%;margin-bottom:16px">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸</button>
    `}
    <div style="height:32px"></div>
  </div>`;
}

function renderTeamLoading(){
  app().innerHTML=`
  <div class="fade-in" style="padding-top:80px;text-align:center">
    <div style="margin-bottom:16px"><span class="spinner"></span></div>
    <h2 style="font-size:18px;font-weight:700;margin-bottom:8px">íŒ€ ê²°ê³¼ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</h2>
    <p style="font-size:14px;color:#6B7280">${state.teamName?'"'+state.teamName+'" íŒ€':''}</p>
  </div>`;
}
async function loadTeamFromSupabase(){
  try{
    const results=await sbLoadResults(state.teamId);
    state.members=results.map(r=>({name:r.name,se:r.se_score,pt:r.pt_score,typeKey:r.type_key}));
    state._teamLoaded=true;
    render();
  }catch(e){
    app().innerHTML=`
    <div class="fade-in" style="padding-top:80px;text-align:center">
      <div style="font-size:48px;margin-bottom:16px">ğŸ˜¢</div>
      <h2 style="font-size:18px;font-weight:700;margin-bottom:8px">íŒ€ ê²°ê³¼ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆì–´ìš”</h2>
      <p style="font-size:14px;color:#6B7280;margin-bottom:24px">${e.message}</p>
      <button class="btn btn-primary" onclick="state._teamLoaded=false;render()">ë‹¤ì‹œ ì‹œë„</button>
      <button class="btn btn-secondary" onclick="state.screen='intro';render()" style="margin-top:10px">ì²˜ìŒìœ¼ë¡œ</button>
    </div>`;
  }
}

function renderTeam(){
  // Supabase team: auto-load results
  if(state.mode==="team"&&state.teamId&&sb&&!state._teamLoaded){
    renderTeamLoading();loadTeamFromSupabase();return;
  }
  const myTk=typeFromScores(state.scores.SE,state.scores.PT);
  if(state.members.length===0){
    if(state.userName){state.members=[{name:state.userName,se:state.scores.SE,pt:state.scores.PT,typeKey:myTk}];}
    else{state.members=[{name:"ë‚˜",se:0,pt:0,typeKey:"allrounder"}];}
  }

  // Type counts
  const typeCounts={};
  state.members.forEach(m=>{typeCounts[m.typeKey]=(typeCounts[m.typeKey]||0)+1;});
  const missing=TYPES.filter(t=>!typeCounts[t]);

  // Selected member for relationship network
  const selIdx=Math.min(state.selectedMember||0,state.members.length-1);
  const selMember=state.members[selIdx];
  const selOthers=state.members.filter((_,i)=>i!==selIdx);

  app().innerHTML=`
  <div class="fade-in">
    ${state.userName?`<button onclick="goResult()" style="display:flex;align-items:center;gap:6px;font-size:14px;color:#6B7280;background:none;border:none;cursor:pointer;padding:12px 0;font-weight:600;font-family:inherit">â† ë‚´ ê²°ê³¼ë¡œ ëŒì•„ê°€ê¸°</button>`:''}
    <h2 style="font-size:24px;font-weight:800;margin-bottom:8px">ğŸ‘¥ ${state.mode==="team"&&state.teamName?state.teamName+' ':''} íŒ€ ì¡°í•© ë¶„ì„</h2>
    <p style="font-size:14px;color:#9CA3AF;margin-bottom:24px">${state.mode==="team"?'íŒ€ì›ë“¤ì´ í…ŒìŠ¤íŠ¸ë¥¼ ì™„ë£Œí•˜ë©´ ìë™ìœ¼ë¡œ ì—¬ê¸°ì— ë‚˜íƒ€ë‚˜ìš”':'íŒ€ì›ë“¤ì˜ ê³µìœ  ì½”ë“œë¥¼ ë¶™ì—¬ë„£ì–´ í•œëˆˆì— ë¹„êµí•˜ì„¸ìš”'}</p>

    <!-- Chart -->
    <div class="card">${makeChart(state.members,320)}</div>

    <!-- Type Distribution -->
    ${state.members.length>1?`
    <div class="card">
      <div class="sec-title">ğŸ“Š íŒ€ ì¸ì‚¬ì´íŠ¸</div>
      <div style="display:flex;flex-wrap:wrap;gap:8px;margin-bottom:14px">
        ${TYPES.map(tk=>{const cnt=typeCounts[tk]||0;const t=T[tk];return`
          <div style="flex:1 1 30%;min-width:90px;padding:10px 6px;background:${cnt>0?t.colorBg:"#F9FAFB"};border-radius:12px;border:1px solid ${cnt>0?t.colorLight:"#E5E7EB"};text-align:center">
            <div style="font-size:18px">${t.emoji}</div>
            <div style="font-size:11px;font-weight:700;color:${cnt>0?t.color:"#9CA3AF"};margin-top:3px">${t.name}</div>
            <div style="font-size:16px;font-weight:800;color:${cnt>0?t.color:"#D1D5DB"};margin-top:1px">${cnt}ëª…</div>
          </div>`;}).join("")}
      </div>
      ${missing.length>0&&missing.length<=5?`
      <div style="background:#FFFBEB;border-radius:12px;padding:14px;border:1px solid #FDE68A">
        <p style="font-size:13px;font-weight:700;color:#92400E;margin-bottom:4px">ğŸ’¡ ìš°ë¦¬ íŒ€ì— ë¶€ì¡±í•œ ê´€ì </p>
        <p style="font-size:14px;color:#374151;line-height:1.6">${missing.map(tk=>T[tk].name).join(", ")} ìœ í˜•ì´ ì—†ì–´ìš”. í•´ë‹¹ ê´€ì ì„ ì˜ì‹ì ìœ¼ë¡œ ë³´ì™„í•˜ë©´ ì¢‹ì•„ìš”.</p>
      </div>`:missing.length===0?`
      <div style="background:#F0FDF4;border-radius:12px;padding:14px;border:1px solid #BBF7D0">
        <p style="font-size:13px;font-weight:700;color:#059669;margin-bottom:4px">âœ¨ ë‹¤ì–‘í•œ ê´€ì ì˜ íŒ€!</p>
        <p style="font-size:14px;color:#374151;line-height:1.6">9ê°€ì§€ ìœ í˜•ì´ ëª¨ë‘ ìˆì–´ìš”. ê° ìœ í˜•ì˜ ê°•ì ì„ ì‚´ë ¤ ì—­í• ì„ ë‚˜ëˆ„ë©´ ì‹œë„ˆì§€ê°€ ë‚  ê±°ì˜ˆìš”.</p>
      </div>`:``}
    </div>
    `:""}

    <!-- Relationship Network -->
    ${selOthers.length>0?`
    <div class="card">
      <div class="sec-title">ğŸ”— ê´€ê³„ ì†Œí†µ ë„¤íŠ¸ì›Œí¬</div>
      <p style="font-size:13px;color:#9CA3AF;margin-bottom:16px">íŒ€ì›ì„ í´ë¦­í•˜ë©´ ê·¸ ì‚¬ëŒ ê¸°ì¤€ì˜ ì†Œí†µ ê°€ì´ë“œë¥¼ ë³¼ ìˆ˜ ìˆì–´ìš”</p>
      ${makeRelNetwork(state.members,selIdx)}
      <div style="text-align:center;margin:20px 0 4px">
        <span style="font-size:24px">${T[selMember.typeKey].emoji}</span>
        <span style="font-size:17px;font-weight:800;color:${T[selMember.typeKey].color};margin-left:6px">${selMember.name}</span>
        <span style="font-size:14px;color:#9CA3AF"> ê¸°ì¤€ ì†Œí†µ ê°€ì´ë“œ</span>
      </div>
      <p style="font-size:12px;color:#9CA3AF;text-align:center;margin-bottom:18px">${selMember.name}ì´(ê°€) ê° íŒ€ì›ì—ê²Œ ë‹¤ê°€ê°ˆ ë•Œ ì´ë ‡ê²Œ í•˜ë©´ ì¢‹ì•„ìš”</p>
      ${selOthers.map(other=>{
        const key=getBaseType(selMember.typeKey)+">"+getBaseType(other.typeKey);
        const guide=REL_GUIDE[key]||REL_GUIDE[getBaseType(selMember.typeKey)+">"+getBaseType(selMember.typeKey)];
        const ot=T[other.typeKey];
        return`
        <div style="border:1px solid ${ot.colorLight};border-radius:14px;padding:16px;margin-bottom:12px;background:${ot.colorBg}22">
          <div style="display:flex;align-items:center;gap:8px;margin-bottom:12px">
            <span style="font-size:20px">${ot.emoji}</span>
            <div>
              <div style="font-size:15px;font-weight:700;color:${ot.color}">${other.name}</div>
              <div style="font-size:12px;color:#9CA3AF">${ot.name}</div>
            </div>
          </div>
          ${[{icon:"ğŸ“¨",label:"ìš”ì²­í•  ë•Œ",text:guide.req},{icon:"ğŸ’¬",label:"í”¼ë“œë°±í•  ë•Œ",text:guide.fb},{icon:"âš ï¸",label:"ì£¼ì˜",text:guide.warn},{icon:"âœ¨",label:"ì‹œë„ˆì§€",text:guide.synergy}].map((item,i)=>`
            <div style="padding:10px 12px;background:${i%2===0?"#fff":"#FAFAFA"};border-radius:10px;margin-bottom:${i<3?6:0}px">
              <span style="font-size:12px;font-weight:700;color:${ot.color}">${item.icon} ${item.label}</span>
              <p style="font-size:13px;color:#374151;line-height:1.6;margin-top:4px">${item.text}</p>
            </div>`).join("")}
        </div>`;}).join("")}
    </div>`:""}

    <!-- Task Recommendations -->
    ${state.members.length>1?`
    <div class="card">
      <div class="sec-title">ğŸ“‹ ê³¼ì—…ë³„ ë¦¬ë“œ/ì„œí¬íŠ¸ ì¶”ì²œ</div>
      <p style="font-size:12px;color:#9CA3AF;margin-bottom:14px">'ì´ ì‚¬ëŒë§Œ í•´ë¼'ê°€ ì•„ë‹ˆë¼ 'ì´ ì¡°í•©ì´ ì‹œë„ˆì§€ ë‚˜ìš”'ë¼ëŠ” ì œì•ˆì´ì—ìš”</p>
      ${TASKS.map(task=>{
        const leads=state.members.filter(m=>getBaseType(m.typeKey)===task.lead);
        const supports=state.members.filter(m=>getBaseType(m.typeKey)===task.support);
        if(leads.length===0&&supports.length===0) return "";
        return`
        <div style="padding:14px;background:#F9FAFB;border-radius:12px;margin-bottom:8px">
          <div style="font-size:14px;font-weight:700;color:#1A1A2E;margin-bottom:8px">${task.name}</div>
          <div style="display:flex;flex-wrap:wrap;gap:6px">
            ${leads.map(l=>`<span style="font-size:12px;padding:4px 10px;background:${T[l.typeKey].colorBg};color:${T[l.typeKey].color};border-radius:8px;border:1px solid ${T[l.typeKey].colorLight};font-weight:600">${T[l.typeKey].emoji} ${l.name} Â· ë¦¬ë“œ</span>`).join("")}
            ${supports.map(s=>`<span style="font-size:12px;padding:4px 10px;background:#F3F4F6;color:#6B7280;border-radius:8px;border:1px solid #E5E7EB">${T[s.typeKey].emoji} ${s.name} Â· ì„œí¬íŠ¸</span>`).join("")}
          </div>
        </div>`;}).join("")}
    </div>`:""}

    <!-- Member List -->
    <div class="card">
      <div class="sec-title">ğŸ‘¤ íŒ€ì› ëª©ë¡</div>
      ${state.members.map((m,i)=>{const isMe=m.name===state.userName;return`
        <div style="display:flex;align-items:center;gap:10px;padding:10px 14px;background:${isMe?T[m.typeKey].colorBg:"#F9FAFB"};border-radius:12px;margin-bottom:8px">
          <span style="font-size:20px">${T[m.typeKey].emoji}</span>
          <div style="flex:1">
            <div style="font-size:14px;font-weight:700;color:#1A1A2E">${m.name} ${isMe?`<span style="font-size:11px;color:${T[m.typeKey].color};font-weight:600">(ë‚˜)</span>`:""}</div>
            <div style="font-size:12px;color:#9CA3AF">${T[m.typeKey].name} Â· ${m.se}/${m.pt}</div>
          </div>
          ${state.mode!=="team"&&i>0?`<button onclick="removeMember(${i})" style="background:none;border:none;cursor:pointer;font-size:16px;color:#D1D5DB;padding:4px">âœ•</button>`:""}
        </div>`;}).join("")}

      <!-- Add members -->
      ${state.mode==="team"?`
      <div style="margin-top:16px;padding:16px;background:#F3F0FF;border-radius:14px;text-align:center;border:1px solid #C4B5FD">
        <p style="font-size:13px;font-weight:600;color:#374151;margin-bottom:8px">íŒ€ì› ì´ˆëŒ€í•˜ê¸°</p>
        <p style="font-size:12px;color:#9CA3AF;margin-bottom:12px">ì•„ë˜ ë§í¬ë¥¼ íŒ€ì›ì—ê²Œ ê³µìœ í•˜ì„¸ìš”</p>
        <button class="btn btn-primary" onclick="copyInviteLink()" id="inviteCopyBtn" style="font-size:14px;padding:12px">ğŸ“‹ ì´ˆëŒ€ ë§í¬ ë³µì‚¬</button>
        <button class="btn btn-secondary" onclick="state._teamLoaded=false;render()" style="margin-top:8px;font-size:13px;padding:10px">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
      </div>
      `:`
      <div style="margin-top:16px;padding:16px;background:#F9FAFB;border-radius:14px">
        <p style="font-size:13px;font-weight:600;color:#374151;margin-bottom:8px">íŒ€ì› ì½”ë“œë¡œ ì¶”ê°€</p>
        <p style="font-size:12px;color:#9CA3AF;margin-bottom:12px">íŒ€ì›ì´ ê³µìœ í•œ ì½”ë“œë¥¼ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”. ì—¬ëŸ¬ ì¤„ë„ ê°€ëŠ¥í•´ìš”!</p>
        <textarea id="codeInput" class="input" rows="3" placeholder="ì˜ˆì‹œ:&#10;ê¹€ëª¨ë¹„:A:-6:3:SP&#10;ê¹€ë¯¼ìˆ˜:D:8:5:ES" style="resize:vertical;margin-bottom:10px"></textarea>
        <button class="btn btn-primary" onclick="addByCode()" style="font-size:14px;padding:12px">+ ì½”ë“œë¡œ ì¶”ê°€</button>
      </div>
      `}
    </div>

    <!-- Team Share Link -->
    ${state.mode==="team"?'':(state.members.length>1?`
    <div class="card" style="text-align:center;background:linear-gradient(135deg,#F3F0FF 0%,#EBF5FF 100%);border:1px solid #C4B5FD">
      <div style="font-size:28px;margin-bottom:8px">ğŸ”—</div>
      <p style="font-size:15px;font-weight:700;color:#374151;margin-bottom:6px">íŒ€ ê³µìœ  ë§í¬</p>
      <p style="font-size:12px;color:#9CA3AF;margin-bottom:14px;line-height:1.5">ì´ ë§í¬ë¥¼ ê³µìœ í•˜ë©´ ëˆ„êµ¬ë‚˜ íŒ€ ì¡°í•© ë¶„ì„ì„<br>ë°”ë¡œ ë³¼ ìˆ˜ ìˆì–´ìš” (ë¡œê·¸ì¸/ì…ë ¥ í•„ìš” ì—†ìŒ)</p>
      <button class="btn btn-primary" onclick="copyTeamLink()" id="teamLinkBtn" style="font-size:14px;padding:12px">ğŸ”— íŒ€ ë§í¬ ë³µì‚¬</button>
    </div>`:"")}

    <!-- All types reference -->
    <div class="card">
      <div class="sec-title">ğŸ“– 9ê°€ì§€ ìœ í˜• ì°¸ê³ </div>
      ${TYPES.map(tk=>{const typ=T[tk];return`
        <div style="padding:14px;border-left:3px solid ${typ.color};margin-bottom:12px;background:#FAFAFA;border-radius:0 12px 12px 0">
          <div style="display:flex;align-items:center;gap:8px;margin-bottom:6px">
            <span style="font-size:22px">${typ.emoji}</span>
            <div><div style="font-size:15px;font-weight:700;color:${typ.color}">${typ.name}</div><div style="font-size:12px;color:#9CA3AF">${typ.subtitle}</div></div>
          </div>
          <div style="display:flex;flex-wrap:wrap;gap:4px;margin-top:6px">${typ.energyUp.slice(0,3).map(x=>`<span style="font-size:11px;padding:3px 7px;background:#F0FDF4;color:#166534;border-radius:6px">ğŸ”‹ ${x}</span>`).join("")}</div>
        </div>`;}).join("")}
    </div>

    <div style="height:48px"></div>
  </div>`;
}

/* ===== CHART HELPER ===== */
function makeChart(members,size){
  size=size||280;
  let dots=members.map(m=>{
    const x=((m.pt+16)/32)*100;
    const y=((m.se+16)/32)*100;
    const c=T[m.typeKey].color;
    const cx=Math.min(92,Math.max(8,x));
    const cy=Math.min(92,Math.max(8,y));
    return`<div class="dot" style="left:${cx}%;top:${cy}%"><div class="dot-circle" style="background:${c};box-shadow:0 0 0 4px ${c}33,0 2px 8px ${c}44"></div><span class="dot-name" style="color:${c}">${m.name}</span></div>`;
  }).join("");

  return`
  <div class="chart-wrap" style="max-width:${size}px">
    <div class="axis-h"></div><div class="axis-v"></div>
    <div class="chart-quad" style="top:20%;left:25%;color:#6C5CE7">ğŸ›ï¸ ì¡°ì§ ì„¤ê³„ì</div>
    <div class="chart-quad" style="top:20%;left:75%;color:#0984E3">âš™ï¸ ì‹œìŠ¤í…œ ë¹Œë”</div>
    <div class="chart-quad" style="top:80%;left:25%;color:#E17055">ğŸ¤ í”¼í”Œ ì»¤ë„¥í„°</div>
    <div class="chart-quad" style="top:80%;left:75%;color:#00B894">ğŸš€ ì‹¤í–‰ ë“œë¼ì´ë²„</div>
    <div class="chart-label" style="top:6px;left:50%;transform:translateX(-50%)">ì „ëµí˜• â†‘</div>
    <div class="chart-label" style="bottom:6px;left:50%;transform:translateX(-50%)">â†“ ì‹¤í–‰í˜•</div>
    <div class="chart-label" style="left:6px;top:50%;transform:translateY(-50%)">ê´€ê³„ â†</div>
    <div class="chart-label" style="right:6px;top:50%;transform:translateY(-50%)">â†’ ê³¼ì—…</div>
    ${dots}
  </div>`;
}

/* ===== RELATIONSHIP NETWORK ===== */
function makeRelNetwork(members,selIdx){
  const count=members.length;
  if(count<2)return'';
  const size=280;
  const cx=size/2,cy=size/2;
  const r=count<=3?80:count<=5?95:100;
  const pos=[];
  for(let i=0;i<count;i++){
    const angle=(2*Math.PI*i/count)-Math.PI/2;
    pos.push({x:cx+r*Math.cos(angle),y:cy+r*Math.sin(angle)});
  }
  let lines='';
  for(let i=0;i<count;i++){
    for(let j=i+1;j<count;j++){
      const isSel=i===selIdx||j===selIdx;
      const c=isSel?T[members[selIdx].typeKey].color:'#E5E7EB';
      lines+=`<line x1="${pos[i].x.toFixed(1)}" y1="${pos[i].y.toFixed(1)}" x2="${pos[j].x.toFixed(1)}" y2="${pos[j].y.toFixed(1)}" stroke="${c}" stroke-width="${isSel?2.5:1}" opacity="${isSel?0.5:0.2}" stroke-linecap="round"/>`;
    }
  }
  const nodes=members.map((m,i)=>{
    const t=T[m.typeKey];
    const isSel=i===selIdx;
    const s=isSel?54:44;
    return`<div onclick="selectMember(${i})" style="position:absolute;left:${(pos[i].x/size*100).toFixed(1)}%;top:${(pos[i].y/size*100).toFixed(1)}%;transform:translate(-50%,-50%);cursor:pointer;text-align:center;z-index:${isSel?2:1}">
      <div style="width:${s}px;height:${s}px;border-radius:50%;background:${isSel?t.color:'#fff'};border:3px solid ${t.color};display:flex;align-items:center;justify-content:center;font-size:${isSel?24:18}px;box-shadow:${isSel?'0 4px 14px '+t.color+'44':'0 2px 6px rgba(0,0,0,.08)'};margin:0 auto;transition:all .15s">${t.emoji}</div>
      <div style="font-size:${isSel?12:11}px;font-weight:${isSel?800:600};color:${isSel?t.color:'#6B7280'};margin-top:4px;white-space:nowrap">${m.name}</div>
    </div>`;
  }).join('');
  return`<div style="position:relative;width:100%;max-width:${size}px;height:${size}px;margin:0 auto">
    <svg viewBox="0 0 ${size} ${size}" style="position:absolute;inset:0;width:100%;height:100%">${lines}</svg>
    ${nodes}
  </div>`;
}

function selectMember(idx){
  state.selectedMember=idx;
  skipScroll=true;
  render();
}

/* ===== ACTIONS ===== */
function startTest(){
  state={screen:"questions",qIdx:0,scores:{SE:0,PT:0},strengthScores:{...EMPTY_SS},sqIdx:0,userName:"",members:[],selectedMember:0,
    mode:"solo",teamId:null,teamName:"",loading:false,error:null,_teamLoaded:false,sharedResult:false};
  render();
}

function answerQ(val,btnIdx){
  const q=QUESTIONS[state.qIdx];
  const actualVal=q.rev?-val:val;
  state.scores[q.axis]+=actualVal;

  // highlight button
  const colors=["#6C5CE7","#A29BFE","#74B9FF","#0984E3"];
  const btns=document.querySelectorAll(".scale-btn");
  btns.forEach((b,i)=>{b.style.pointerEvents="none";});
  btns[btnIdx].style.background=colors[btnIdx];
  btns[btnIdx].style.borderColor=colors[btnIdx];
  btns[btnIdx].style.boxShadow=`0 0 0 4px ${colors[btnIdx]}33`;
  btns[btnIdx].classList.add("selected");

  setTimeout(()=>{
    if(state.qIdx+1<QUESTIONS.length){state.qIdx++;state.screen="questions";}
    else{state.sqIdx=0;state.screen="strength";}
    render();
  },450);
}

function answerSQ(val,btnIdx){
  const sq=STRENGTH_QUESTIONS[state.sqIdx];
  // A(left) â† negative val, B(right) â† positive val
  state.strengthScores[sq.left]+=-val;
  state.strengthScores[sq.right]+=val;

  // highlight (same animation as answerQ)
  const colors=["#6C5CE7","#A29BFE","#74B9FF","#0984E3"];
  const btns=document.querySelectorAll(".scale-btn");
  btns.forEach(b=>{b.style.pointerEvents="none";});
  btns[btnIdx].style.background=colors[btnIdx];
  btns[btnIdx].style.borderColor=colors[btnIdx];
  btns[btnIdx].style.boxShadow=`0 0 0 4px ${colors[btnIdx]}33`;
  btns[btnIdx].classList.add("selected");

  setTimeout(()=>{
    if(state.sqIdx+1<STRENGTH_QUESTIONS.length){state.sqIdx++;state.screen="strength";}
    else state.screen="name";
    render();
  },450);
}

async function submitName(){
  const inp=$("nameInput");
  if(inp&&inp.value.trim()){state.userName=inp.value.trim();}
  else{state.userName="ë‚˜";}
  saveMyResult();
  state.screen="result";
  render();
  // Supabase save (optimistic â€” result screen already shown)
  if(state.mode==="team"&&state.teamId&&sb){
    const tk=typeFromScores(state.scores.SE,state.scores.PT);
    const rankedS=Object.entries(state.strengthScores).sort((a,b)=>b[1]-a[1]).map(s=>s[0]);
    try{
      await sbSaveResult(state.teamId,state.userName,state.scores.SE,state.scores.PT,tk,rankedS);
      saveTeamMembership(state.teamId,state.userName);
      showToast('ê²°ê³¼ê°€ íŒ€ì— ì €ì¥ëì–´ìš”!');
    }catch(e){
      showToast('ì €ì¥ ì‹¤íŒ¨... ë‹¤ì‹œ ì‹œë„í•©ë‹ˆë‹¤.');
      try{await sbSaveResult(state.teamId,state.userName,state.scores.SE,state.scores.PT,tk,rankedS);saveTeamMembership(state.teamId,state.userName);showToast('ì €ì¥ ì™„ë£Œ!');}
      catch(e2){showToast('ì €ì¥ì— ì‹¤íŒ¨í–ˆì–´ìš”. íŒ€ í˜ì´ì§€ì—ì„œ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');}
    }
  }
}


function goTeam(){state.screen="team";if(state.mode==="team")state._teamLoaded=false;else saveTeam();render();}
function goResult(){state.screen="result";render();}
function restart(){startTest();}
function goSavedResult(){
  if(loadMyResult()){
    loadTeam();
    const savedTeam=loadMyTeamContext();
    if(savedTeam&&sb){state.mode="team";state.teamId=savedTeam.teamId;state.teamName=savedTeam.teamName;}
    state.screen="result";render();
  }
}

/* --- Team flow actions --- */
function goCreateTeam(){state.screen="createTeam";state.error=null;render();}

async function handleCreateTeam(){
  const inp=$("teamNameInput");
  const name=inp?inp.value.trim():'';
  if(!name){inp.style.borderColor='#DC2626';setTimeout(()=>{inp.style.borderColor='#E5E7EB';},2000);return;}
  state.loading=true;state.error=null;render();
  try{
    const team=await sbCreateTeam(name);
    state.mode="team";state.teamId=team.id;state.teamName=team.name;
    saveMyTeamContext(team.id,team.name);
    // Auto-save creator's result to the new team
    if(state.userName&&state.scores){
      const tk=typeFromScores(state.scores.SE,state.scores.PT);
      const rankedS=Object.entries(state.strengthScores).sort((a,b)=>b[1]-a[1]).map(s=>s[0]);
      await sbSaveResult(team.id,state.userName,state.scores.SE,state.scores.PT,tk,rankedS);
      saveTeamMembership(team.id,state.userName);
    }
    state.loading=false;state.screen="inviteLink";render();
  }catch(e){
    state.loading=false;state.error={message:'íŒ€ ìƒì„±ì— ì‹¤íŒ¨í–ˆì–´ìš”. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.'};render();
  }
}

function copyInviteLink(){
  const link=location.origin+location.pathname+'?team='+state.teamId;
  const msg=`ğŸ§­ ë‚˜ëŠ” ì–´ë–¤ HRBPì¼ê¹Œ?\n\n"${state.teamName||'ìš°ë¦¬'}" íŒ€ HRBP ìœ í˜• ì§„ë‹¨ì— ì´ˆëŒ€ë°›ì•˜ì–´ìš”!\n22ë¬¸í•­ Â· ì•½ 5ë¶„ì´ë©´ ëë‚˜ìš”.\n\nğŸ‘‰ ${link}`;
  copyToClipboard(msg,'inviteCopyBtn','ğŸ“‹ ì´ˆëŒ€ ë§í¬ ë³µì‚¬');
}

function shareMyResult(){
  const link=getResultShareLink();
  const tk=typeFromScores(state.scores.SE,state.scores.PT);
  const t=T[tk];
  const msg=`ğŸ§­ ë‚˜ì˜ HRBP ìœ í˜•ì€ "${t.emoji} ${t.name}"!\n${t.subtitle}\n\në„ˆë„ ê¶ê¸ˆí•˜ë©´ í•´ë´! 22ë¬¸í•­ Â· ì•½ 5ë¶„\nğŸ‘‰ ${link}`;
  copyToClipboard(msg,'shareResultBtn','ğŸ”— ë‚´ ê²°ê³¼ ê³µìœ í•˜ê¸°');
}

function startTeamTest(){
  state.screen="questions";state.qIdx=0;state.scores={SE:0,PT:0};
  state.strengthScores={...EMPTY_SS};state.sqIdx=0;render();
}

function startTeamTestAsJoiner(){
  const inp=$("joinNameInput");
  const name=inp?inp.value.trim():'';
  if(!name){inp.style.borderColor='#DC2626';setTimeout(()=>{inp.style.borderColor='#E5E7EB';},2000);return;}
  state.userName=name;state.screen="questions";state.qIdx=0;
  state.scores={SE:0,PT:0};state.strengthScores={...EMPTY_SS};state.sqIdx=0;render();
}

function goTeamView(){state._teamLoaded=false;state.screen="team";render();}
function goTeamViewDirect(){
  // Go directly to team view without taking test (for those who already completed it or just want to see results)
  state._teamLoaded=false;state.screen="team";render();
}

function saveTeamMembership(teamId,userName){
  try{localStorage.setItem('hrbp_tm_'+teamId,JSON.stringify({userName,ts:Date.now()}));}catch(e){}
}
function getTeamMembership(teamId){
  try{const d=JSON.parse(localStorage.getItem('hrbp_tm_'+teamId));return d?d.userName:null;}catch(e){return null;}
}
function saveMyTeamContext(teamId,teamName){
  try{localStorage.setItem('hrbp_my_team',JSON.stringify({teamId,teamName,ts:Date.now()}));}catch(e){}
}
function loadMyTeamContext(){
  try{const d=JSON.parse(localStorage.getItem('hrbp_my_team'));if(d&&d.teamId)return d;return null;}catch(e){return null;}
}

function showToast(msg){
  let t=document.getElementById('toast');
  if(!t){t=document.createElement('div');t.id='toast';t.style.cssText='position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:#1A1A2E;color:#fff;padding:12px 24px;border-radius:12px;font-size:14px;font-family:inherit;z-index:9999;box-shadow:0 4px 16px rgba(0,0,0,.2);transition:opacity .3s';document.body.appendChild(t);}
  t.textContent=msg;t.style.opacity='1';
  clearTimeout(t._timer);t._timer=setTimeout(()=>{t.style.opacity='0';},3000);
}

function copyToClipboard(text,btnId,originalText){
  navigator.clipboard.writeText(text).then(()=>{
    const btn=$(btnId);if(btn){btn.textContent='âœ… ë³µì‚¬ ì™„ë£Œ!';setTimeout(()=>{btn.textContent=originalText;},2000);}
  }).catch(()=>{
    const ta=document.createElement('textarea');ta.value=text;document.body.appendChild(ta);ta.select();document.execCommand('copy');document.body.removeChild(ta);
    const btn=$(btnId);if(btn){btn.textContent='âœ… ë³µì‚¬ ì™„ë£Œ!';setTimeout(()=>{btn.textContent=originalText;},2000);}
  });
}
function copyTeamLink(){
  const link=getTeamLink();
  navigator.clipboard.writeText(link).then(()=>{
    const btn=$("teamLinkBtn");btn.textContent="âœ… ë³µì‚¬ ì™„ë£Œ!";
    setTimeout(()=>{btn.textContent="ğŸ”— íŒ€ ë§í¬ ë³µì‚¬";},2000);
  }).catch(()=>{
    const ta=document.createElement("textarea");ta.value=link;document.body.appendChild(ta);ta.select();document.execCommand("copy");document.body.removeChild(ta);
    const btn=$("teamLinkBtn");btn.textContent="âœ… ë³µì‚¬ ì™„ë£Œ!";
    setTimeout(()=>{btn.textContent="ğŸ”— íŒ€ ë§í¬ ë³µì‚¬";},2000);
  });
}

function removeMember(idx){
  if(idx===0)return;
  state.members.splice(idx,1);
  if(state.selectedMember>=state.members.length)state.selectedMember=0;
  saveTeam();
  skipScroll=true;
  render();
}

function addByCode(){
  const input=$("codeInput");
  if(!input||!input.value.trim())return;
  const lines=input.value.trim().split("\n");
  const codeMap={A:"architect",S:"strategist",B:"builder",F:"facilitator",X:"allrounder",M:"taskmaster",C:"connector",E:"executor",D:"driver"};
  let added=0;
  lines.forEach(line=>{
    const parts=line.trim().split(":");
    if(parts.length>=4){
      const name=parts[0].trim();
      const typeCode=parts[1].trim().toUpperCase();
      const se=parseInt(parts[2]);
      const pt=parseInt(parts[3]);
      if(name&&codeMap[typeCode]&&!isNaN(se)&&!isNaN(pt)){
        // check duplicate
        if(!state.members.find(m=>m.name===name)){
          state.members.push({name,se:Math.max(-16,Math.min(16,se)),pt:Math.max(-16,Math.min(16,pt)),typeKey:codeMap[typeCode]});
          added++;
        }
      }
    }
  });
  if(added>0){input.value="";saveTeam();skipScroll=true;render();}
  else{input.style.borderColor="#DC2626";setTimeout(()=>{input.style.borderColor="#E5E7EB";},2000);}
}

/* ===== INIT ===== */
(async function init(){
  const params=new URLSearchParams(location.search);
  const teamIdParam=params.get('team');

  if(teamIdParam&&sb){
    // Opening an invite link
    state.mode="team";state.teamId=teamIdParam;
    state.screen="teamJoin";state.loading=true;
    render();
    try{
      const team=await sbGetTeam(teamIdParam);
      state.teamName=team.name;state.loading=false;
      saveMyTeamContext(teamIdParam,team.name);
      const savedName=getTeamMembership(teamIdParam);
      if(savedName){
        loadMyResult();state.userName=savedName;
        state.screen="team";
      }
      render();
    }catch(e){
      state.loading=false;
      state.error={message:'ë§í¬ê°€ ì˜¬ë°”ë¥´ì§€ ì•Šê±°ë‚˜, íŒ€ì´ ì‚­ì œë˜ì—ˆì„ ìˆ˜ ìˆì–´ìš”.'};
      render();
    }
  } else if(parseResultParam()){
    // Individual result sharing link (?r=...)
    state.screen="result";render();
  } else if(parseTeamHash()){
    loadMyResult();state.screen="team";render();
  } else {
    const hasResult=loadMyResult();loadTeam();
    const savedTeam=loadMyTeamContext();
    if(savedTeam&&sb){
      state.mode="team";state.teamId=savedTeam.teamId;state.teamName=savedTeam.teamName;
      const savedName=getTeamMembership(savedTeam.teamId);
      if(savedName)state.userName=savedName;
      if(hasResult)state.screen="result";
    }
    render();
  }
})();
</script>
</body>
</html>
